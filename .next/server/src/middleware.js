(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{58:(a,b,c)=>{"use strict";c.d(b,{xl:()=>g});let d=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class e{disable(){throw d}getStore(){}run(){throw d}exit(){throw d}enterWith(){throw d}static bind(a){return a}}let f="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function g(){return f?new f:new e}},66:(a,b,c)=>{"use strict";c.d(b,{RM:()=>f,s8:()=>e});let d=new Set(Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401})),e="NEXT_HTTP_ERROR_FALLBACK";function f(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let[b,c]=a.digest.split(";");return b===e&&d.has(Number(c))}},107:(a,b,c)=>{"use strict";c.d(b,{wi:()=>m,I3:()=>k,Ui:()=>i,xI:()=>g,Pk:()=>h});var d=c(814),e=c(159);c(979),c(128),c(379),c(770),c(340),c(809);let f="function"==typeof d.unstable_postpone;function g(a,b,c){let d=Object.defineProperty(new e.F(`Route ${b.route} couldn't be rendered statically because it used \`${a}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw c.revalidate=0,b.dynamicUsageDescription=a,b.dynamicUsageStack=d.stack,d}function h(a){switch(a.type){case"cache":case"unstable-cache":case"private-cache":return}}function i(a,b,c){(function(){if(!f)throw Object.defineProperty(Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E224",enumerable:!1,configurable:!0})})(),c&&c.dynamicAccesses.push({stack:c.isDebugDynamicAccesses?Error().stack:void 0,expression:b}),d.unstable_postpone(j(a,b))}function j(a,b){return`Route ${a} needs to bail out of prerendering at this point because it used ${b}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function k(a){return"object"==typeof a&&null!==a&&"string"==typeof a.message&&l(a.message)}function l(a){return a.includes("needs to bail out of prerendering at this point because it used")&&a.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===l(j("%%%","^^^")))throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});function m(a,b){return a.runtimeStagePromise?a.runtimeStagePromise.then(()=>b):b}RegExp(`\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)`),RegExp(`\\n\\s+at __next_metadata_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_viewport_boundary__[\\n\\s]`),RegExp(`\\n\\s+at __next_outlet_boundary__[\\n\\s]`)},128:(a,b,c)=>{"use strict";c.d(b,{M1:()=>e,FP:()=>d});let d=(0,c(58).xl)();function e(a){throw Object.defineProperty(Error(`\`${a}\` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context`),"__NEXT_ERROR_CODE",{value:"E251",enumerable:!1,configurable:!0})}},150:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f=(a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})},g={};f(g,{Decimal:()=>a0,Public:()=>h,getRuntime:()=>v,makeStrictEnum:()=>t,objectEnumValues:()=>q}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),g);var h={};function i(){return a=>a}f(h,{validator:()=>i});var j=Symbol(),k=new WeakMap,l=class{constructor(a){a===j?k.set(this,"Prisma.".concat(this._getName())):k.set(this,"new Prisma.".concat(this._getNamespace(),".").concat(this._getName(),"()"))}_getName(){return this.constructor.name}toString(){return k.get(this)}},m=class extends l{_getNamespace(){return"NullTypes"}},n=class extends m{};r(n,"DbNull");var o=class extends m{};r(o,"JsonNull");var p=class extends m{};r(p,"AnyNull");var q={classes:{DbNull:n,JsonNull:o,AnyNull:p},instances:{DbNull:new n(j),JsonNull:new o(j),AnyNull:new p(j)}};function r(a,b){Object.defineProperty(a,"name",{value:b,configurable:!0})}var s=new Set(["toJSON","$$typeof","asymmetricMatch",Symbol.iterator,Symbol.toStringTag,Symbol.isConcatSpreadable,Symbol.toPrimitive]);function t(a){return new Proxy(a,{get(a,b){if(b in a)return a[b];if(!s.has(b))throw TypeError("Invalid enum value: ".concat(String(b)))}})}var u={node:"Node.js",workerd:"Cloudflare Workers",deno:"Deno and Deno Deploy",netlify:"Netlify Edge Functions","edge-light":"Edge Runtime (Vercel Edge Functions, Vercel Edge Middleware, Next.js (Pages Router) Edge API Routes, Next.js (App Router) Edge Route Handlers or Next.js Middleware)"};function v(){let a="object"==typeof Netlify?"netlify":"edge-light";return{id:a,prettyName:u[a]||a,isEdge:["workerd","deno","netlify","edge-light"].includes(a)}}var w,x,y="0123456789abcdef",z="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",A="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",B={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},C=!0,D="[DecimalError] ",E=D+"Invalid argument: ",F=D+"Precision limit exceeded",G=D+"crypto unavailable",H="[object Decimal]",I=Math.floor,J=Math.pow,K=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,L=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,M=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,N=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,O=z.length-1,P=A.length-1,Q={toStringTag:H};function R(a){var b,c,d,e=a.length-1,f="",g=a[0];if(e>0){for(f+=g,b=1;b<e;b++)(c=7-(d=a[b]+"").length)&&(f+=aa(c)),f+=d;(c=7-(d=(g=a[b])+"").length)&&(f+=aa(c))}else if(0===g)return"0";for(;g%10==0;)g/=10;return f+g}function S(a,b,c){if(a!==~~a||a<b||a>c)throw Error(E+a)}function T(a,b,c,d){var e,f,g,h;for(f=a[0];f>=10;f/=10)--b;return--b<0?(b+=7,e=0):(e=Math.ceil((b+1)/7),b%=7),f=J(10,7-b),h=a[e]%f|0,null==d?b<3?(0==b?h=h/100|0:1==b&&(h=h/10|0),g=c<4&&99999==h||c>3&&49999==h||5e4==h||0==h):g=(c<4&&h+1==f||c>3&&h+1==f/2)&&(a[e+1]/f/100|0)==J(10,b-2)-1||(h==f/2||0==h)&&(a[e+1]/f/100|0)==0:b<4?(0==b?h=h/1e3|0:1==b?h=h/100|0:2==b&&(h=h/10|0),g=(d||c<4)&&9999==h||!d&&c>3&&4999==h):g=((d||c<4)&&h+1==f||!d&&c>3&&h+1==f/2)&&(a[e+1]/f/1e3|0)==J(10,b-3)-1,g}function U(a,b,c){for(var d,e,f=[0],g=0,h=a.length;g<h;){for(e=f.length;e--;)f[e]*=b;for(f[0]+=y.indexOf(a.charAt(g++)),d=0;d<f.length;d++)f[d]>c-1&&(void 0===f[d+1]&&(f[d+1]=0),f[d+1]+=f[d]/c|0,f[d]%=c)}return f.reverse()}Q.absoluteValue=Q.abs=function(){var a=new this.constructor(this);return a.s<0&&(a.s=1),W(a)},Q.ceil=function(){return W(new this.constructor(this),this.e+1,2)},Q.clampedTo=Q.clamp=function(a,b){var c=this.constructor;if(a=new c(a),b=new c(b),!a.s||!b.s)return new c(NaN);if(a.gt(b))throw Error(E+b);return 0>this.cmp(a)?a:this.cmp(b)>0?b:new c(this)},Q.comparedTo=Q.cmp=function(a){var b,c,d,e,f=this.d,g=(a=new this.constructor(a)).d,h=this.s,i=a.s;if(!f||!g)return h&&i?h!==i?h:f===g?0:!f^h<0?1:-1:NaN;if(!f[0]||!g[0])return f[0]?h:g[0]?-i:0;if(h!==i)return h;if(this.e!==a.e)return this.e>a.e^h<0?1:-1;for(d=f.length,e=g.length,b=0,c=d<e?d:e;b<c;++b)if(f[b]!==g[b])return f[b]>g[b]^h<0?1:-1;return d===e?0:d>e^h<0?1:-1},Q.cosine=Q.cos=function(){var a,b,c=this,d=c.constructor;return c.d?c.d[0]?(a=d.precision,b=d.rounding,d.precision=a+Math.max(c.e,c.sd())+7,d.rounding=1,c=function(a,b){var c,d,e;if(b.isZero())return b;(d=b.d.length)<32?e=(1/aj(4,c=Math.ceil(d/3))).toString():(c=16,e="2.3283064365386962890625e-10"),a.precision+=c,b=ai(a,1,b.times(e),new a(1));for(var f=c;f--;){var g=b.times(b);b=g.times(g).minus(g).times(8).plus(1)}return a.precision-=c,b}(d,ak(d,c)),d.precision=a,d.rounding=b,W(2==x||3==x?c.neg():c,a,b,!0)):new d(1):new d(NaN)},Q.cubeRoot=Q.cbrt=function(){var a,b,c,d,e,f,g,h,i,j,k=this.constructor;if(!this.isFinite()||this.isZero())return new k(this);for(C=!1,(f=this.s*J(this.s*this,1/3))&&Math.abs(f)!=1/0?d=new k(f.toString()):(c=R(this.d),(f=((a=this.e)-c.length+1)%3)&&(c+=1==f||-2==f?"0":"00"),f=J(c,1/3),a=I((a+1)/3)-(a%3==(a<0?-1:2)),(d=new k(c=f==1/0?"5e"+a:(c=f.toExponential()).slice(0,c.indexOf("e")+1)+a)).s=this.s),g=(a=k.precision)+3;;)if(d=V((j=(i=(h=d).times(h).times(h)).plus(this)).plus(this).times(h),j.plus(i),g+2,1),R(h.d).slice(0,g)===(c=R(d.d)).slice(0,g))if("9999"!=(c=c.slice(g-3,g+1))&&(e||"4999"!=c)){+c&&(+c.slice(1)||"5"!=c.charAt(0))||(W(d,a+1,1),b=!d.times(d).times(d).eq(this));break}else{if(!e&&(W(h,a+1,0),h.times(h).times(h).eq(this))){d=h;break}g+=4,e=1}return C=!0,W(d,a,k.rounding,b)},Q.decimalPlaces=Q.dp=function(){var a,b=this.d,c=NaN;if(b){if(c=((a=b.length-1)-I(this.e/7))*7,a=b[a])for(;a%10==0;a/=10)c--;c<0&&(c=0)}return c},Q.dividedBy=Q.div=function(a){return V(this,new this.constructor(a))},Q.dividedToIntegerBy=Q.divToInt=function(a){var b=this.constructor;return W(V(this,new b(a),0,1,1),b.precision,b.rounding)},Q.equals=Q.eq=function(a){return 0===this.cmp(a)},Q.floor=function(){return W(new this.constructor(this),this.e+1,3)},Q.greaterThan=Q.gt=function(a){return this.cmp(a)>0},Q.greaterThanOrEqualTo=Q.gte=function(a){var b=this.cmp(a);return 1==b||0===b},Q.hyperbolicCosine=Q.cosh=function(){var a,b,c,d,e,f=this,g=f.constructor,h=new g(1);if(!f.isFinite())return new g(f.s?1/0:NaN);if(f.isZero())return h;c=g.precision,d=g.rounding,g.precision=c+Math.max(f.e,f.sd())+4,g.rounding=1,(e=f.d.length)<32?b=(1/aj(4,a=Math.ceil(e/3))).toString():(a=16,b="2.3283064365386962890625e-10"),f=ai(g,1,f.times(b),new g(1),!0);for(var i,j=a,k=new g(8);j--;)i=f.times(f),f=h.minus(i.times(k.minus(i.times(k))));return W(f,g.precision=c,g.rounding=d,!0)},Q.hyperbolicSine=Q.sinh=function(){var a,b,c,d,e=this,f=e.constructor;if(!e.isFinite()||e.isZero())return new f(e);if(b=f.precision,c=f.rounding,f.precision=b+Math.max(e.e,e.sd())+4,f.rounding=1,(d=e.d.length)<3)e=ai(f,2,e,e,!0);else{a=(a=1.4*Math.sqrt(d))>16?16:0|a,e=ai(f,2,e=e.times(1/aj(5,a)),e,!0);for(var g,h=new f(5),i=new f(16),j=new f(20);a--;)g=e.times(e),e=e.times(h.plus(g.times(i.times(g).plus(j))))}return f.precision=b,f.rounding=c,W(e,b,c,!0)},Q.hyperbolicTangent=Q.tanh=function(){var a,b,c=this.constructor;return this.isFinite()?this.isZero()?new c(this):(a=c.precision,b=c.rounding,c.precision=a+7,c.rounding=1,V(this.sinh(),this.cosh(),c.precision=a,c.rounding=b)):new c(this.s)},Q.inverseCosine=Q.acos=function(){var a,b=this,c=b.constructor,d=b.abs().cmp(1),e=c.precision,f=c.rounding;return -1!==d?0===d?b.isNeg()?$(c,e,f):new c(0):new c(NaN):b.isZero()?$(c,e+4,f).times(.5):(c.precision=e+6,c.rounding=1,b=b.asin(),a=$(c,e+4,f).times(.5),c.precision=e,c.rounding=f,a.minus(b))},Q.inverseHyperbolicCosine=Q.acosh=function(){var a,b,c=this,d=c.constructor;return c.lte(1)?new d(c.eq(1)?0:NaN):c.isFinite()?(a=d.precision,b=d.rounding,d.precision=a+Math.max(Math.abs(c.e),c.sd())+4,d.rounding=1,C=!1,c=c.times(c).minus(1).sqrt().plus(c),C=!0,d.precision=a,d.rounding=b,c.ln()):new d(c)},Q.inverseHyperbolicSine=Q.asinh=function(){var a,b,c=this,d=c.constructor;return!c.isFinite()||c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+2*Math.max(Math.abs(c.e),c.sd())+6,d.rounding=1,C=!1,c=c.times(c).plus(1).sqrt().plus(c),C=!0,d.precision=a,d.rounding=b,c.ln())},Q.inverseHyperbolicTangent=Q.atanh=function(){var a,b,c,d,e=this,f=e.constructor;return e.isFinite()?e.e>=0?new f(e.abs().eq(1)?e.s/0:e.isZero()?e:NaN):(a=f.precision,b=f.rounding,Math.max(d=e.sd(),a)<-(2*e.e)-1?W(new f(e),a,b,!0):(f.precision=c=d-e.e,e=V(e.plus(1),new f(1).minus(e),c+a,1),f.precision=a+4,f.rounding=1,e=e.ln(),f.precision=a,f.rounding=b,e.times(.5))):new f(NaN)},Q.inverseSine=Q.asin=function(){var a,b,c,d,e=this,f=e.constructor;return e.isZero()?new f(e):(b=e.abs().cmp(1),c=f.precision,d=f.rounding,-1!==b?0===b?((a=$(f,c+4,d).times(.5)).s=e.s,a):new f(NaN):(f.precision=c+6,f.rounding=1,e=e.div(new f(1).minus(e.times(e)).sqrt().plus(1)).atan(),f.precision=c,f.rounding=d,e.times(2)))},Q.inverseTangent=Q.atan=function(){var a,b,c,d,e,f,g,h,i,j=this,k=j.constructor,l=k.precision,m=k.rounding;if(j.isFinite()){if(j.isZero())return new k(j);if(j.abs().eq(1)&&l+4<=P)return(g=$(k,l+4,m).times(.25)).s=j.s,g}else{if(!j.s)return new k(NaN);if(l+4<=P)return(g=$(k,l+4,m).times(.5)).s=j.s,g}for(k.precision=h=l+10,k.rounding=1,a=c=Math.min(28,h/7+2|0);a;--a)j=j.div(j.times(j).plus(1).sqrt().plus(1));for(C=!1,b=Math.ceil(h/7),d=1,i=j.times(j),g=new k(j),e=j;-1!==a;)if(e=e.times(i),f=g.minus(e.div(d+=2)),e=e.times(i),void 0!==(g=f.plus(e.div(d+=2))).d[b])for(a=b;g.d[a]===f.d[a]&&a--;);return c&&(g=g.times(2<<c-1)),C=!0,W(g,k.precision=l,k.rounding=m,!0)},Q.isFinite=function(){return!!this.d},Q.isInteger=Q.isInt=function(){return!!this.d&&I(this.e/7)>this.d.length-2},Q.isNaN=function(){return!this.s},Q.isNegative=Q.isNeg=function(){return this.s<0},Q.isPositive=Q.isPos=function(){return this.s>0},Q.isZero=function(){return!!this.d&&0===this.d[0]},Q.lessThan=Q.lt=function(a){return 0>this.cmp(a)},Q.lessThanOrEqualTo=Q.lte=function(a){return 1>this.cmp(a)},Q.logarithm=Q.log=function(a){var b,c,d,e,f,g,h,i=this.constructor,j=i.precision,k=i.rounding;if(null==a)a=new i(10),b=!0;else{if(c=(a=new i(a)).d,a.s<0||!c||!c[0]||a.eq(1))return new i(NaN);b=a.eq(10)}if(c=this.d,this.s<0||!c||!c[0]||this.eq(1))return new i(c&&!c[0]?-1/0:1!=this.s?NaN:c?0:1/0);if(b)if(c.length>1)e=!0;else{for(d=c[0];d%10==0;)d/=10;e=1!==d}if(C=!1,T((h=V(f=af(this,g=j+5),b?Z(i,g+10):af(a,g),g,1)).d,d=j,k))do if(g+=10,h=V(f=af(this,g),b?Z(i,g+10):af(a,g),g,1),!e){+R(h.d).slice(d+1,d+15)+1==1e14&&(h=W(h,j+1,0));break}while(T(h.d,d+=10,k));return C=!0,W(h,j,k)},Q.minus=Q.sub=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this.constructor;if(a=new n(a),!this.d||!a.d)return this.s&&a.s?this.d?a.s=-a.s:a=new n(a.d||this.s!==a.s?this:NaN):a=new n(NaN),a;if(this.s!=a.s)return a.s=-a.s,this.plus(a);if(j=this.d,m=a.d,h=n.precision,i=n.rounding,!j[0]||!m[0]){if(m[0])a.s=-a.s;else{if(!j[0])return new n(3===i?-0:0);a=new n(this)}return C?W(a,h,i):a}if(c=I(a.e/7),k=I(this.e/7),j=j.slice(),f=k-c){for((l=f<0)?(b=j,f=-f,g=m.length):(b=m,c=k,g=j.length),f>(d=Math.max(Math.ceil(h/7),g)+2)&&(f=d,b.length=1),b.reverse(),d=f;d--;)b.push(0);b.reverse()}else{for((l=(d=j.length)<(g=m.length))&&(g=d),d=0;d<g;d++)if(j[d]!=m[d]){l=j[d]<m[d];break}f=0}for(l&&(b=j,j=m,m=b,a.s=-a.s),g=j.length,d=m.length-g;d>0;--d)j[g++]=0;for(d=m.length;d>f;){if(j[--d]<m[d]){for(e=d;e&&0===j[--e];)j[e]=1e7-1;--j[e],j[d]+=1e7}j[d]-=m[d]}for(;0===j[--g];)j.pop();for(;0===j[0];j.shift())--c;return j[0]?(a.d=j,a.e=Y(j,c),C?W(a,h,i):a):new n(3===i?-0:0)},Q.modulo=Q.mod=function(a){var b,c=this.constructor;return a=new c(a),this.d&&a.s&&(!a.d||a.d[0])?a.d&&(!this.d||this.d[0])?(C=!1,9==c.modulo?(b=V(this,a.abs(),0,3,1),b.s*=a.s):b=V(this,a,0,c.modulo,1),b=b.times(a),C=!0,this.minus(b)):W(new c(this),c.precision,c.rounding):new c(NaN)},Q.naturalExponential=Q.exp=function(){return ae(this)},Q.naturalLogarithm=Q.ln=function(){return af(this)},Q.negated=Q.neg=function(){var a=new this.constructor(this);return a.s=-a.s,W(a)},Q.plus=Q.add=function(a){var b,c,d,e,f,g,h,i,j,k,l=this.constructor;if(a=new l(a),!this.d||!a.d)return this.s&&a.s?this.d||(a=new l(a.d||this.s===a.s?this:NaN)):a=new l(NaN),a;if(this.s!=a.s)return a.s=-a.s,this.minus(a);if(j=this.d,k=a.d,h=l.precision,i=l.rounding,!j[0]||!k[0])return k[0]||(a=new l(this)),C?W(a,h,i):a;if(f=I(this.e/7),d=I(a.e/7),j=j.slice(),e=f-d){for(e<0?(c=j,e=-e,g=k.length):(c=k,d=f,g=j.length),e>(g=(f=Math.ceil(h/7))>g?f+1:g+1)&&(e=g,c.length=1),c.reverse();e--;)c.push(0);c.reverse()}for((g=j.length)-(e=k.length)<0&&(e=g,c=k,k=j,j=c),b=0;e;)b=(j[--e]=j[e]+k[e]+b)/1e7|0,j[e]%=1e7;for(b&&(j.unshift(b),++d),g=j.length;0==j[--g];)j.pop();return a.d=j,a.e=Y(j,d),C?W(a,h,i):a},Q.precision=Q.sd=function(a){var b;if(void 0!==a&&!!a!==a&&1!==a&&0!==a)throw Error(E+a);return this.d?(b=_(this.d),a&&this.e+1>b&&(b=this.e+1)):b=NaN,b},Q.round=function(){var a=this.constructor;return W(new a(this),this.e+1,a.rounding)},Q.sine=Q.sin=function(){var a,b,c=this,d=c.constructor;return c.isFinite()?c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+Math.max(c.e,c.sd())+7,d.rounding=1,c=function(a,b){var c,d=b.d.length;if(d<3)return b.isZero()?b:ai(a,2,b,b);c=(c=1.4*Math.sqrt(d))>16?16:0|c,b=ai(a,2,b=b.times(1/aj(5,c)),b);for(var e,f=new a(5),g=new a(16),h=new a(20);c--;)e=b.times(b),b=b.times(f.plus(e.times(g.times(e).minus(h))));return b}(d,ak(d,c)),d.precision=a,d.rounding=b,W(x>2?c.neg():c,a,b,!0)):new d(NaN)},Q.squareRoot=Q.sqrt=function(){var a,b,c,d,e,f,g=this.d,h=this.e,i=this.s,j=this.constructor;if(1!==i||!g||!g[0])return new j(!i||i<0&&(!g||g[0])?NaN:g?this:1/0);for(C=!1,0==(i=Math.sqrt(+this))||i==1/0?(((b=R(g)).length+h)%2==0&&(b+="0"),i=Math.sqrt(b),h=I((h+1)/2)-(h<0||h%2),d=new j(b=i==1/0?"5e"+h:(b=i.toExponential()).slice(0,b.indexOf("e")+1)+h)):d=new j(i.toString()),c=(h=j.precision)+3;;)if(d=(f=d).plus(V(this,f,c+2,1)).times(.5),R(f.d).slice(0,c)===(b=R(d.d)).slice(0,c))if("9999"!=(b=b.slice(c-3,c+1))&&(e||"4999"!=b)){+b&&(+b.slice(1)||"5"!=b.charAt(0))||(W(d,h+1,1),a=!d.times(d).eq(this));break}else{if(!e&&(W(f,h+1,0),f.times(f).eq(this))){d=f;break}c+=4,e=1}return C=!0,W(d,h,j.rounding,a)},Q.tangent=Q.tan=function(){var a,b,c=this,d=c.constructor;return c.isFinite()?c.isZero()?new d(c):(a=d.precision,b=d.rounding,d.precision=a+10,d.rounding=1,(c=c.sin()).s=1,c=V(c,new d(1).minus(c.times(c)).sqrt(),a+10,0),d.precision=a,d.rounding=b,W(2==x||4==x?c.neg():c,a,b,!0)):new d(NaN)},Q.times=Q.mul=function(a){var b,c,d,e,f,g,h,i,j,k=this.constructor,l=this.d,m=(a=new k(a)).d;if(a.s*=this.s,!l||!l[0]||!m||!m[0])return new k(!a.s||l&&!l[0]&&!m||m&&!m[0]&&!l?NaN:!l||!m?a.s/0:0*a.s);for(c=I(this.e/7)+I(a.e/7),(i=l.length)<(j=m.length)&&(f=l,l=m,m=f,g=i,i=j,j=g),f=[],d=g=i+j;d--;)f.push(0);for(d=j;--d>=0;){for(b=0,e=i+d;e>d;)h=f[e]+m[d]*l[e-d-1]+b,f[e--]=h%1e7|0,b=h/1e7|0;f[e]=(f[e]+b)%1e7|0}for(;!f[--g];)f.pop();return b?++c:f.shift(),a.d=f,a.e=Y(f,c),C?W(a,k.precision,k.rounding):a},Q.toBinary=function(a,b){return al(this,2,a,b)},Q.toDecimalPlaces=Q.toDP=function(a,b){var c=this,d=c.constructor;return c=new d(c),void 0===a?c:(S(a,0,1e9),void 0===b?b=d.rounding:S(b,0,8),W(c,a+c.e+1,b))},Q.toExponential=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=X(d,!0):(S(a,0,1e9),void 0===b?b=e.rounding:S(b,0,8),c=X(d=W(new e(d),a+1,b),!0,a+1)),d.isNeg()&&!d.isZero()?"-"+c:c},Q.toFixed=function(a,b){var c,d,e=this.constructor;return void 0===a?c=X(this):(S(a,0,1e9),void 0===b?b=e.rounding:S(b,0,8),c=X(d=W(new e(this),a+this.e+1,b),!1,a+d.e+1)),this.isNeg()&&!this.isZero()?"-"+c:c},Q.toFraction=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this.d,o=this.constructor;if(!n)return new o(this);if(j=c=new o(1),d=i=new o(0),g=(f=(b=new o(d)).e=_(n)-this.e-1)%7,b.d[0]=J(10,g<0?7+g:g),null==a)a=f>0?b:j;else{if(!(h=new o(a)).isInt()||h.lt(j))throw Error(E+h);a=h.gt(b)?f>0?b:j:h}for(C=!1,h=new o(R(n)),k=o.precision,o.precision=f=7*n.length*2;l=V(h,b,0,1,1),1!=(e=c.plus(l.times(d))).cmp(a);)c=d,d=e,e=j,j=i.plus(l.times(e)),i=e,e=b,b=h.minus(l.times(e)),h=e;return e=V(a.minus(c),d,0,1,1),i=i.plus(e.times(j)),c=c.plus(e.times(d)),i.s=j.s=this.s,m=1>V(j,d,f,1).minus(this).abs().cmp(V(i,c,f,1).minus(this).abs())?[j,d]:[i,c],o.precision=k,C=!0,m},Q.toHexadecimal=Q.toHex=function(a,b){return al(this,16,a,b)},Q.toNearest=function(a,b){var c=this,d=c.constructor;if(c=new d(c),null==a){if(!c.d)return c;a=new d(1),b=d.rounding}else{if(a=new d(a),void 0===b?b=d.rounding:S(b,0,8),!c.d)return a.s?c:a;if(!a.d)return a.s&&(a.s=c.s),a}return a.d[0]?(C=!1,c=V(c,a,0,b,1).times(a),C=!0,W(c)):(a.s=c.s,c=a),c},Q.toNumber=function(){return+this},Q.toOctal=function(a,b){return al(this,8,a,b)},Q.toPower=Q.pow=function(a){var b,c,d,e,f,g,h=this,i=h.constructor,j=+(a=new i(a));if(!h.d||!a.d||!h.d[0]||!a.d[0])return new i(J(+h,j));if((h=new i(h)).eq(1))return h;if(d=i.precision,f=i.rounding,a.eq(1))return W(h,d,f);if((b=I(a.e/7))>=a.d.length-1&&(c=j<0?-j:j)<=0x1fffffffffffff)return e=ab(i,h,c,d),a.s<0?new i(1).div(e):W(e,d,f);if((g=h.s)<0){if(b<a.d.length-1)return new i(NaN);if(1&a.d[b]||(g=1),0==h.e&&1==h.d[0]&&1==h.d.length)return h.s=g,h}return(b=0!=(c=J(+h,j))&&isFinite(c)?new i(c+"").e:I(j*(Math.log("0."+R(h.d))/Math.LN10+h.e+1)))>i.maxE+1||b<i.minE-1?new i(b>0?g/0:0):(C=!1,i.rounding=h.s=1,c=Math.min(12,(b+"").length),(e=ae(a.times(af(h,d+c)),d)).d&&T((e=W(e,d+5,1)).d,d,f)&&(b=d+10,+R((e=W(ae(a.times(af(h,b+c)),b),b+5,1)).d).slice(d+1,d+15)+1==1e14&&(e=W(e,d+1,0))),e.s=g,C=!0,i.rounding=f,W(e,d,f))},Q.toPrecision=function(a,b){var c,d=this,e=d.constructor;return void 0===a?c=X(d,d.e<=e.toExpNeg||d.e>=e.toExpPos):(S(a,1,1e9),void 0===b?b=e.rounding:S(b,0,8),c=X(d=W(new e(d),a,b),a<=d.e||d.e<=e.toExpNeg,a)),d.isNeg()&&!d.isZero()?"-"+c:c},Q.toSignificantDigits=Q.toSD=function(a,b){var c=this.constructor;return void 0===a?(a=c.precision,b=c.rounding):(S(a,1,1e9),void 0===b?b=c.rounding:S(b,0,8)),W(new c(this),a,b)},Q.toString=function(){var a=this.constructor,b=X(this,this.e<=a.toExpNeg||this.e>=a.toExpPos);return this.isNeg()&&!this.isZero()?"-"+b:b},Q.truncated=Q.trunc=function(){return W(new this.constructor(this),this.e+1,1)},Q.valueOf=Q.toJSON=function(){var a=this.constructor,b=X(this,this.e<=a.toExpNeg||this.e>=a.toExpPos);return this.isNeg()?"-"+b:b};var V=function(){function a(a,b,c){var d,e=0,f=a.length;for(a=a.slice();f--;)d=a[f]*b+e,a[f]=d%c|0,e=d/c|0;return e&&a.unshift(e),a}function b(a,b,c,d){var e,f;if(c!=d)f=c>d?1:-1;else for(e=f=0;e<c;e++)if(a[e]!=b[e]){f=a[e]>b[e]?1:-1;break}return f}function c(a,b,c,d){for(var e=0;c--;)a[c]-=e,e=+(a[c]<b[c]),a[c]=e*d+a[c]-b[c];for(;!a[0]&&a.length>1;)a.shift()}return function(d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,x,y,z,A,B,C,D,E=d.constructor,F=d.s==e.s?1:-1,G=d.d,H=e.d;if(!G||!G[0]||!H||!H[0])return new E(!d.s||!e.s||(G?H&&G[0]==H[0]:!H)?NaN:G&&0==G[0]||!H?0*F:F/0);for(i?(n=1,k=d.e-e.e):(i=1e7,n=7,k=I(d.e/n)-I(e.e/n)),C=H.length,A=G.length,s=(r=new E(F)).d=[],l=0;H[l]==(G[l]||0);l++);if(H[l]>(G[l]||0)&&k--,null==f?(x=f=E.precision,g=E.rounding):x=h?f+(d.e-e.e)+1:f,x<0)s.push(1),o=!0;else{if(x=x/n+2|0,l=0,1==C){for(m=0,H=H[0],x++;(l<A||m)&&x--;l++)y=m*i+(G[l]||0),s[l]=y/H|0,m=y%H|0;o=m||l<A}else{for((m=i/(H[0]+1)|0)>1&&(H=a(H,m,i),G=a(G,m,i),C=H.length,A=G.length),z=C,u=(t=G.slice(0,C)).length;u<C;)t[u++]=0;(D=H.slice()).unshift(0),B=H[0],H[1]>=i/2&&++B;do m=0,(j=b(H,t,C,u))<0?(v=t[0],C!=u&&(v=v*i+(t[1]||0)),(m=v/B|0)>1?(m>=i&&(m=i-1),q=(p=a(H,m,i)).length,u=t.length,1==(j=b(p,t,q,u))&&(m--,c(p,C<q?D:H,q,i))):(0==m&&(j=m=1),p=H.slice()),(q=p.length)<u&&p.unshift(0),c(t,p,u,i),-1==j&&(u=t.length,(j=b(H,t,C,u))<1&&(m++,c(t,C<u?D:H,u,i))),u=t.length):0===j&&(m++,t=[0]),s[l++]=m,j&&t[0]?t[u++]=G[z]||0:(t=[G[z]],u=1);while((z++<A||void 0!==t[0])&&x--);o=void 0!==t[0]}s[0]||s.shift()}if(1==n)r.e=k,w=o;else{for(l=1,m=s[0];m>=10;m/=10)l++;r.e=l+k*n-1,W(r,h?f+r.e+1:f,g,o)}return r}}();function W(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=a.constructor;a:if(null!=b){if(!(l=a.d))return a;for(e=1,h=l[0];h>=10;h/=10)e++;if((f=b-e)<0)f+=7,g=b,i=(k=l[m=0])/J(10,e-g-1)%10|0;else if((m=Math.ceil((f+1)/7))>=(h=l.length))if(d){for(;h++<=m;)l.push(0);k=i=0,e=1,f%=7,g=f-7+1}else break a;else{for(k=h=l[m],e=1;h>=10;h/=10)e++;f%=7,i=(g=f-7+e)<0?0:k/J(10,e-g-1)%10|0}if(d=d||b<0||void 0!==l[m+1]||(g<0?k:k%J(10,e-g-1)),j=c<4?(i||d)&&(0==c||c==(a.s<0?3:2)):i>5||5==i&&(4==c||d||6==c&&(f>0?g>0?k/J(10,e-g):0:l[m-1])%10&1||c==(a.s<0?8:7)),b<1||!l[0])return l.length=0,j?(b-=a.e+1,l[0]=J(10,(7-b%7)%7),a.e=-b||0):l[0]=a.e=0,a;if(0==f?(l.length=m,h=1,m--):(l.length=m+1,h=J(10,7-f),l[m]=g>0?(k/J(10,e-g)%J(10,g)|0)*h:0),j)for(;;)if(0==m){for(f=1,g=l[0];g>=10;g/=10)f++;for(g=l[0]+=h,h=1;g>=10;g/=10)h++;f!=h&&(a.e++,1e7==l[0]&&(l[0]=1));break}else{if(l[m]+=h,1e7!=l[m])break;l[m--]=0,h=1}for(f=l.length;0===l[--f];)l.pop()}return C&&(a.e>n.maxE?(a.d=null,a.e=NaN):a.e<n.minE&&(a.e=0,a.d=[0])),a}function X(a,b,c){if(!a.isFinite())return ag(a);var d,e=a.e,f=R(a.d),g=f.length;return b?(c&&(d=c-g)>0?f=f.charAt(0)+"."+f.slice(1)+aa(d):g>1&&(f=f.charAt(0)+"."+f.slice(1)),f=f+(a.e<0?"e":"e+")+a.e):e<0?(f="0."+aa(-e-1)+f,c&&(d=c-g)>0&&(f+=aa(d))):e>=g?(f+=aa(e+1-g),c&&(d=c-e-1)>0&&(f=f+"."+aa(d))):((d=e+1)<g&&(f=f.slice(0,d)+"."+f.slice(d)),c&&(d=c-g)>0&&(e+1===g&&(f+="."),f+=aa(d))),f}function Y(a,b){var c=a[0];for(b*=7;c>=10;c/=10)b++;return b}function Z(a,b,c){if(b>O)throw C=!0,c&&(a.precision=c),Error(F);return W(new a(z),b,1,!0)}function $(a,b,c){if(b>P)throw Error(F);return W(new a(A),b,c,!0)}function _(a){var b=a.length-1,c=7*b+1;if(b=a[b]){for(;b%10==0;b/=10)c--;for(b=a[0];b>=10;b/=10)c++}return c}function aa(a){for(var b="";a--;)b+="0";return b}function ab(a,b,c,d){var e,f=new a(1),g=Math.ceil(d/7+4);for(C=!1;;){if(c%2&&am((f=f.times(b)).d,g)&&(e=!0),0===(c=I(c/2))){c=f.d.length-1,e&&0===f.d[c]&&++f.d[c];break}am((b=b.times(b)).d,g)}return C=!0,f}function ac(a){return 1&a.d[a.d.length-1]}function ad(a,b,c){for(var d,e=new a(b[0]),f=0;++f<b.length;)if((d=new a(b[f])).s)e[c](d)&&(e=d);else{e=d;break}return e}function ae(a,b){var c,d,e,f,g,h,i,j=0,k=0,l=0,m=a.constructor,n=m.rounding,o=m.precision;if(!a.d||!a.d[0]||a.e>17)return new m(a.d?a.d[0]?a.s<0?0:1/0:1:a.s?a.s<0?0:a:NaN);for(null==b?(C=!1,i=o):i=b,h=new m(.03125);a.e>-2;)a=a.times(h),l+=5;for(i+=d=Math.log(J(2,l))/Math.LN10*2+5|0,c=f=g=new m(1),m.precision=i;;){if(f=W(f.times(a),i,1),c=c.times(++k),R((h=g.plus(V(f,c,i,1))).d).slice(0,i)===R(g.d).slice(0,i)){for(e=l;e--;)g=W(g.times(g),i,1);if(null!=b)return m.precision=o,g;if(!(j<3&&T(g.d,i-d,n,j)))return W(g,m.precision=o,n,C=!0);m.precision=i+=10,c=f=h=new m(1),k=0,j++}g=h}}function af(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=1,o=a,p=o.d,q=o.constructor,r=q.rounding,s=q.precision;if(o.s<0||!p||!p[0]||!o.e&&1==p[0]&&1==p.length)return new q(p&&!p[0]?-1/0:1!=o.s?NaN:p?0:o);if(null==b?(C=!1,k=s):k=b,q.precision=k+=10,d=(c=R(p)).charAt(0),!(15e14>Math.abs(f=o.e)))return j=Z(q,k+2,s).times(f+""),o=af(new q(d+"."+c.slice(1)),k-10).plus(j),q.precision=s,null==b?W(o,s,r,C=!0):o;for(;d<7&&1!=d||1==d&&c.charAt(1)>3;)d=(c=R((o=o.times(a)).d)).charAt(0),n++;for(f=o.e,d>1?(o=new q("0."+c),f++):o=new q(d+"."+c.slice(1)),l=o,i=g=o=V(o.minus(1),o.plus(1),k,1),m=W(o.times(o),k,1),e=3;;){if(g=W(g.times(m),k,1),R((j=i.plus(V(g,new q(e),k,1))).d).slice(0,k)===R(i.d).slice(0,k))if(i=i.times(2),0!==f&&(i=i.plus(Z(q,k+2,s).times(f+""))),i=V(i,new q(n),k,1),null!=b)return q.precision=s,i;else{if(!T(i.d,k-10,r,h))return W(i,q.precision=s,r,C=!0);q.precision=k+=10,j=g=o=V(l.minus(1),l.plus(1),k,1),m=W(o.times(o),k,1),e=h=1}i=j,e+=2}}function ag(a){return String(a.s*a.s/0)}function ah(a,b){var c,d,e;for((c=b.indexOf("."))>-1&&(b=b.replace(".","")),(d=b.search(/e/i))>0?(c<0&&(c=d),c+=+b.slice(d+1),b=b.substring(0,d)):c<0&&(c=b.length),d=0;48===b.charCodeAt(d);d++);for(e=b.length;48===b.charCodeAt(e-1);--e);if(b=b.slice(d,e)){if(e-=d,a.e=c=c-d-1,a.d=[],d=(c+1)%7,c<0&&(d+=7),d<e){for(d&&a.d.push(+b.slice(0,d)),e-=7;d<e;)a.d.push(+b.slice(d,d+=7));d=7-(b=b.slice(d)).length}else d-=e;for(;d--;)b+="0";a.d.push(+b),C&&(a.e>a.constructor.maxE?(a.d=null,a.e=NaN):a.e<a.constructor.minE&&(a.e=0,a.d=[0]))}else a.e=0,a.d=[0];return a}function ai(a,b,c,d,e){var f,g,h,i,j=a.precision,k=Math.ceil(j/7);for(C=!1,i=c.times(c),h=new a(d);;){if(g=V(h.times(i),new a(b++*b++),j,1),h=e?d.plus(g):d.minus(g),d=V(g.times(i),new a(b++*b++),j,1),void 0!==(g=h.plus(d)).d[k]){for(f=k;g.d[f]===h.d[f]&&f--;);if(-1==f)break}f=h,h=d,d=g,g=f}return C=!0,g.d.length=k+1,g}function aj(a,b){for(var c=a;--b;)c*=a;return c}function ak(a,b){var c,d=b.s<0,e=$(a,a.precision,1),f=e.times(.5);if((b=b.abs()).lte(f))return x=d?4:1,b;if((c=b.divToInt(e)).isZero())x=d?3:2;else{if((b=b.minus(c.times(e))).lte(f))return x=ac(c)?d?2:3:d?4:1,b;x=ac(c)?d?1:4:d?3:2}return b.minus(e).abs()}function al(a,b,c,d){var e,f,g,h,i,j,k,l,m,n=a.constructor,o=void 0!==c;if(o?(S(c,1,1e9),void 0===d?d=n.rounding:S(d,0,8)):(c=n.precision,d=n.rounding),a.isFinite()){for(g=(k=X(a)).indexOf("."),o?(e=2,16==b?c=4*c-3:8==b&&(c=3*c-2)):e=b,g>=0&&(k=k.replace(".",""),(m=new n(1)).e=k.length-g,m.d=U(X(m),10,e),m.e=m.d.length),f=i=(l=U(k,10,e)).length;0==l[--i];)l.pop();if(l[0]){if(g<0?f--:((a=new n(a)).d=l,a.e=f,l=(a=V(a,m,c,d,0,e)).d,f=a.e,j=w),g=l[c],h=e/2,j=j||void 0!==l[c+1],j=d<4?(void 0!==g||j)&&(0===d||d===(a.s<0?3:2)):g>h||g===h&&(4===d||j||6===d&&1&l[c-1]||d===(a.s<0?8:7)),l.length=c,j)for(;++l[--c]>e-1;)l[c]=0,c||(++f,l.unshift(1));for(i=l.length;!l[i-1];--i);for(g=0,k="";g<i;g++)k+=y.charAt(l[g]);if(o){if(i>1)if(16==b||8==b){for(g=16==b?4:3,--i;i%g;i++)k+="0";for(i=(l=U(k,e,b)).length;!l[i-1];--i);for(g=1,k="1.";g<i;g++)k+=y.charAt(l[g])}else k=k.charAt(0)+"."+k.slice(1);k=k+(f<0?"p":"p+")+f}else if(f<0){for(;++f;)k="0"+k;k="0."+k}else if(++f>i)for(f-=i;f--;)k+="0";else f<i&&(k=k.slice(0,f)+"."+k.slice(f))}else k=o?"0p+0":"0";k=(16==b?"0x":2==b?"0b":8==b?"0o":"")+k}else k=ag(a);return a.s<0?"-"+k:k}function am(a,b){if(a.length>b)return a.length=b,!0}function an(a){return new this(a).abs()}function ao(a){return new this(a).acos()}function ap(a){return new this(a).acosh()}function aq(a,b){return new this(a).plus(b)}function ar(a){return new this(a).asin()}function as(a){return new this(a).asinh()}function at(a){return new this(a).atan()}function au(a){return new this(a).atanh()}function av(a,b){a=new this(a),b=new this(b);var c,d=this.precision,e=this.rounding,f=d+4;return a.s&&b.s?a.d||b.d?!b.d||a.isZero()?(c=b.s<0?$(this,d,e):new this(0)).s=a.s:!a.d||b.isZero()?(c=$(this,f,1).times(.5)).s=a.s:b.s<0?(this.precision=f,this.rounding=1,c=this.atan(V(a,b,f,1)),b=$(this,f,1),this.precision=d,this.rounding=e,c=a.s<0?c.minus(b):c.plus(b)):c=this.atan(V(a,b,f,1)):(c=$(this,f,1).times(b.s>0?.25:.75)).s=a.s:c=new this(NaN),c}function aw(a){return new this(a).cbrt()}function ax(a){return W(a=new this(a),a.e+1,2)}function ay(a,b,c){return new this(a).clamp(b,c)}function az(a){if(!a||"object"!=typeof a)throw Error(D+"Object expected");var b,c,d,e=!0===a.defaults,f=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(b=0;b<f.length;b+=3)if(c=f[b],e&&(this[c]=B[c]),void 0!==(d=a[c]))if(I(d)===d&&d>=f[b+1]&&d<=f[b+2])this[c]=d;else throw Error(E+c+": "+d);if(c="crypto",e&&(this[c]=B[c]),void 0!==(d=a[c]))if(!0===d||!1===d||0===d||1===d)if(d)if("u">typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[c]=!0;else throw Error(G);else this[c]=!1;else throw Error(E+c+": "+d);return this}function aA(a){return new this(a).cos()}function aB(a){return new this(a).cosh()}function aC(a,b){return new this(a).div(b)}function aD(a){return new this(a).exp()}function aE(a){return W(a=new this(a),a.e+1,3)}function aF(){var a,b,c=new this(0);for(C=!1,a=0;a<arguments.length;)if(b=new this(arguments[a++]),b.d)c.d&&(c=c.plus(b.times(b)));else{if(b.s)return C=!0,new this(1/0);c=b}return C=!0,c.sqrt()}function aG(a){return a instanceof a_||a&&a.toStringTag===H||!1}function aH(a){return new this(a).ln()}function aI(a,b){return new this(a).log(b)}function aJ(a){return new this(a).log(2)}function aK(a){return new this(a).log(10)}function aL(){return ad(this,arguments,"lt")}function aM(){return ad(this,arguments,"gt")}function aN(a,b){return new this(a).mod(b)}function aO(a,b){return new this(a).mul(b)}function aP(a,b){return new this(a).pow(b)}function aQ(a){var b,c,d,e,f=0,g=new this(1),h=[];if(void 0===a?a=this.precision:S(a,1,1e9),d=Math.ceil(a/7),this.crypto)if(crypto.getRandomValues)for(b=crypto.getRandomValues(new Uint32Array(d));f<d;)(e=b[f])>=429e7?b[f]=crypto.getRandomValues(new Uint32Array(1))[0]:h[f++]=e%1e7;else if(crypto.randomBytes){for(b=crypto.randomBytes(d*=4);f<d;)(e=b[f]+(b[f+1]<<8)+(b[f+2]<<16)+((127&b[f+3])<<24))>=214e7?crypto.randomBytes(4).copy(b,f):(h.push(e%1e7),f+=4);f=d/4}else throw Error(G);else for(;f<d;)h[f++]=1e7*Math.random()|0;for(d=h[--f],a%=7,d&&a&&(e=J(10,7-a),h[f]=(d/e|0)*e);0===h[f];f--)h.pop();if(f<0)c=0,h=[0];else{for(c=-1;0===h[0];c-=7)h.shift();for(d=1,e=h[0];e>=10;e/=10)d++;d<7&&(c-=7-d)}return g.e=c,g.d=h,g}function aR(a){return W(a=new this(a),a.e+1,this.rounding)}function aS(a){return(a=new this(a)).d?a.d[0]?a.s:0*a.s:a.s||NaN}function aT(a){return new this(a).sin()}function aU(a){return new this(a).sinh()}function aV(a){return new this(a).sqrt()}function aW(a,b){return new this(a).sub(b)}function aX(){var a=0,b=arguments,c=new this(b[0]);for(C=!1;c.s&&++a<b.length;)c=c.plus(b[a]);return C=!0,W(c,this.precision,this.rounding)}function aY(a){return new this(a).tan()}function aZ(a){return new this(a).tanh()}function a$(a){return W(a=new this(a),a.e+1,1)}Q[Symbol.for("nodejs.util.inspect.custom")]=Q.toString,Q[Symbol.toStringTag]="Decimal";var a_=Q.constructor=function a(b){var c,d,e;function f(a){var b,c,d;if(!(this instanceof f))return new f(a);if(this.constructor=f,aG(a)){this.s=a.s,C?!a.d||a.e>f.maxE?(this.e=NaN,this.d=null):a.e<f.minE?(this.e=0,this.d=[0]):(this.e=a.e,this.d=a.d.slice()):(this.e=a.e,this.d=a.d?a.d.slice():a.d);return}if("number"==(d=typeof a)){if(0===a){this.s=1/a<0?-1:1,this.e=0,this.d=[0];return}if(a<0?(a=-a,this.s=-1):this.s=1,a===~~a&&a<1e7){for(b=0,c=a;c>=10;c/=10)b++;C?b>f.maxE?(this.e=NaN,this.d=null):b<f.minE?(this.e=0,this.d=[0]):(this.e=b,this.d=[a]):(this.e=b,this.d=[a]);return}if(0*a!=0){a||(this.s=NaN),this.e=NaN,this.d=null;return}return ah(this,a.toString())}if("string"!==d)throw Error(E+a);return 45===(c=a.charCodeAt(0))?(a=a.slice(1),this.s=-1):(43===c&&(a=a.slice(1)),this.s=1),N.test(a)?ah(this,a):function(a,b){var c,d,e,f,g,h,i,j,k;if(b.indexOf("_")>-1){if(b=b.replace(/(\d)_(?=\d)/g,"$1"),N.test(b))return ah(a,b)}else if("Infinity"===b||"NaN"===b)return+b||(a.s=NaN),a.e=NaN,a.d=null,a;if(L.test(b))c=16,b=b.toLowerCase();else if(K.test(b))c=2;else if(M.test(b))c=8;else throw Error(E+b);for((f=b.search(/p/i))>0?(i=+b.slice(f+1),b=b.substring(2,f)):b=b.slice(2),g=(f=b.indexOf("."))>=0,d=a.constructor,g&&(f=(h=(b=b.replace(".","")).length)-f,e=ab(d,new d(c),f,2*f)),f=k=(j=U(b,c,1e7)).length-1;0===j[f];--f)j.pop();return f<0?new d(0*a.s):(a.e=Y(j,k),a.d=j,C=!1,g&&(a=V(a,e,4*h)),i&&(a=a.times(54>Math.abs(i)?J(2,i):a_.pow(2,i))),C=!0,a)}(this,a)}if(f.prototype=Q,f.ROUND_UP=0,f.ROUND_DOWN=1,f.ROUND_CEIL=2,f.ROUND_FLOOR=3,f.ROUND_HALF_UP=4,f.ROUND_HALF_DOWN=5,f.ROUND_HALF_EVEN=6,f.ROUND_HALF_CEIL=7,f.ROUND_HALF_FLOOR=8,f.EUCLID=9,f.config=f.set=az,f.clone=a,f.isDecimal=aG,f.abs=an,f.acos=ao,f.acosh=ap,f.add=aq,f.asin=ar,f.asinh=as,f.atan=at,f.atanh=au,f.atan2=av,f.cbrt=aw,f.ceil=ax,f.clamp=ay,f.cos=aA,f.cosh=aB,f.div=aC,f.exp=aD,f.floor=aE,f.hypot=aF,f.ln=aH,f.log=aI,f.log10=aK,f.log2=aJ,f.max=aL,f.min=aM,f.mod=aN,f.mul=aO,f.pow=aP,f.random=aQ,f.round=aR,f.sign=aS,f.sin=aT,f.sinh=aU,f.sqrt=aV,f.sub=aW,f.sum=aX,f.tan=aY,f.tanh=aZ,f.trunc=a$,void 0===b&&(b={}),b&&!0!==b.defaults)for(e=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],c=0;c<e.length;)b.hasOwnProperty(d=e[c++])||(b[d]=this[d]);return f.config(b),f}(B);z=new a_(z),A=new a_(A);var a0=a_},159:(a,b,c)=>{"use strict";c.d(b,{F:()=>e,h:()=>f});let d="DYNAMIC_SERVER_USAGE";class e extends Error{constructor(a){super("Dynamic server usage: "+a),this.description=a,this.digest=d}}function f(a){return"object"==typeof a&&null!==a&&"digest"in a&&"string"==typeof a.digest&&a.digest===d}},165:(a,b,c)=>{"use strict";var d=c(356).Buffer;Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{handleFetch:function(){return h},interceptFetch:function(){return i},reader:function(){return f}});let e=c(392),f={url:a=>a.url,header:(a,b)=>a.headers.get(b)};async function g(a,b){let{url:c,method:e,headers:f,body:g,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}=b;return{testData:a,api:"fetch",request:{url:c,method:e,headers:[...Array.from(f),["next-test-stack",function(){let a=(Error().stack??"").split("\n");for(let b=1;b<a.length;b++)if(a[b].length>0){a=a.slice(b);break}return(a=(a=(a=a.filter(a=>!a.includes("/next/dist/"))).slice(0,5)).map(a=>a.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:g?d.from(await b.arrayBuffer()).toString("base64"):null,cache:h,credentials:i,integrity:j,mode:k,redirect:l,referrer:m,referrerPolicy:n}}}async function h(a,b){let c=(0,e.getTestReqInfo)(b,f);if(!c)return a(b);let{testData:h,proxyPort:i}=c,j=await g(h,b),k=await a(`http://localhost:${i}`,{method:"POST",body:JSON.stringify(j),next:{internal:!0}});if(!k.ok)throw Object.defineProperty(Error(`Proxy request failed: ${k.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let l=await k.json(),{api:m}=l;switch(m){case"continue":return a(b);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${b.method} ${b.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":let{status:n,headers:o,body:p}=l.response;return new Response(p?d.from(p,"base64"):null,{status:n,headers:new Headers(o)});default:return m}}function i(a){return c.g.fetch=function(b,c){var d;return(null==c||null==(d=c.next)?void 0:d.internal)?a(b,c):h(a,new Request(b,c))},()=>{c.g.fetch=a}}},213:a=>{(()=>{"use strict";var b={993:a=>{var b=Object.prototype.hasOwnProperty,c="~";function d(){}function e(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function f(a,b,d,f,g){if("function"!=typeof d)throw TypeError("The listener must be a function");var h=new e(d,f||a,g),i=c?c+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function g(a,b){0==--a._eventsCount?a._events=new d:delete a._events[b]}function h(){this._events=new d,this._eventsCount=0}Object.create&&(d.prototype=Object.create(null),(new d).__proto__||(c=!1)),h.prototype.eventNames=function(){var a,d,e=[];if(0===this._eventsCount)return e;for(d in a=this._events)b.call(a,d)&&e.push(c?d.slice(1):d);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(a)):e},h.prototype.listeners=function(a){var b=c?c+a:a,d=this._events[b];if(!d)return[];if(d.fn)return[d.fn];for(var e=0,f=d.length,g=Array(f);e<f;e++)g[e]=d[e].fn;return g},h.prototype.listenerCount=function(a){var b=c?c+a:a,d=this._events[b];return d?d.fn?1:d.length:0},h.prototype.emit=function(a,b,d,e,f,g){var h=c?c+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,d),!0;case 4:return k.fn.call(k.context,b,d,e),!0;case 5:return k.fn.call(k.context,b,d,e,f),!0;case 6:return k.fn.call(k.context,b,d,e,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,d);break;case 4:k[j].fn.call(k[j].context,b,d,e);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},h.prototype.on=function(a,b,c){return f(this,a,b,c,!1)},h.prototype.once=function(a,b,c){return f(this,a,b,c,!0)},h.prototype.removeListener=function(a,b,d,e){var f=c?c+a:a;if(!this._events[f])return this;if(!b)return g(this,f),this;var h=this._events[f];if(h.fn)h.fn!==b||e&&!h.once||d&&h.context!==d||g(this,f);else{for(var i=0,j=[],k=h.length;i<k;i++)(h[i].fn!==b||e&&!h[i].once||d&&h[i].context!==d)&&j.push(h[i]);j.length?this._events[f]=1===j.length?j[0]:j:g(this,f)}return this},h.prototype.removeAllListeners=function(a){var b;return a?(b=c?c+a:a,this._events[b]&&g(this,b)):(this._events=new d,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=c,h.EventEmitter=h,a.exports=h},213:a=>{a.exports=(a,b)=>(b=b||(()=>{}),a.then(a=>new Promise(a=>{a(b())}).then(()=>a),a=>new Promise(a=>{a(b())}).then(()=>{throw a})))},574:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(a,b,c){let d=0,e=a.length;for(;e>0;){let f=e/2|0,g=d+f;0>=c(a[g],b)?(d=++g,e-=f+1):e=f}return d}},821:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0});let d=c(574);class e{constructor(){this._queue=[]}enqueue(a,b){let c={priority:(b=Object.assign({priority:0},b)).priority,run:a};if(this.size&&this._queue[this.size-1].priority>=b.priority)return void this._queue.push(c);let e=d.default(this._queue,c,(a,b)=>b.priority-a.priority);this._queue.splice(e,0,c)}dequeue(){let a=this._queue.shift();return null==a?void 0:a.run}filter(a){return this._queue.filter(b=>b.priority===a.priority).map(a=>a.run)}get size(){return this._queue.length}}b.default=e},816:(a,b,c)=>{let d=c(213);class e extends Error{constructor(a){super(a),this.name="TimeoutError"}}let f=(a,b,c)=>new Promise((f,g)=>{if("number"!=typeof b||b<0)throw TypeError("Expected `milliseconds` to be a positive number");if(b===1/0)return void f(a);let h=setTimeout(()=>{if("function"==typeof c){try{f(c())}catch(a){g(a)}return}let d="string"==typeof c?c:`Promise timed out after ${b} milliseconds`,h=c instanceof Error?c:new e(d);"function"==typeof a.cancel&&a.cancel(),g(h)},b);d(a.then(f,g),()=>{clearTimeout(h)})});a.exports=f,a.exports.default=f,a.exports.TimeoutError=e}},c={};function d(a){var e=c[a];if(void 0!==e)return e.exports;var f=c[a]={exports:{}},g=!0;try{b[a](f,f.exports,d),g=!1}finally{g&&delete c[a]}return f.exports}d.ab="//";var e={};(()=>{Object.defineProperty(e,"__esModule",{value:!0});let a=d(993),b=d(816),c=d(821),f=()=>{},g=new b.TimeoutError;class h extends a{constructor(a){var b,d,e,g;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=f,this._resolveIdle=f,!("number"==typeof(a=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:c.default},a)).intervalCap&&a.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!=(d=null==(b=a.intervalCap)?void 0:b.toString())?d:""}\` (${typeof a.intervalCap})`);if(void 0===a.interval||!(Number.isFinite(a.interval)&&a.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!=(g=null==(e=a.interval)?void 0:e.toString())?g:""}\` (${typeof a.interval})`);this._carryoverConcurrencyCount=a.carryoverConcurrencyCount,this._isIntervalIgnored=a.intervalCap===1/0||0===a.interval,this._intervalCap=a.intervalCap,this._interval=a.interval,this._queue=new a.queueClass,this._queueClass=a.queueClass,this.concurrency=a.concurrency,this._timeout=a.timeout,this._throwOnTimeout=!0===a.throwOnTimeout,this._isPaused=!1===a.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=f,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=f,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let a=Date.now();if(void 0===this._intervalId){let b=this._intervalEnd-a;if(!(b<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},b)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let a=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let b=this._queue.dequeue();return!!b&&(this.emit("active"),b(),a&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(a){if(!("number"==typeof a&&a>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${a}\` (${typeof a})`);this._concurrency=a,this._processQueue()}async add(a,c={}){return new Promise((d,e)=>{let f=async()=>{this._pendingCount++,this._intervalCount++;try{let f=void 0===this._timeout&&void 0===c.timeout?a():b.default(Promise.resolve(a()),void 0===c.timeout?this._timeout:c.timeout,()=>{(void 0===c.throwOnTimeout?this._throwOnTimeout:c.throwOnTimeout)&&e(g)});d(await f)}catch(a){e(a)}this._next()};this._queue.enqueue(f,c),this._tryToStartAnother(),this.emit("add")})}async addAll(a,b){return Promise.all(a.map(async a=>this.add(a,b)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise(a=>{let b=this._resolveEmpty;this._resolveEmpty=()=>{b(),a()}})}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise(a=>{let b=this._resolveIdle;this._resolveIdle=()=>{b(),a()}})}get size(){return this._queue.size}sizeBy(a){return this._queue.filter(a).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(a){this._timeout=a}}e.default=h})(),a.exports=e})()},340:(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a&&"digest"in a&&"BAILOUT_TO_CLIENT_SIDE_RENDERING"===a.digest}c.d(b,{C:()=>d})},356:a=>{"use strict";a.exports=require("node:buffer")},378:(a,b,c)=>{"use strict";c.d(b,{Q:()=>d});var d=function(a){return a[a.SeeOther=303]="SeeOther",a[a.TemporaryRedirect=307]="TemporaryRedirect",a[a.PermanentRedirect=308]="PermanentRedirect",a}({})},379:(a,b,c)=>{"use strict";c.d(b,{J:()=>d});let d=(0,c(58).xl)()},392:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{getTestReqInfo:function(){return g},withRequest:function(){return f}});let d=new(c(521)).AsyncLocalStorage;function e(a,b){let c=b.header(a,"next-test-proxy-port");if(!c)return;let d=b.url(a);return{url:d,proxyPort:Number(c),testData:b.header(a,"next-test-data")||""}}function f(a,b,c){let f=e(a,b);return f?d.run(f,c):c()}function g(a,b){let c=d.getStore();return c||(a&&b?e(a,b):void 0)}},440:(a,b)=>{"use strict";var c={H:null,A:null};function d(a){var b="https://react.dev/errors/"+a;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)b+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e=Array.isArray;function f(){}var g=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.memo"),o=Symbol.for("react.lazy"),p=Symbol.iterator,q=Object.prototype.hasOwnProperty,r=Object.assign;function s(a,b,c){var d=c.ref;return{$$typeof:g,type:a,key:b,ref:void 0!==d?d:null,props:c}}function t(a){return"object"==typeof a&&null!==a&&a.$$typeof===g}var u=/\/+/g;function v(a,b){var c,d;return"object"==typeof a&&null!==a&&null!=a.key?(c=""+a.key,d={"=":"=0",":":"=2"},"$"+c.replace(/[=:]/g,function(a){return d[a]})):b.toString(36)}function w(a,b,c){if(null==a)return a;var i=[],j=0;return!function a(b,c,i,j,k){var l,m,n,q=typeof b;("undefined"===q||"boolean"===q)&&(b=null);var r=!1;if(null===b)r=!0;else switch(q){case"bigint":case"string":case"number":r=!0;break;case"object":switch(b.$$typeof){case g:case h:r=!0;break;case o:return a((r=b._init)(b._payload),c,i,j,k)}}if(r)return k=k(b),r=""===j?"."+v(b,0):j,e(k)?(i="",null!=r&&(i=r.replace(u,"$&/")+"/"),a(k,c,i,"",function(a){return a})):null!=k&&(t(k)&&(l=k,m=i+(null==k.key||b&&b.key===k.key?"":(""+k.key).replace(u,"$&/")+"/")+r,k=s(l.type,m,l.props)),c.push(k)),1;r=0;var w=""===j?".":j+":";if(e(b))for(var x=0;x<b.length;x++)q=w+v(j=b[x],x),r+=a(j,c,i,q,k);else if("function"==typeof(x=null===(n=b)||"object"!=typeof n?null:"function"==typeof(n=p&&n[p]||n["@@iterator"])?n:null))for(b=x.call(b),x=0;!(j=b.next()).done;)q=w+v(j=j.value,x++),r+=a(j,c,i,q,k);else if("object"===q){if("function"==typeof b.then)return a(function(a){switch(a.status){case"fulfilled":return a.value;case"rejected":throw a.reason;default:switch("string"==typeof a.status?a.then(f,f):(a.status="pending",a.then(function(b){"pending"===a.status&&(a.status="fulfilled",a.value=b)},function(b){"pending"===a.status&&(a.status="rejected",a.reason=b)})),a.status){case"fulfilled":return a.value;case"rejected":throw a.reason}}throw a}(b),c,i,j,k);throw Error(d(31,"[object Object]"===(c=String(b))?"object with keys {"+Object.keys(b).join(", ")+"}":c))}return r}(a,i,"","",function(a){return b.call(c,a,j++)}),i}function x(a){if(-1===a._status){var b=a._result;(b=b()).then(function(b){(0===a._status||-1===a._status)&&(a._status=1,a._result=b)},function(b){(0===a._status||-1===a._status)&&(a._status=2,a._result=b)}),-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result}function y(){return new WeakMap}function z(){return{s:0,v:void 0,o:null,p:null}}b.Children={map:w,forEach:function(a,b,c){w(a,function(){b.apply(this,arguments)},c)},count:function(a){var b=0;return w(a,function(){b++}),b},toArray:function(a){return w(a,function(a){return a})||[]},only:function(a){if(!t(a))throw Error(d(143));return a}},b.Fragment=i,b.Profiler=k,b.StrictMode=j,b.Suspense=m,b.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,b.cache=function(a){return function(){var b=c.A;if(!b)return a.apply(null,arguments);var d=b.getCacheForType(y);void 0===(b=d.get(a))&&(b=z(),d.set(a,b)),d=0;for(var e=arguments.length;d<e;d++){var f=arguments[d];if("function"==typeof f||"object"==typeof f&&null!==f){var g=b.o;null===g&&(b.o=g=new WeakMap),void 0===(b=g.get(f))&&(b=z(),g.set(f,b))}else null===(g=b.p)&&(b.p=g=new Map),void 0===(b=g.get(f))&&(b=z(),g.set(f,b))}if(1===b.s)return b.v;if(2===b.s)throw b.v;try{var h=a.apply(null,arguments);return(d=b).s=1,d.v=h}catch(a){throw(h=b).s=2,h.v=a,a}}},b.cacheSignal=function(){var a=c.A;return a?a.cacheSignal():null},b.captureOwnerStack=function(){return null},b.cloneElement=function(a,b,c){if(null==a)throw Error(d(267,a));var e=r({},a.props),f=a.key;if(null!=b)for(g in void 0!==b.key&&(f=""+b.key),b)q.call(b,g)&&"key"!==g&&"__self"!==g&&"__source"!==g&&("ref"!==g||void 0!==b.ref)&&(e[g]=b[g]);var g=arguments.length-2;if(1===g)e.children=c;else if(1<g){for(var h=Array(g),i=0;i<g;i++)h[i]=arguments[i+2];e.children=h}return s(a.type,f,e)},b.createElement=function(a,b,c){var d,e={},f=null;if(null!=b)for(d in void 0!==b.key&&(f=""+b.key),b)q.call(b,d)&&"key"!==d&&"__self"!==d&&"__source"!==d&&(e[d]=b[d]);var g=arguments.length-2;if(1===g)e.children=c;else if(1<g){for(var h=Array(g),i=0;i<g;i++)h[i]=arguments[i+2];e.children=h}if(a&&a.defaultProps)for(d in g=a.defaultProps)void 0===e[d]&&(e[d]=g[d]);return s(a,f,e)},b.createRef=function(){return{current:null}},b.forwardRef=function(a){return{$$typeof:l,render:a}},b.isValidElement=t,b.lazy=function(a){return{$$typeof:o,_payload:{_status:-1,_result:a},_init:x}},b.memo=function(a,b){return{$$typeof:n,type:a,compare:void 0===b?null:b}},b.use=function(a){return c.H.use(a)},b.useCallback=function(a,b){return c.H.useCallback(a,b)},b.useDebugValue=function(){},b.useId=function(){return c.H.useId()},b.useMemo=function(a,b){return c.H.useMemo(a,b)},b.version="19.2.0-canary-0bdb9206-20250818"},443:a=>{"use strict";var b=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,e=Object.prototype.hasOwnProperty,f={};function g(a){var b;let c=["path"in a&&a.path&&`Path=${a.path}`,"expires"in a&&(a.expires||0===a.expires)&&`Expires=${("number"==typeof a.expires?new Date(a.expires):a.expires).toUTCString()}`,"maxAge"in a&&"number"==typeof a.maxAge&&`Max-Age=${a.maxAge}`,"domain"in a&&a.domain&&`Domain=${a.domain}`,"secure"in a&&a.secure&&"Secure","httpOnly"in a&&a.httpOnly&&"HttpOnly","sameSite"in a&&a.sameSite&&`SameSite=${a.sameSite}`,"partitioned"in a&&a.partitioned&&"Partitioned","priority"in a&&a.priority&&`Priority=${a.priority}`].filter(Boolean),d=`${a.name}=${encodeURIComponent(null!=(b=a.value)?b:"")}`;return 0===c.length?d:`${d}; ${c.join("; ")}`}function h(a){let b=new Map;for(let c of a.split(/; */)){if(!c)continue;let a=c.indexOf("=");if(-1===a){b.set(c,"true");continue}let[d,e]=[c.slice(0,a),c.slice(a+1)];try{b.set(d,decodeURIComponent(null!=e?e:"true"))}catch{}}return b}function i(a){if(!a)return;let[[b,c],...d]=h(a),{domain:e,expires:f,httponly:g,maxage:i,path:l,samesite:m,secure:n,partitioned:o,priority:p}=Object.fromEntries(d.map(([a,b])=>[a.toLowerCase().replace(/-/g,""),b]));{var q,r,s={name:b,value:decodeURIComponent(c),domain:e,...f&&{expires:new Date(f)},...g&&{httpOnly:!0},..."string"==typeof i&&{maxAge:Number(i)},path:l,...m&&{sameSite:j.includes(q=(q=m).toLowerCase())?q:void 0},...n&&{secure:!0},...p&&{priority:k.includes(r=(r=p).toLowerCase())?r:void 0},...o&&{partitioned:!0}};let a={};for(let b in s)s[b]&&(a[b]=s[b]);return a}}((a,c)=>{for(var d in c)b(a,d,{get:c[d],enumerable:!0})})(f,{RequestCookies:()=>l,ResponseCookies:()=>m,parseCookie:()=>h,parseSetCookie:()=>i,stringifyCookie:()=>g}),a.exports=((a,f,g,h)=>{if(f&&"object"==typeof f||"function"==typeof f)for(let i of d(f))e.call(a,i)||i===g||b(a,i,{get:()=>f[i],enumerable:!(h=c(f,i))||h.enumerable});return a})(b({},"__esModule",{value:!0}),f);var j=["strict","lax","none"],k=["low","medium","high"],l=class{constructor(a){this._parsed=new Map,this._headers=a;let b=a.get("cookie");if(b)for(let[a,c]of h(b))this._parsed.set(a,{name:a,value:c})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed);if(!a.length)return c.map(([a,b])=>b);let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(([a])=>a===d).map(([a,b])=>b)}has(a){return this._parsed.has(a)}set(...a){let[b,c]=1===a.length?[a[0].name,a[0].value]:a,d=this._parsed;return d.set(b,{name:b,value:c}),this._headers.set("cookie",Array.from(d).map(([a,b])=>g(b)).join("; ")),this}delete(a){let b=this._parsed,c=Array.isArray(a)?a.map(a=>b.delete(a)):b.delete(a);return this._headers.set("cookie",Array.from(b).map(([a,b])=>g(b)).join("; ")),c}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(a=>`${a.name}=${encodeURIComponent(a.value)}`).join("; ")}},m=class{constructor(a){var b,c,d;this._parsed=new Map,this._headers=a;let e=null!=(d=null!=(c=null==(b=a.getSetCookie)?void 0:b.call(a))?c:a.get("set-cookie"))?d:[];for(let a of Array.isArray(e)?e:function(a){if(!a)return[];var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}(e)){let b=i(a);b&&this._parsed.set(b.name,b)}}get(...a){let b="string"==typeof a[0]?a[0]:a[0].name;return this._parsed.get(b)}getAll(...a){var b;let c=Array.from(this._parsed.values());if(!a.length)return c;let d="string"==typeof a[0]?a[0]:null==(b=a[0])?void 0:b.name;return c.filter(a=>a.name===d)}has(a){return this._parsed.has(a)}set(...a){let[b,c,d]=1===a.length?[a[0].name,a[0].value,a[0]]:a,e=this._parsed;return e.set(b,function(a={name:"",value:""}){return"number"==typeof a.expires&&(a.expires=new Date(a.expires)),a.maxAge&&(a.expires=new Date(Date.now()+1e3*a.maxAge)),(null===a.path||void 0===a.path)&&(a.path="/"),a}({name:b,value:c,...d})),function(a,b){for(let[,c]of(b.delete("set-cookie"),a)){let a=g(c);b.append("set-cookie",a)}}(e,this._headers),this}delete(...a){let[b,c]="string"==typeof a[0]?[a[0]]:[a[0].name,a[0]];return this.set({...c,name:b,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(g).join("; ")}}},449:(a,b,c)=>{var d;(()=>{var e={226:function(e,f){!function(g,h){"use strict";var i="function",j="undefined",k="object",l="string",m="major",n="model",o="name",p="type",q="vendor",r="version",s="architecture",t="console",u="mobile",v="tablet",w="smarttv",x="wearable",y="embedded",z="Amazon",A="Apple",B="ASUS",C="BlackBerry",D="Browser",E="Chrome",F="Firefox",G="Google",H="Huawei",I="Microsoft",J="Motorola",K="Opera",L="Samsung",M="Sharp",N="Sony",O="Xiaomi",P="Zebra",Q="Facebook",R="Chromium OS",S="Mac OS",T=function(a,b){var c={};for(var d in a)b[d]&&b[d].length%2==0?c[d]=b[d].concat(a[d]):c[d]=a[d];return c},U=function(a){for(var b={},c=0;c<a.length;c++)b[a[c].toUpperCase()]=a[c];return b},V=function(a,b){return typeof a===l&&-1!==W(b).indexOf(W(a))},W=function(a){return a.toLowerCase()},X=function(a,b){if(typeof a===l)return a=a.replace(/^\s\s*/,""),typeof b===j?a:a.substring(0,350)},Y=function(a,b){for(var c,d,e,f,g,j,l=0;l<b.length&&!g;){var m=b[l],n=b[l+1];for(c=d=0;c<m.length&&!g&&m[c];)if(g=m[c++].exec(a))for(e=0;e<n.length;e++)j=g[++d],typeof(f=n[e])===k&&f.length>0?2===f.length?typeof f[1]==i?this[f[0]]=f[1].call(this,j):this[f[0]]=f[1]:3===f.length?typeof f[1]!==i||f[1].exec&&f[1].test?this[f[0]]=j?j.replace(f[1],f[2]):void 0:this[f[0]]=j?f[1].call(this,j,f[2]):void 0:4===f.length&&(this[f[0]]=j?f[3].call(this,j.replace(f[1],f[2])):h):this[f]=j||h;l+=2}},Z=function(a,b){for(var c in b)if(typeof b[c]===k&&b[c].length>0){for(var d=0;d<b[c].length;d++)if(V(b[c][d],a))return"?"===c?h:c}else if(V(b[c],a))return"?"===c?h:c;return a},$={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},_={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[r,[o,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[r,[o,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[o,r],[/opios[\/ ]+([\w\.]+)/i],[r,[o,K+" Mini"]],[/\bopr\/([\w\.]+)/i],[r,[o,K]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[o,r],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[r,[o,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[r,[o,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[r,[o,"WeChat"]],[/konqueror\/([\w\.]+)/i],[r,[o,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[r,[o,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[r,[o,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[o,/(.+)/,"$1 Secure "+D],r],[/\bfocus\/([\w\.]+)/i],[r,[o,F+" Focus"]],[/\bopt\/([\w\.]+)/i],[r,[o,K+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[r,[o,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[r,[o,"Dolphin"]],[/coast\/([\w\.]+)/i],[r,[o,K+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[r,[o,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[r,[o,F]],[/\bqihu|(qi?ho?o?|360)browser/i],[[o,"360 "+D]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[o,/(.+)/,"$1 "+D],r],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],r],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[o,r],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[o],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[o,Q],r],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[o,r],[/\bgsa\/([\w\.]+) .*safari\//i],[r,[o,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[r,[o,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[r,[o,E+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[o,E+" WebView"],r],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[r,[o,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[o,r],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[r,[o,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[r,o],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[o,[r,Z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[o,r],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[o,"Netscape"],r],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[r,[o,F+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[o,r],[/(cobalt)\/([\w\.]+)/i],[o,[r,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[s,"amd64"]],[/(ia32(?=;))/i],[[s,W]],[/((?:i[346]|x)86)[;\)]/i],[[s,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[s,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[s,"armhf"]],[/windows (ce|mobile); ppc;/i],[[s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[s,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[s,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[n,[q,L],[p,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[n,[q,L],[p,u]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[n,[q,A],[p,u]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[n,[q,A],[p,v]],[/(macintosh);/i],[n,[q,A]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[n,[q,M],[p,u]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[n,[q,H],[p,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[n,[q,H],[p,u]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,u]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[n,/_/g," "],[q,O],[p,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[n,[q,"OPPO"],[p,u]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[n,[q,"Vivo"],[p,u]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[n,[q,"Realme"],[p,u]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[n,[q,J],[p,u]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[n,[q,J],[p,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[n,[q,"LG"],[p,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[n,[q,"LG"],[p,u]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[n,[q,"Lenovo"],[p,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[n,/_/g," "],[q,"Nokia"],[p,u]],[/(pixel c)\b/i],[n,[q,G],[p,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[n,[q,G],[p,u]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[n,[q,N],[p,u]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[n,"Xperia Tablet"],[q,N],[p,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[n,[q,"OnePlus"],[p,u]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[n,[q,z],[p,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[n,/(.+)/g,"Fire Phone $1"],[q,z],[p,u]],[/(playbook);[-\w\),; ]+(rim)/i],[n,q,[p,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[n,[q,C],[p,u]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[n,[q,B],[p,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[n,[q,B],[p,u]],[/(nexus 9)/i],[n,[q,"HTC"],[p,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[q,[n,/_/g," "],[p,u]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[n,[q,"Acer"],[p,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[n,[q,"Meizu"],[p,u]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[q,n,[p,u]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[q,n,[p,v]],[/(surface duo)/i],[n,[q,I],[p,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[n,[q,"Fairphone"],[p,u]],[/(u304aa)/i],[n,[q,"AT&T"],[p,u]],[/\bsie-(\w*)/i],[n,[q,"Siemens"],[p,u]],[/\b(rct\w+) b/i],[n,[q,"RCA"],[p,v]],[/\b(venue[\d ]{2,7}) b/i],[n,[q,"Dell"],[p,v]],[/\b(q(?:mv|ta)\w+) b/i],[n,[q,"Verizon"],[p,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[n,[q,"Barnes & Noble"],[p,v]],[/\b(tm\d{3}\w+) b/i],[n,[q,"NuVision"],[p,v]],[/\b(k88) b/i],[n,[q,"ZTE"],[p,v]],[/\b(nx\d{3}j) b/i],[n,[q,"ZTE"],[p,u]],[/\b(gen\d{3}) b.+49h/i],[n,[q,"Swiss"],[p,u]],[/\b(zur\d{3}) b/i],[n,[q,"Swiss"],[p,v]],[/\b((zeki)?tb.*\b) b/i],[n,[q,"Zeki"],[p,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[q,"Dragon Touch"],n,[p,v]],[/\b(ns-?\w{0,9}) b/i],[n,[q,"Insignia"],[p,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[n,[q,"NextBook"],[p,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[q,"Voice"],n,[p,u]],[/\b(lvtel\-)?(v1[12]) b/i],[[q,"LvTel"],n,[p,u]],[/\b(ph-1) /i],[n,[q,"Essential"],[p,u]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[n,[q,"Envizen"],[p,v]],[/\b(trio[-\w\. ]+) b/i],[n,[q,"MachSpeed"],[p,v]],[/\btu_(1491) b/i],[n,[q,"Rotor"],[p,v]],[/(shield[\w ]+) b/i],[n,[q,"Nvidia"],[p,v]],[/(sprint) (\w+)/i],[q,n,[p,u]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[q,I],[p,u]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[n,[q,P],[p,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[n,[q,P],[p,u]],[/smart-tv.+(samsung)/i],[q,[p,w]],[/hbbtv.+maple;(\d+)/i],[[n,/^/,"SmartTV"],[q,L],[p,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[q,"LG"],[p,w]],[/(apple) ?tv/i],[q,[n,A+" TV"],[p,w]],[/crkey/i],[[n,E+"cast"],[q,G],[p,w]],[/droid.+aft(\w)( bui|\))/i],[n,[q,z],[p,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[n,[q,M],[p,w]],[/(bravia[\w ]+)( bui|\))/i],[n,[q,N],[p,w]],[/(mitv-\w{5}) bui/i],[n,[q,O],[p,w]],[/Hbbtv.*(technisat) (.*);/i],[q,n,[p,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[q,X],[n,X],[p,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[q,n,[p,t]],[/droid.+; (shield) bui/i],[n,[q,"Nvidia"],[p,t]],[/(playstation [345portablevi]+)/i],[n,[q,N],[p,t]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[n,[q,I],[p,t]],[/((pebble))app/i],[q,n,[p,x]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[n,[q,A],[p,x]],[/droid.+; (glass) \d/i],[n,[q,G],[p,x]],[/droid.+; (wt63?0{2,3})\)/i],[n,[q,P],[p,x]],[/(quest( 2| pro)?)/i],[n,[q,Q],[p,x]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[q,[p,y]],[/(aeobc)\b/i],[n,[q,z],[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[n,[p,u]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[n,[p,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,u]],[/(android[-\w\. ]{0,9});.+buil/i],[n,[q,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[r,[o,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[r,[o,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[o,r],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[r,o]],os:[[/microsoft (windows) (vista|xp)/i],[o,r],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[o,[r,Z,$]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[o,"Windows"],[r,Z,$]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[r,/_/g,"."],[o,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[o,S],[r,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[r,o],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[o,r],[/\(bb(10);/i],[r,[o,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[r,[o,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[r,[o,F+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[r,[o,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[r,[o,"watchOS"]],[/crkey\/([\d\.]+)/i],[r,[o,E+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[o,R],r],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[o,r],[/(sunos) ?([\w\.\d]*)/i],[[o,"Solaris"],r],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[o,r]]},aa=function(a,b){if(typeof a===k&&(b=a,a=h),!(this instanceof aa))return new aa(a,b).getResult();var c=typeof g!==j&&g.navigator?g.navigator:h,d=a||(c&&c.userAgent?c.userAgent:""),e=c&&c.userAgentData?c.userAgentData:h,f=b?T(_,b):_,t=c&&c.userAgent==d;return this.getBrowser=function(){var a,b={};return b[o]=h,b[r]=h,Y.call(b,d,f.browser),b[m]=typeof(a=b[r])===l?a.replace(/[^\d\.]/g,"").split(".")[0]:h,t&&c&&c.brave&&typeof c.brave.isBrave==i&&(b[o]="Brave"),b},this.getCPU=function(){var a={};return a[s]=h,Y.call(a,d,f.cpu),a},this.getDevice=function(){var a={};return a[q]=h,a[n]=h,a[p]=h,Y.call(a,d,f.device),t&&!a[p]&&e&&e.mobile&&(a[p]=u),t&&"Macintosh"==a[n]&&c&&typeof c.standalone!==j&&c.maxTouchPoints&&c.maxTouchPoints>2&&(a[n]="iPad",a[p]=v),a},this.getEngine=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.engine),a},this.getOS=function(){var a={};return a[o]=h,a[r]=h,Y.call(a,d,f.os),t&&!a[o]&&e&&"Unknown"!=e.platform&&(a[o]=e.platform.replace(/chrome os/i,R).replace(/macos/i,S)),a},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(a){return d=typeof a===l&&a.length>350?X(a,350):a,this},this.setUA(d),this};aa.VERSION="1.0.35",aa.BROWSER=U([o,r,m]),aa.CPU=U([s]),aa.DEVICE=U([n,q,p,t,u,w,v,x,y]),aa.ENGINE=aa.OS=U([o,r]),typeof f!==j?(e.exports&&(f=e.exports=aa),f.UAParser=aa):c.amdO?void 0===(d=(function(){return aa}).call(b,c,b,a))||(a.exports=d):typeof g!==j&&(g.UAParser=aa);var ab=typeof g!==j&&(g.jQuery||g.Zepto);if(ab&&!ab.ua){var ac=new aa;ab.ua=ac.getResult(),ab.ua.get=function(){return ac.getUA()},ab.ua.set=function(a){ac.setUA(a);var b=ac.getResult();for(var c in b)ab.ua[c]=b[c]}}}("object"==typeof window?window:this)}},f={};function g(a){var b=f[a];if(void 0!==b)return b.exports;var c=f[a]={exports:{}},d=!0;try{e[a].call(c.exports,c,c.exports,g),d=!1}finally{d&&delete f[a]}return c.exports}g.ab="//",a.exports=g(226)})()},515:(a,b,c)=>{"use strict";c.d(b,{X:()=>function a(b){if((0,g.p)(b)||(0,f.C)(b)||(0,i.h)(b)||(0,h.I3)(b)||"object"==typeof b&&null!==b&&b.$$typeof===e||(0,d.Ts)(b))throw b;b instanceof Error&&"cause"in b&&a(b.cause)}});var d=c(770);let e=Symbol.for("react.postpone");var f=c(340),g=c(747),h=c(107),i=c(159)},521:a=>{"use strict";a.exports=require("node:async_hooks")},663:a=>{(()=>{"use strict";"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//");var b={};(()=>{b.parse=function(b,c){if("string"!=typeof b)throw TypeError("argument str must be a string");for(var e={},f=b.split(d),g=(c||{}).decode||a,h=0;h<f.length;h++){var i=f[h],j=i.indexOf("=");if(!(j<0)){var k=i.substr(0,j).trim(),l=i.substr(++j,i.length).trim();'"'==l[0]&&(l=l.slice(1,-1)),void 0==e[k]&&(e[k]=function(a,b){try{return b(a)}catch(b){return a}}(l,g))}}return e},b.serialize=function(a,b,d){var f=d||{},g=f.encode||c;if("function"!=typeof g)throw TypeError("option encode is invalid");if(!e.test(a))throw TypeError("argument name is invalid");var h=g(b);if(h&&!e.test(h))throw TypeError("argument val is invalid");var i=a+"="+h;if(null!=f.maxAge){var j=f.maxAge-0;if(isNaN(j)||!isFinite(j))throw TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(j)}if(f.domain){if(!e.test(f.domain))throw TypeError("option domain is invalid");i+="; Domain="+f.domain}if(f.path){if(!e.test(f.path))throw TypeError("option path is invalid");i+="; Path="+f.path}if(f.expires){if("function"!=typeof f.expires.toUTCString)throw TypeError("option expires is invalid");i+="; Expires="+f.expires.toUTCString()}if(f.httpOnly&&(i+="; HttpOnly"),f.secure&&(i+="; Secure"),f.sameSite)switch("string"==typeof f.sameSite?f.sameSite.toLowerCase():f.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return i};var a=decodeURIComponent,c=encodeURIComponent,d=/; */,e=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),a.exports=b})()},720:(a,b,c)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),!function(a,b){for(var c in b)Object.defineProperty(a,c,{enumerable:!0,get:b[c]})}(b,{interceptTestApis:function(){return f},wrapRequestHandler:function(){return g}});let d=c(392),e=c(165);function f(){return(0,e.interceptFetch)(c.g.fetch)}function g(a){return(b,c)=>(0,d.withRequest)(b,e.reader,()=>a(b,c))}},743:(a,b,c)=>{a.exports={...c(902)}},747:(a,b,c)=>{"use strict";c.d(b,{p:()=>f});var d=c(66),e=c(944);function f(a){return(0,e.nJ)(a)||(0,d.RM)(a)}},753:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0});let{Decimal:d,objectEnumValues:e,makeStrictEnum:f,Public:g,getRuntime:h,skip:i}=c(150),j={};b.Prisma=j,b.$Enums={},j.prismaVersion={client:"5.22.0",engine:"605197351a3c8bdd595af2d2a9bc3025bca48ea2"},j.PrismaClientKnownRequestError=()=>{let a=h().prettyName;throw Error(`PrismaClientKnownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.PrismaClientUnknownRequestError=()=>{let a=h().prettyName;throw Error(`PrismaClientUnknownRequestError is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.PrismaClientRustPanicError=()=>{let a=h().prettyName;throw Error(`PrismaClientRustPanicError is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.PrismaClientInitializationError=()=>{let a=h().prettyName;throw Error(`PrismaClientInitializationError is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.PrismaClientValidationError=()=>{let a=h().prettyName;throw Error(`PrismaClientValidationError is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.NotFoundError=()=>{let a=h().prettyName;throw Error(`NotFoundError is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.Decimal=d,j.sql=()=>{let a=h().prettyName;throw Error(`sqltag is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.empty=()=>{let a=h().prettyName;throw Error(`empty is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.join=()=>{let a=h().prettyName;throw Error(`join is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.raw=()=>{let a=h().prettyName;throw Error(`raw is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.validator=g.validator,j.getExtensionContext=()=>{let a=h().prettyName;throw Error(`Extensions.getExtensionContext is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.defineExtension=()=>{let a=h().prettyName;throw Error(`Extensions.defineExtension is unable to run in this browser environment, or has been bundled for the browser (running in ${a}).
In case this error is unexpected for you, please report it in https://pris.ly/prisma-prisma-bug-report`)},j.DbNull=e.instances.DbNull,j.JsonNull=e.instances.JsonNull,j.AnyNull=e.instances.AnyNull,j.NullTypes={DbNull:e.classes.DbNull,JsonNull:e.classes.JsonNull,AnyNull:e.classes.AnyNull},b.Prisma.TransactionIsolationLevel=f({Serializable:"Serializable"}),b.Prisma.AccountScalarFieldEnum={id:"id",userId:"userId",type:"type",provider:"provider",providerAccountId:"providerAccountId",refresh_token:"refresh_token",access_token:"access_token",expires_at:"expires_at",token_type:"token_type",scope:"scope",id_token:"id_token",session_state:"session_state"},b.Prisma.SessionScalarFieldEnum={id:"id",sessionToken:"sessionToken",userId:"userId",expires:"expires"},b.Prisma.UserScalarFieldEnum={id:"id",name:"name",email:"email",emailVerified:"emailVerified",image:"image",role:"role",location:"location",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.VerificationTokenScalarFieldEnum={identifier:"identifier",token:"token",expires:"expires"},b.Prisma.JobScalarFieldEnum={id:"id",name:"name",title:"title",client:"client",description:"description",location:"location",status:"status",priority:"priority",startDate:"startDate",endDate:"endDate",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.JobMemberScalarFieldEnum={id:"id",jobId:"jobId",userId:"userId",role:"role",createdAt:"createdAt"},b.Prisma.MessageScalarFieldEnum={id:"id",content:"content",type:"type",senderId:"senderId",jobId:"jobId",isEdited:"isEdited",editedAt:"editedAt",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.CrewScalarFieldEnum={id:"id",name:"name",type:"type",foremanId:"foremanId",active:"active",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.CrewMemberScalarFieldEnum={id:"id",crewId:"crewId",userId:"userId",active:"active",createdAt:"createdAt"},b.Prisma.CrewAssignmentScalarFieldEnum={id:"id",jobId:"jobId",crewId:"crewId",location:"location",active:"active",assignedAt:"assignedAt",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.CalendarEventScalarFieldEnum={id:"id",jobId:"jobId",title:"title",description:"description",date:"date",type:"type",attendees:"attendees",reminder:"reminder",allDay:"allDay",createdAt:"createdAt",updatedAt:"updatedAt"},b.Prisma.SortOrder={asc:"asc",desc:"desc"},b.Prisma.NullsOrder={first:"first",last:"last"},b.Prisma.ModelName={Account:"Account",Session:"Session",User:"User",VerificationToken:"VerificationToken",Job:"Job",JobMember:"JobMember",Message:"Message",Crew:"Crew",CrewMember:"CrewMember",CrewAssignment:"CrewAssignment",CalendarEvent:"CalendarEvent"};class k{constructor(){return new Proxy(this,{get(a,b){let c=h();throw Error((c.isEdge?`PrismaClient is not configured to run in ${c.prettyName}. In order to run Prisma Client on edge runtime, either:
- Use Prisma Accelerate: https://pris.ly/d/accelerate
- Use Driver Adapters: https://pris.ly/d/driver-adapters
`:"PrismaClient is unable to run in this browser environment, or has been bundled for the browser (running in `"+c.prettyName+"`).")+`
If this is unexpected, please open an issue: https://pris.ly/prisma-prisma-bug-report`)}})}}b.PrismaClient=k,Object.assign(b,j)},770:(a,b,c)=>{"use strict";function d(a){return"object"==typeof a&&null!==a&&"digest"in a&&a.digest===e}c.d(b,{Ts:()=>d,W5:()=>h});let e="HANGING_PROMISE_REJECTION";class f extends Error{constructor(a,b){super(`During prerendering, ${b} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${b} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route "${a}".`),this.route=a,this.expression=b,this.digest=e}}let g=new WeakMap;function h(a,b,c){if(a.aborted)return Promise.reject(new f(b,c));{let d=new Promise((d,e)=>{let h=e.bind(null,new f(b,c)),i=g.get(a);if(i)i.push(h);else{let b=[h];g.set(a,b),a.addEventListener("abort",()=>{for(let a=0;a<b.length;a++)b[a]()},{once:!0})}});return d.catch(i),d}}function i(){}},809:(a,b,c)=>{"use strict";c.d(b,{z:()=>d});class d extends Error{constructor(a,b){super("Invariant: "+(a.endsWith(".")?a:a+".")+" This is a bug in Next.js.",b),this.name="InvariantError"}}},814:(a,b,c)=>{"use strict";a.exports=c(440)},817:(a,b,c)=>{(()=>{"use strict";var b={491:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ContextAPI=void 0;let d=c(223),e=c(172),f=c(930),g="context",h=new d.NoopContextManager;class i{constructor(){}static getInstance(){return this._instance||(this._instance=new i),this._instance}setGlobalContextManager(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}active(){return this._getContextManager().active()}with(a,b,c,...d){return this._getContextManager().with(a,b,c,...d)}bind(a,b){return this._getContextManager().bind(a,b)}_getContextManager(){return(0,e.getGlobal)(g)||h}disable(){this._getContextManager().disable(),(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.ContextAPI=i},930:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagAPI=void 0;let d=c(56),e=c(912),f=c(957),g=c(172);class h{constructor(){function a(a){return function(...b){let c=(0,g.getGlobal)("diag");if(c)return c[a](...b)}}let b=this;b.setLogger=(a,c={logLevel:f.DiagLogLevel.INFO})=>{var d,h,i;if(a===b){let a=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return b.error(null!=(d=a.stack)?d:a.message),!1}"number"==typeof c&&(c={logLevel:c});let j=(0,g.getGlobal)("diag"),k=(0,e.createLogLevelDiagLogger)(null!=(h=c.logLevel)?h:f.DiagLogLevel.INFO,a);if(j&&!c.suppressOverrideMessage){let a=null!=(i=Error().stack)?i:"<failed to generate stacktrace>";j.warn(`Current logger will be overwritten from ${a}`),k.warn(`Current logger will overwrite one already registered from ${a}`)}return(0,g.registerGlobal)("diag",k,b,!0)},b.disable=()=>{(0,g.unregisterGlobal)("diag",b)},b.createComponentLogger=a=>new d.DiagComponentLogger(a),b.verbose=a("verbose"),b.debug=a("debug"),b.info=a("info"),b.warn=a("warn"),b.error=a("error")}static instance(){return this._instance||(this._instance=new h),this._instance}}b.DiagAPI=h},653:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MetricsAPI=void 0;let d=c(660),e=c(172),f=c(930),g="metrics";class h{constructor(){}static getInstance(){return this._instance||(this._instance=new h),this._instance}setGlobalMeterProvider(a){return(0,e.registerGlobal)(g,a,f.DiagAPI.instance())}getMeterProvider(){return(0,e.getGlobal)(g)||d.NOOP_METER_PROVIDER}getMeter(a,b,c){return this.getMeterProvider().getMeter(a,b,c)}disable(){(0,e.unregisterGlobal)(g,f.DiagAPI.instance())}}b.MetricsAPI=h},181:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.PropagationAPI=void 0;let d=c(172),e=c(874),f=c(194),g=c(277),h=c(369),i=c(930),j="propagation",k=new e.NoopTextMapPropagator;class l{constructor(){this.createBaggage=h.createBaggage,this.getBaggage=g.getBaggage,this.getActiveBaggage=g.getActiveBaggage,this.setBaggage=g.setBaggage,this.deleteBaggage=g.deleteBaggage}static getInstance(){return this._instance||(this._instance=new l),this._instance}setGlobalPropagator(a){return(0,d.registerGlobal)(j,a,i.DiagAPI.instance())}inject(a,b,c=f.defaultTextMapSetter){return this._getGlobalPropagator().inject(a,b,c)}extract(a,b,c=f.defaultTextMapGetter){return this._getGlobalPropagator().extract(a,b,c)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,d.unregisterGlobal)(j,i.DiagAPI.instance())}_getGlobalPropagator(){return(0,d.getGlobal)(j)||k}}b.PropagationAPI=l},997:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceAPI=void 0;let d=c(172),e=c(846),f=c(139),g=c(607),h=c(930),i="trace";class j{constructor(){this._proxyTracerProvider=new e.ProxyTracerProvider,this.wrapSpanContext=f.wrapSpanContext,this.isSpanContextValid=f.isSpanContextValid,this.deleteSpan=g.deleteSpan,this.getSpan=g.getSpan,this.getActiveSpan=g.getActiveSpan,this.getSpanContext=g.getSpanContext,this.setSpan=g.setSpan,this.setSpanContext=g.setSpanContext}static getInstance(){return this._instance||(this._instance=new j),this._instance}setGlobalTracerProvider(a){let b=(0,d.registerGlobal)(i,this._proxyTracerProvider,h.DiagAPI.instance());return b&&this._proxyTracerProvider.setDelegate(a),b}getTracerProvider(){return(0,d.getGlobal)(i)||this._proxyTracerProvider}getTracer(a,b){return this.getTracerProvider().getTracer(a,b)}disable(){(0,d.unregisterGlobal)(i,h.DiagAPI.instance()),this._proxyTracerProvider=new e.ProxyTracerProvider}}b.TraceAPI=j},277:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.deleteBaggage=b.setBaggage=b.getActiveBaggage=b.getBaggage=void 0;let d=c(491),e=(0,c(780).createContextKey)("OpenTelemetry Baggage Key");function f(a){return a.getValue(e)||void 0}b.getBaggage=f,b.getActiveBaggage=function(){return f(d.ContextAPI.getInstance().active())},b.setBaggage=function(a,b){return a.setValue(e,b)},b.deleteBaggage=function(a){return a.deleteValue(e)}},993:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.BaggageImpl=void 0;class c{constructor(a){this._entries=a?new Map(a):new Map}getEntry(a){let b=this._entries.get(a);if(b)return Object.assign({},b)}getAllEntries(){return Array.from(this._entries.entries()).map(([a,b])=>[a,b])}setEntry(a,b){let d=new c(this._entries);return d._entries.set(a,b),d}removeEntry(a){let b=new c(this._entries);return b._entries.delete(a),b}removeEntries(...a){let b=new c(this._entries);for(let c of a)b._entries.delete(c);return b}clear(){return new c}}b.BaggageImpl=c},830:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataSymbol=void 0,b.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.baggageEntryMetadataFromString=b.createBaggage=void 0;let d=c(930),e=c(993),f=c(830),g=d.DiagAPI.instance();b.createBaggage=function(a={}){return new e.BaggageImpl(new Map(Object.entries(a)))},b.baggageEntryMetadataFromString=function(a){return"string"!=typeof a&&(g.error(`Cannot create baggage metadata from unknown type: ${typeof a}`),a=""),{__TYPE__:f.baggageEntryMetadataSymbol,toString:()=>a}}},67:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.context=void 0,b.context=c(491).ContextAPI.getInstance()},223:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopContextManager=void 0;let d=c(780);class e{active(){return d.ROOT_CONTEXT}with(a,b,c,...d){return b.call(c,...d)}bind(a,b){return b}enable(){return this}disable(){return this}}b.NoopContextManager=e},780:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ROOT_CONTEXT=b.createContextKey=void 0,b.createContextKey=function(a){return Symbol.for(a)};class c{constructor(a){let b=this;b._currentContext=a?new Map(a):new Map,b.getValue=a=>b._currentContext.get(a),b.setValue=(a,d)=>{let e=new c(b._currentContext);return e._currentContext.set(a,d),e},b.deleteValue=a=>{let d=new c(b._currentContext);return d._currentContext.delete(a),d}}}b.ROOT_CONTEXT=new c},506:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.diag=void 0,b.diag=c(930).DiagAPI.instance()},56:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagComponentLogger=void 0;let d=c(172);class e{constructor(a){this._namespace=a.namespace||"DiagComponentLogger"}debug(...a){return f("debug",this._namespace,a)}error(...a){return f("error",this._namespace,a)}info(...a){return f("info",this._namespace,a)}warn(...a){return f("warn",this._namespace,a)}verbose(...a){return f("verbose",this._namespace,a)}}function f(a,b,c){let e=(0,d.getGlobal)("diag");if(e)return c.unshift(b),e[a](...c)}b.DiagComponentLogger=e},972:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagConsoleLogger=void 0;let c=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class d{constructor(){for(let a=0;a<c.length;a++)this[c[a].n]=function(a){return function(...b){if(console){let c=console[a];if("function"!=typeof c&&(c=console.log),"function"==typeof c)return c.apply(console,b)}}}(c[a].c)}}b.DiagConsoleLogger=d},912:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createLogLevelDiagLogger=void 0;let d=c(957);b.createLogLevelDiagLogger=function(a,b){function c(c,d){let e=b[c];return"function"==typeof e&&a>=d?e.bind(b):function(){}}return a<d.DiagLogLevel.NONE?a=d.DiagLogLevel.NONE:a>d.DiagLogLevel.ALL&&(a=d.DiagLogLevel.ALL),b=b||{},{error:c("error",d.DiagLogLevel.ERROR),warn:c("warn",d.DiagLogLevel.WARN),info:c("info",d.DiagLogLevel.INFO),debug:c("debug",d.DiagLogLevel.DEBUG),verbose:c("verbose",d.DiagLogLevel.VERBOSE)}}},957:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.DiagLogLevel=void 0,function(a){a[a.NONE=0]="NONE",a[a.ERROR=30]="ERROR",a[a.WARN=50]="WARN",a[a.INFO=60]="INFO",a[a.DEBUG=70]="DEBUG",a[a.VERBOSE=80]="VERBOSE",a[a.ALL=9999]="ALL"}(b.DiagLogLevel||(b.DiagLogLevel={}))},172:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.unregisterGlobal=b.getGlobal=b.registerGlobal=void 0;let d=c(200),e=c(521),f=c(130),g=e.VERSION.split(".")[0],h=Symbol.for(`opentelemetry.js.api.${g}`),i=d._globalThis;b.registerGlobal=function(a,b,c,d=!1){var f;let g=i[h]=null!=(f=i[h])?f:{version:e.VERSION};if(!d&&g[a]){let b=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${a}`);return c.error(b.stack||b.message),!1}if(g.version!==e.VERSION){let b=Error(`@opentelemetry/api: Registration of version v${g.version} for ${a} does not match previously registered API v${e.VERSION}`);return c.error(b.stack||b.message),!1}return g[a]=b,c.debug(`@opentelemetry/api: Registered a global for ${a} v${e.VERSION}.`),!0},b.getGlobal=function(a){var b,c;let d=null==(b=i[h])?void 0:b.version;if(d&&(0,f.isCompatible)(d))return null==(c=i[h])?void 0:c[a]},b.unregisterGlobal=function(a,b){b.debug(`@opentelemetry/api: Unregistering a global for ${a} v${e.VERSION}.`);let c=i[h];c&&delete c[a]}},130:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isCompatible=b._makeCompatibilityCheck=void 0;let d=c(521),e=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function f(a){let b=new Set([a]),c=new Set,d=a.match(e);if(!d)return()=>!1;let f={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=f.prerelease)return function(b){return b===a};function g(a){return c.add(a),!1}return function(a){if(b.has(a))return!0;if(c.has(a))return!1;let d=a.match(e);if(!d)return g(a);let h={major:+d[1],minor:+d[2],patch:+d[3],prerelease:d[4]};if(null!=h.prerelease||f.major!==h.major)return g(a);if(0===f.major)return f.minor===h.minor&&f.patch<=h.patch?(b.add(a),!0):g(a);return f.minor<=h.minor?(b.add(a),!0):g(a)}}b._makeCompatibilityCheck=f,b.isCompatible=f(d.VERSION)},886:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.metrics=void 0,b.metrics=c(653).MetricsAPI.getInstance()},901:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ValueType=void 0,function(a){a[a.INT=0]="INT",a[a.DOUBLE=1]="DOUBLE"}(b.ValueType||(b.ValueType={}))},102:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createNoopMeter=b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=b.NOOP_OBSERVABLE_GAUGE_METRIC=b.NOOP_OBSERVABLE_COUNTER_METRIC=b.NOOP_UP_DOWN_COUNTER_METRIC=b.NOOP_HISTOGRAM_METRIC=b.NOOP_COUNTER_METRIC=b.NOOP_METER=b.NoopObservableUpDownCounterMetric=b.NoopObservableGaugeMetric=b.NoopObservableCounterMetric=b.NoopObservableMetric=b.NoopHistogramMetric=b.NoopUpDownCounterMetric=b.NoopCounterMetric=b.NoopMetric=b.NoopMeter=void 0;class c{constructor(){}createHistogram(a,c){return b.NOOP_HISTOGRAM_METRIC}createCounter(a,c){return b.NOOP_COUNTER_METRIC}createUpDownCounter(a,c){return b.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(a,c){return b.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(a,c){return b.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(a,c){return b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(a,b){}removeBatchObservableCallback(a){}}b.NoopMeter=c;class d{}b.NoopMetric=d;class e extends d{add(a,b){}}b.NoopCounterMetric=e;class f extends d{add(a,b){}}b.NoopUpDownCounterMetric=f;class g extends d{record(a,b){}}b.NoopHistogramMetric=g;class h{addCallback(a){}removeCallback(a){}}b.NoopObservableMetric=h;class i extends h{}b.NoopObservableCounterMetric=i;class j extends h{}b.NoopObservableGaugeMetric=j;class k extends h{}b.NoopObservableUpDownCounterMetric=k,b.NOOP_METER=new c,b.NOOP_COUNTER_METRIC=new e,b.NOOP_HISTOGRAM_METRIC=new g,b.NOOP_UP_DOWN_COUNTER_METRIC=new f,b.NOOP_OBSERVABLE_COUNTER_METRIC=new i,b.NOOP_OBSERVABLE_GAUGE_METRIC=new j,b.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new k,b.createNoopMeter=function(){return b.NOOP_METER}},660:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NOOP_METER_PROVIDER=b.NoopMeterProvider=void 0;let d=c(102);class e{getMeter(a,b,c){return d.NOOP_METER}}b.NoopMeterProvider=e,b.NOOP_METER_PROVIDER=new e},200:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(46),b)},651:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b._globalThis=void 0,b._globalThis="object"==typeof globalThis?globalThis:c.g},46:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),e(c(651),b)},939:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.propagation=void 0,b.propagation=c(181).PropagationAPI.getInstance()},874:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTextMapPropagator=void 0;class c{inject(a,b){}extract(a,b){return a}fields(){return[]}}b.NoopTextMapPropagator=c},194:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.defaultTextMapSetter=b.defaultTextMapGetter=void 0,b.defaultTextMapGetter={get(a,b){if(null!=a)return a[b]},keys:a=>null==a?[]:Object.keys(a)},b.defaultTextMapSetter={set(a,b,c){null!=a&&(a[b]=c)}}},845:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.trace=void 0,b.trace=c(997).TraceAPI.getInstance()},403:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NonRecordingSpan=void 0;let d=c(476);class e{constructor(a=d.INVALID_SPAN_CONTEXT){this._spanContext=a}spanContext(){return this._spanContext}setAttribute(a,b){return this}setAttributes(a){return this}addEvent(a,b){return this}setStatus(a){return this}updateName(a){return this}end(a){}isRecording(){return!1}recordException(a,b){}}b.NonRecordingSpan=e},614:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracer=void 0;let d=c(491),e=c(607),f=c(403),g=c(139),h=d.ContextAPI.getInstance();class i{startSpan(a,b,c=h.active()){var d;if(null==b?void 0:b.root)return new f.NonRecordingSpan;let i=c&&(0,e.getSpanContext)(c);return"object"==typeof(d=i)&&"string"==typeof d.spanId&&"string"==typeof d.traceId&&"number"==typeof d.traceFlags&&(0,g.isSpanContextValid)(i)?new f.NonRecordingSpan(i):new f.NonRecordingSpan}startActiveSpan(a,b,c,d){let f,g,i;if(arguments.length<2)return;2==arguments.length?i=b:3==arguments.length?(f=b,i=c):(f=b,g=c,i=d);let j=null!=g?g:h.active(),k=this.startSpan(a,f,j),l=(0,e.setSpan)(j,k);return h.with(l,i,void 0,k)}}b.NoopTracer=i},124:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.NoopTracerProvider=void 0;let d=c(614);class e{getTracer(a,b,c){return new d.NoopTracer}}b.NoopTracerProvider=e},125:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracer=void 0;let d=new(c(614)).NoopTracer;class e{constructor(a,b,c,d){this._provider=a,this.name=b,this.version=c,this.options=d}startSpan(a,b,c){return this._getTracer().startSpan(a,b,c)}startActiveSpan(a,b,c,d){let e=this._getTracer();return Reflect.apply(e.startActiveSpan,e,arguments)}_getTracer(){if(this._delegate)return this._delegate;let a=this._provider.getDelegateTracer(this.name,this.version,this.options);return a?(this._delegate=a,this._delegate):d}}b.ProxyTracer=e},846:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ProxyTracerProvider=void 0;let d=c(125),e=new(c(124)).NoopTracerProvider;class f{getTracer(a,b,c){var e;return null!=(e=this.getDelegateTracer(a,b,c))?e:new d.ProxyTracer(this,a,b,c)}getDelegate(){var a;return null!=(a=this._delegate)?a:e}setDelegate(a){this._delegate=a}getDelegateTracer(a,b,c){var d;return null==(d=this._delegate)?void 0:d.getTracer(a,b,c)}}b.ProxyTracerProvider=f},996:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SamplingDecision=void 0,function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(b.SamplingDecision||(b.SamplingDecision={}))},607:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.getSpanContext=b.setSpanContext=b.deleteSpan=b.setSpan=b.getActiveSpan=b.getSpan=void 0;let d=c(780),e=c(403),f=c(491),g=(0,d.createContextKey)("OpenTelemetry Context Key SPAN");function h(a){return a.getValue(g)||void 0}function i(a,b){return a.setValue(g,b)}b.getSpan=h,b.getActiveSpan=function(){return h(f.ContextAPI.getInstance().active())},b.setSpan=i,b.deleteSpan=function(a){return a.deleteValue(g)},b.setSpanContext=function(a,b){return i(a,new e.NonRecordingSpan(b))},b.getSpanContext=function(a){var b;return null==(b=h(a))?void 0:b.spanContext()}},325:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceStateImpl=void 0;let d=c(564);class e{constructor(a){this._internalState=new Map,a&&this._parse(a)}set(a,b){let c=this._clone();return c._internalState.has(a)&&c._internalState.delete(a),c._internalState.set(a,b),c}unset(a){let b=this._clone();return b._internalState.delete(a),b}get(a){return this._internalState.get(a)}serialize(){return this._keys().reduce((a,b)=>(a.push(b+"="+this.get(b)),a),[]).join(",")}_parse(a){!(a.length>512)&&(this._internalState=a.split(",").reverse().reduce((a,b)=>{let c=b.trim(),e=c.indexOf("=");if(-1!==e){let f=c.slice(0,e),g=c.slice(e+1,b.length);(0,d.validateKey)(f)&&(0,d.validateValue)(g)&&a.set(f,g)}return a},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let a=new e;return a._internalState=new Map(this._internalState),a}}b.TraceStateImpl=e},564:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.validateValue=b.validateKey=void 0;let c="[_0-9a-z-*/]",d=`[a-z]${c}{0,255}`,e=`[a-z0-9]${c}{0,240}@[a-z]${c}{0,13}`,f=RegExp(`^(?:${d}|${e})$`),g=/^[ -~]{0,255}[!-~]$/,h=/,|=/;b.validateKey=function(a){return f.test(a)},b.validateValue=function(a){return g.test(a)&&!h.test(a)}},98:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createTraceState=void 0;let d=c(325);b.createTraceState=function(a){return new d.TraceStateImpl(a)}},476:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.INVALID_SPAN_CONTEXT=b.INVALID_TRACEID=b.INVALID_SPANID=void 0;let d=c(475);b.INVALID_SPANID="0000000000000000",b.INVALID_TRACEID="00000000000000000000000000000000",b.INVALID_SPAN_CONTEXT={traceId:b.INVALID_TRACEID,spanId:b.INVALID_SPANID,traceFlags:d.TraceFlags.NONE}},357:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SpanKind=void 0,function(a){a[a.INTERNAL=0]="INTERNAL",a[a.SERVER=1]="SERVER",a[a.CLIENT=2]="CLIENT",a[a.PRODUCER=3]="PRODUCER",a[a.CONSUMER=4]="CONSUMER"}(b.SpanKind||(b.SpanKind={}))},139:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.wrapSpanContext=b.isSpanContextValid=b.isValidSpanId=b.isValidTraceId=void 0;let d=c(476),e=c(403),f=/^([0-9a-f]{32})$/i,g=/^[0-9a-f]{16}$/i;function h(a){return f.test(a)&&a!==d.INVALID_TRACEID}function i(a){return g.test(a)&&a!==d.INVALID_SPANID}b.isValidTraceId=h,b.isValidSpanId=i,b.isSpanContextValid=function(a){return h(a.traceId)&&i(a.spanId)},b.wrapSpanContext=function(a){return new e.NonRecordingSpan(a)}},847:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.SpanStatusCode=void 0,function(a){a[a.UNSET=0]="UNSET",a[a.OK=1]="OK",a[a.ERROR=2]="ERROR"}(b.SpanStatusCode||(b.SpanStatusCode={}))},475:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.TraceFlags=void 0,function(a){a[a.NONE=0]="NONE",a[a.SAMPLED=1]="SAMPLED"}(b.TraceFlags||(b.TraceFlags={}))},521:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.VERSION=void 0,b.VERSION="1.6.0"}},d={};function e(a){var c=d[a];if(void 0!==c)return c.exports;var f=d[a]={exports:{}},g=!0;try{b[a].call(f.exports,f,f.exports,e),g=!1}finally{g&&delete d[a]}return f.exports}e.ab="//";var f={};(()=>{Object.defineProperty(f,"__esModule",{value:!0}),f.trace=f.propagation=f.metrics=f.diag=f.context=f.INVALID_SPAN_CONTEXT=f.INVALID_TRACEID=f.INVALID_SPANID=f.isValidSpanId=f.isValidTraceId=f.isSpanContextValid=f.createTraceState=f.TraceFlags=f.SpanStatusCode=f.SpanKind=f.SamplingDecision=f.ProxyTracerProvider=f.ProxyTracer=f.defaultTextMapSetter=f.defaultTextMapGetter=f.ValueType=f.createNoopMeter=f.DiagLogLevel=f.DiagConsoleLogger=f.ROOT_CONTEXT=f.createContextKey=f.baggageEntryMetadataFromString=void 0;var a=e(369);Object.defineProperty(f,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return a.baggageEntryMetadataFromString}});var b=e(780);Object.defineProperty(f,"createContextKey",{enumerable:!0,get:function(){return b.createContextKey}}),Object.defineProperty(f,"ROOT_CONTEXT",{enumerable:!0,get:function(){return b.ROOT_CONTEXT}});var c=e(972);Object.defineProperty(f,"DiagConsoleLogger",{enumerable:!0,get:function(){return c.DiagConsoleLogger}});var d=e(957);Object.defineProperty(f,"DiagLogLevel",{enumerable:!0,get:function(){return d.DiagLogLevel}});var g=e(102);Object.defineProperty(f,"createNoopMeter",{enumerable:!0,get:function(){return g.createNoopMeter}});var h=e(901);Object.defineProperty(f,"ValueType",{enumerable:!0,get:function(){return h.ValueType}});var i=e(194);Object.defineProperty(f,"defaultTextMapGetter",{enumerable:!0,get:function(){return i.defaultTextMapGetter}}),Object.defineProperty(f,"defaultTextMapSetter",{enumerable:!0,get:function(){return i.defaultTextMapSetter}});var j=e(125);Object.defineProperty(f,"ProxyTracer",{enumerable:!0,get:function(){return j.ProxyTracer}});var k=e(846);Object.defineProperty(f,"ProxyTracerProvider",{enumerable:!0,get:function(){return k.ProxyTracerProvider}});var l=e(996);Object.defineProperty(f,"SamplingDecision",{enumerable:!0,get:function(){return l.SamplingDecision}});var m=e(357);Object.defineProperty(f,"SpanKind",{enumerable:!0,get:function(){return m.SpanKind}});var n=e(847);Object.defineProperty(f,"SpanStatusCode",{enumerable:!0,get:function(){return n.SpanStatusCode}});var o=e(475);Object.defineProperty(f,"TraceFlags",{enumerable:!0,get:function(){return o.TraceFlags}});var p=e(98);Object.defineProperty(f,"createTraceState",{enumerable:!0,get:function(){return p.createTraceState}});var q=e(139);Object.defineProperty(f,"isSpanContextValid",{enumerable:!0,get:function(){return q.isSpanContextValid}}),Object.defineProperty(f,"isValidTraceId",{enumerable:!0,get:function(){return q.isValidTraceId}}),Object.defineProperty(f,"isValidSpanId",{enumerable:!0,get:function(){return q.isValidSpanId}});var r=e(476);Object.defineProperty(f,"INVALID_SPANID",{enumerable:!0,get:function(){return r.INVALID_SPANID}}),Object.defineProperty(f,"INVALID_TRACEID",{enumerable:!0,get:function(){return r.INVALID_TRACEID}}),Object.defineProperty(f,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return r.INVALID_SPAN_CONTEXT}});let s=e(67);Object.defineProperty(f,"context",{enumerable:!0,get:function(){return s.context}});let t=e(506);Object.defineProperty(f,"diag",{enumerable:!0,get:function(){return t.diag}});let u=e(886);Object.defineProperty(f,"metrics",{enumerable:!0,get:function(){return u.metrics}});let v=e(939);Object.defineProperty(f,"propagation",{enumerable:!0,get:function(){return v.propagation}});let w=e(845);Object.defineProperty(f,"trace",{enumerable:!0,get:function(){return w.trace}}),f.default={context:s.context,diag:t.diag,metrics:u.metrics,propagation:v.propagation,trace:w.trace}})(),a.exports=f})()},819:(a,b,c)=>{"use strict";let d,e,f,g,h;c.r(b),c.d(b,{default:()=>ic});var i={};c.r(i),c.d(i,{q:()=>dO,l:()=>dR});var j={};async function k(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}c.r(j),c.d(j,{config:()=>h8,default:()=>h7});let l=null;async function m(){if("phase-production-build"===process.env.NEXT_PHASE)return;l||(l=k());let a=await l;if(null==a?void 0:a.register)try{await a.register()}catch(a){throw a.message=`An error occurred while loading instrumentation hook: ${a.message}`,a}}async function n(...a){let b=await k();try{var c;await (null==b||null==(c=b.onRequestError)?void 0:c.call(b,...a))}catch(a){console.error("Error in instrumentation.onRequestError:",a)}}let o=null;function p(){return o||(o=m()),o}function q(a){return`The edge runtime does not support Node.js '${a}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==c.g.process&&(process.env=c.g.process.env,c.g.process=process);try{Object.defineProperty(globalThis,"__import_unsupported",{value:function(a){let b=new Proxy(function(){},{get(b,c){if("then"===c)return{};throw Object.defineProperty(Error(q(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(q(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(c,d,e){if("function"==typeof e[0])return e[0](b);throw Object.defineProperty(Error(q(a)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>b})},enumerable:!1,configurable:!1})}catch{}p();class r extends Error{constructor({page:a}){super(`The middleware "${a}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class s extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class t extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}let u="_N_T_",v={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function w(a){var b,c,d,e,f,g=[],h=0;function i(){for(;h<a.length&&/\s/.test(a.charAt(h));)h+=1;return h<a.length}for(;h<a.length;){for(b=h,f=!1;i();)if(","===(c=a.charAt(h))){for(d=h,h+=1,i(),e=h;h<a.length&&"="!==(c=a.charAt(h))&&";"!==c&&","!==c;)h+=1;h<a.length&&"="===a.charAt(h)?(f=!0,h=e,g.push(a.substring(b,d)),b=h):h=d+1}else h+=1;(!f||h>=a.length)&&g.push(a.substring(b,a.length))}return g}function x(a){let b={},c=[];if(a)for(let[d,e]of a.entries())"set-cookie"===d.toLowerCase()?(c.push(...w(e)),b[d]=1===c.length?c[0]:c):b[d]=e;return b}function y(a){try{return String(new URL(String(a)))}catch(b){throw Object.defineProperty(Error(`URL is malformed "${String(a)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:b}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...v,GROUP:{builtinReact:[v.reactServerComponents,v.actionBrowser],serverOnly:[v.reactServerComponents,v.actionBrowser,v.instrument,v.middleware],neutralTarget:[v.apiNode,v.apiEdge],clientOnly:[v.serverSideRendering,v.appPagesBrowser],bundled:[v.reactServerComponents,v.actionBrowser,v.serverSideRendering,v.appPagesBrowser,v.shared,v.instrument,v.middleware],appPages:[v.reactServerComponents,v.serverSideRendering,v.appPagesBrowser,v.actionBrowser]}});let z=Symbol("response"),A=Symbol("passThrough"),B=Symbol("waitUntil");class C{constructor(a,b){this[A]=!1,this[B]=b?{kind:"external",function:b}:{kind:"internal",promises:[]}}respondWith(a){this[z]||(this[z]=Promise.resolve(a))}passThroughOnException(){this[A]=!0}waitUntil(a){if("external"===this[B].kind)return(0,this[B].function)(a);this[B].promises.push(a)}}class D extends C{constructor(a){var b;super(a.request,null==(b=a.context)?void 0:b.waitUntil),this.sourcePage=a.page}get request(){throw Object.defineProperty(new r({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new r({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function E(a){return a.replace(/\/$/,"")||"/"}function F(a){let b=a.indexOf("#"),c=a.indexOf("?"),d=c>-1&&(b<0||c<b);return d||b>-1?{pathname:a.substring(0,d?c:b),query:d?a.substring(c,b>-1?b:void 0):"",hash:b>-1?a.slice(b):""}:{pathname:a,query:"",hash:""}}function G(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=F(a);return""+b+c+d+e}function H(a,b){if(!a.startsWith("/")||!b)return a;let{pathname:c,query:d,hash:e}=F(a);return""+c+b+d+e}function I(a,b){if("string"!=typeof a)return!1;let{pathname:c}=F(a);return c===b||c.startsWith(b+"/")}let J=new WeakMap;function K(a,b){let c;if(!b)return{pathname:a};let d=J.get(b);d||(d=b.map(a=>a.toLowerCase()),J.set(b,d));let e=a.split("/",2);if(!e[1])return{pathname:a};let f=e[1].toLowerCase(),g=d.indexOf(f);return g<0?{pathname:a}:(c=b[g],{pathname:a=a.slice(c.length+1)||"/",detectedLocale:c})}let L=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function M(a,b){return new URL(String(a).replace(L,"localhost"),b&&String(b).replace(L,"localhost"))}let N=Symbol("NextURLInternal");class O{constructor(a,b,c){let d,e;"object"==typeof b&&"pathname"in b||"string"==typeof b?(d=b,e=c||{}):e=c||b||{},this[N]={url:M(a,d??e.base),options:e,basePath:""},this.analyze()}analyze(){var a,b,c,d,e;let f=function(a,b){var c,d;let{basePath:e,i18n:f,trailingSlash:g}=null!=(c=b.nextConfig)?c:{},h={pathname:a,trailingSlash:"/"!==a?a.endsWith("/"):g};e&&I(h.pathname,e)&&(h.pathname=function(a,b){if(!I(a,b))return a;let c=a.slice(b.length);return c.startsWith("/")?c:"/"+c}(h.pathname,e),h.basePath=e);let i=h.pathname;if(h.pathname.startsWith("/_next/data/")&&h.pathname.endsWith(".json")){let a=h.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");h.buildId=a[0],i="index"!==a[1]?"/"+a.slice(1).join("/"):"/",!0===b.parseData&&(h.pathname=i)}if(f){let a=b.i18nProvider?b.i18nProvider.analyze(h.pathname):K(h.pathname,f.locales);h.locale=a.detectedLocale,h.pathname=null!=(d=a.pathname)?d:h.pathname,!a.detectedLocale&&h.buildId&&(a=b.i18nProvider?b.i18nProvider.analyze(i):K(i,f.locales)).detectedLocale&&(h.locale=a.detectedLocale)}return h}(this[N].url.pathname,{nextConfig:this[N].options.nextConfig,parseData:!0,i18nProvider:this[N].options.i18nProvider}),g=function(a,b){let c;if((null==b?void 0:b.host)&&!Array.isArray(b.host))c=b.host.toString().split(":",1)[0];else{if(!a.hostname)return;c=a.hostname}return c.toLowerCase()}(this[N].url,this[N].options.headers);this[N].domainLocale=this[N].options.i18nProvider?this[N].options.i18nProvider.detectDomainLocale(g):function(a,b,c){if(a)for(let f of(c&&(c=c.toLowerCase()),a)){var d,e;if(b===(null==(d=f.domain)?void 0:d.split(":",1)[0].toLowerCase())||c===f.defaultLocale.toLowerCase()||(null==(e=f.locales)?void 0:e.some(a=>a.toLowerCase()===c)))return f}}(null==(b=this[N].options.nextConfig)||null==(a=b.i18n)?void 0:a.domains,g);let h=(null==(c=this[N].domainLocale)?void 0:c.defaultLocale)||(null==(e=this[N].options.nextConfig)||null==(d=e.i18n)?void 0:d.defaultLocale);this[N].url.pathname=f.pathname,this[N].defaultLocale=h,this[N].basePath=f.basePath??"",this[N].buildId=f.buildId,this[N].locale=f.locale??h,this[N].trailingSlash=f.trailingSlash}formatPathname(){var a;let b;return b=function(a,b,c,d){if(!b||b===c)return a;let e=a.toLowerCase();return!d&&(I(e,"/api")||I(e,"/"+b.toLowerCase()))?a:G(a,"/"+b)}((a={basePath:this[N].basePath,buildId:this[N].buildId,defaultLocale:this[N].options.forceLocale?void 0:this[N].defaultLocale,locale:this[N].locale,pathname:this[N].url.pathname,trailingSlash:this[N].trailingSlash}).pathname,a.locale,a.buildId?void 0:a.defaultLocale,a.ignorePrefix),(a.buildId||!a.trailingSlash)&&(b=E(b)),a.buildId&&(b=H(G(b,"/_next/data/"+a.buildId),"/"===a.pathname?"index.json":".json")),b=G(b,a.basePath),!a.buildId&&a.trailingSlash?b.endsWith("/")?b:H(b,"/"):E(b)}formatSearch(){return this[N].url.search}get buildId(){return this[N].buildId}set buildId(a){this[N].buildId=a}get locale(){return this[N].locale??""}set locale(a){var b,c;if(!this[N].locale||!(null==(c=this[N].options.nextConfig)||null==(b=c.i18n)?void 0:b.locales.includes(a)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${a}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[N].locale=a}get defaultLocale(){return this[N].defaultLocale}get domainLocale(){return this[N].domainLocale}get searchParams(){return this[N].url.searchParams}get host(){return this[N].url.host}set host(a){this[N].url.host=a}get hostname(){return this[N].url.hostname}set hostname(a){this[N].url.hostname=a}get port(){return this[N].url.port}set port(a){this[N].url.port=a}get protocol(){return this[N].url.protocol}set protocol(a){this[N].url.protocol=a}get href(){let a=this.formatPathname(),b=this.formatSearch();return`${this.protocol}//${this.host}${a}${b}${this.hash}`}set href(a){this[N].url=M(a),this.analyze()}get origin(){return this[N].url.origin}get pathname(){return this[N].url.pathname}set pathname(a){this[N].url.pathname=a}get hash(){return this[N].url.hash}set hash(a){this[N].url.hash=a}get search(){return this[N].url.search}set search(a){this[N].url.search=a}get password(){return this[N].url.password}set password(a){this[N].url.password=a}get username(){return this[N].url.username}set username(a){this[N].url.username=a}get basePath(){return this[N].basePath}set basePath(a){this[N].basePath=a.startsWith("/")?a:`/${a}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new O(String(this),this[N].options)}}var P=c(443);let Q=Symbol("internal request");class R extends Request{constructor(a,b={}){let c="string"!=typeof a&&"url"in a?a.url:String(a);y(c),a instanceof Request?super(a,b):super(c,b);let d=new O(c,{headers:x(this.headers),nextConfig:b.nextConfig});this[Q]={cookies:new P.RequestCookies(this.headers),nextUrl:d,url:d.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[Q].cookies}get nextUrl(){return this[Q].nextUrl}get page(){throw new s}get ua(){throw new t}get url(){return this[Q].url}}class S{static get(a,b,c){let d=Reflect.get(a,b,c);return"function"==typeof d?d.bind(a):d}static set(a,b,c,d){return Reflect.set(a,b,c,d)}static has(a,b){return Reflect.has(a,b)}static deleteProperty(a,b){return Reflect.deleteProperty(a,b)}}let T=Symbol("internal response"),U=new Set([301,302,303,307,308]);function V(a,b){var c;if(null==a||null==(c=a.request)?void 0:c.headers){if(!(a.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let c=[];for(let[d,e]of a.request.headers)b.set("x-middleware-request-"+d,e),c.push(d);b.set("x-middleware-override-headers",c.join(","))}}class W extends Response{constructor(a,b={}){super(a,b);let c=this.headers,d=new Proxy(new P.ResponseCookies(c),{get(a,d,e){switch(d){case"delete":case"set":return(...e)=>{let f=Reflect.apply(a[d],a,e),g=new Headers(c);return f instanceof P.ResponseCookies&&c.set("x-middleware-set-cookie",f.getAll().map(a=>(0,P.stringifyCookie)(a)).join(",")),V(b,g),f};default:return S.get(a,d,e)}}});this[T]={cookies:d,url:b.url?new O(b.url,{headers:x(c),nextConfig:b.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[T].cookies}static json(a,b){let c=Response.json(a,b);return new W(c.body,c)}static redirect(a,b){let c="number"==typeof b?b:(null==b?void 0:b.status)??307;if(!U.has(c))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let d="object"==typeof b?b:{},e=new Headers(null==d?void 0:d.headers);return e.set("Location",y(a)),new W(null,{...d,headers:e,status:c})}static rewrite(a,b){let c=new Headers(null==b?void 0:b.headers);return c.set("x-middleware-rewrite",y(a)),V(b,c),new W(null,{...b,headers:c})}static next(a){let b=new Headers(null==a?void 0:a.headers);return b.set("x-middleware-next","1"),V(a,b),new W(null,{...a,headers:b})}}function X(a,b){let c="string"==typeof b?new URL(b):b,d=new URL(a,b),e=d.origin===c.origin;return{url:e?d.toString().slice(c.origin.length):d.toString(),isRelative:e}}let Y="next-router-prefetch",Z=["rsc","next-router-state-tree",Y,"next-hmr-refresh","next-router-segment-prefetch"],$="_rsc";class _ extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new _}}class aa extends Headers{constructor(a){super(),this.headers=new Proxy(a,{get(b,c,d){if("symbol"==typeof c)return S.get(b,c,d);let e=c.toLowerCase(),f=Object.keys(a).find(a=>a.toLowerCase()===e);if(void 0!==f)return S.get(b,f,d)},set(b,c,d,e){if("symbol"==typeof c)return S.set(b,c,d,e);let f=c.toLowerCase(),g=Object.keys(a).find(a=>a.toLowerCase()===f);return S.set(b,g??c,d,e)},has(b,c){if("symbol"==typeof c)return S.has(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0!==e&&S.has(b,e)},deleteProperty(b,c){if("symbol"==typeof c)return S.deleteProperty(b,c);let d=c.toLowerCase(),e=Object.keys(a).find(a=>a.toLowerCase()===d);return void 0===e||S.deleteProperty(b,e)}})}static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"append":case"delete":case"set":return _.callable;default:return S.get(a,b,c)}}})}merge(a){return Array.isArray(a)?a.join(", "):a}static from(a){return a instanceof Headers?a:new aa(a)}append(a,b){let c=this.headers[a];"string"==typeof c?this.headers[a]=[c,b]:Array.isArray(c)?c.push(b):this.headers[a]=b}delete(a){delete this.headers[a]}get(a){let b=this.headers[a];return void 0!==b?this.merge(b):null}has(a){return void 0!==this.headers[a]}set(a,b){this.headers[a]=b}forEach(a,b){for(let[c,d]of this.entries())a.call(b,d,c,this)}*entries(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase(),c=this.get(b);yield[b,c]}}*keys(){for(let a of Object.keys(this.headers)){let b=a.toLowerCase();yield b}}*values(){for(let a of Object.keys(this.headers)){let b=this.get(a);yield b}}[Symbol.iterator](){return this.entries()}}var ab=c(379);class ac extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new ac}}class ad{static seal(a){return new Proxy(a,{get(a,b,c){switch(b){case"clear":case"delete":case"set":return ac.callable;default:return S.get(a,b,c)}}})}}let ae=Symbol.for("next.mutated.cookies");class af{static wrap(a,b){let c=new P.ResponseCookies(new Headers);for(let b of a.getAll())c.set(b);let d=[],e=new Set,f=()=>{let a=ab.J.getStore();if(a&&(a.pathWasRevalidated=!0),d=c.getAll().filter(a=>e.has(a.name)),b){let a=[];for(let b of d){let c=new P.ResponseCookies(new Headers);c.set(b),a.push(c.toString())}b(a)}},g=new Proxy(c,{get(a,b,c){switch(b){case ae:return d;case"delete":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.delete(...b),g}finally{f()}};case"set":return function(...b){e.add("string"==typeof b[0]?b[0]:b[0].name);try{return a.set(...b),g}finally{f()}};default:return S.get(a,b,c)}}});return g}}function ag(a){return"action"===a.phase}function ah(a,b){if(!ag(a))throw new ac}var ai=function(a){return a.handleRequest="BaseServer.handleRequest",a.run="BaseServer.run",a.pipe="BaseServer.pipe",a.getStaticHTML="BaseServer.getStaticHTML",a.render="BaseServer.render",a.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",a.renderToResponse="BaseServer.renderToResponse",a.renderToHTML="BaseServer.renderToHTML",a.renderError="BaseServer.renderError",a.renderErrorToResponse="BaseServer.renderErrorToResponse",a.renderErrorToHTML="BaseServer.renderErrorToHTML",a.render404="BaseServer.render404",a}(ai||{}),aj=function(a){return a.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",a.loadComponents="LoadComponents.loadComponents",a}(aj||{}),ak=function(a){return a.getRequestHandler="NextServer.getRequestHandler",a.getServer="NextServer.getServer",a.getServerRequestHandler="NextServer.getServerRequestHandler",a.createServer="createServer.createServer",a}(ak||{}),al=function(a){return a.compression="NextNodeServer.compression",a.getBuildId="NextNodeServer.getBuildId",a.createComponentTree="NextNodeServer.createComponentTree",a.clientComponentLoading="NextNodeServer.clientComponentLoading",a.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",a.generateStaticRoutes="NextNodeServer.generateStaticRoutes",a.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",a.generatePublicRoutes="NextNodeServer.generatePublicRoutes",a.generateImageRoutes="NextNodeServer.generateImageRoutes.route",a.sendRenderResult="NextNodeServer.sendRenderResult",a.proxyRequest="NextNodeServer.proxyRequest",a.runApi="NextNodeServer.runApi",a.render="NextNodeServer.render",a.renderHTML="NextNodeServer.renderHTML",a.imageOptimizer="NextNodeServer.imageOptimizer",a.getPagePath="NextNodeServer.getPagePath",a.getRoutesManifest="NextNodeServer.getRoutesManifest",a.findPageComponents="NextNodeServer.findPageComponents",a.getFontManifest="NextNodeServer.getFontManifest",a.getServerComponentManifest="NextNodeServer.getServerComponentManifest",a.getRequestHandler="NextNodeServer.getRequestHandler",a.renderToHTML="NextNodeServer.renderToHTML",a.renderError="NextNodeServer.renderError",a.renderErrorToHTML="NextNodeServer.renderErrorToHTML",a.render404="NextNodeServer.render404",a.startResponse="NextNodeServer.startResponse",a.route="route",a.onProxyReq="onProxyReq",a.apiResolver="apiResolver",a.internalFetch="internalFetch",a}(al||{}),am=function(a){return a.startServer="startServer.startServer",a}(am||{}),an=function(a){return a.getServerSideProps="Render.getServerSideProps",a.getStaticProps="Render.getStaticProps",a.renderToString="Render.renderToString",a.renderDocument="Render.renderDocument",a.createBodyResult="Render.createBodyResult",a}(an||{}),ao=function(a){return a.renderToString="AppRender.renderToString",a.renderToReadableStream="AppRender.renderToReadableStream",a.getBodyResult="AppRender.getBodyResult",a.fetch="AppRender.fetch",a}(ao||{}),ap=function(a){return a.executeRoute="Router.executeRoute",a}(ap||{}),aq=function(a){return a.runHandler="Node.runHandler",a}(aq||{}),ar=function(a){return a.runHandler="AppRouteRouteHandlers.runHandler",a}(ar||{}),as=function(a){return a.generateMetadata="ResolveMetadata.generateMetadata",a.generateViewport="ResolveMetadata.generateViewport",a}(as||{}),at=function(a){return a.execute="Middleware.execute",a}(at||{});let au=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],av=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function aw(a){return null!==a&&"object"==typeof a&&"then"in a&&"function"==typeof a.then}let{context:ax,propagation:ay,trace:az,SpanStatusCode:aA,SpanKind:aB,ROOT_CONTEXT:aC}=d=c(817);class aD extends Error{constructor(a,b){super(),this.bubble=a,this.result=b}}let aE=(a,b)=>{(function(a){return"object"==typeof a&&null!==a&&a instanceof aD})(b)&&b.bubble?a.setAttribute("next.bubble",!0):(b&&(a.recordException(b),a.setAttribute("error.type",b.name)),a.setStatus({code:aA.ERROR,message:null==b?void 0:b.message})),a.end()},aF=new Map,aG=d.createContextKey("next.rootSpanId"),aH=0,aI={set(a,b,c){a.push({key:b,value:c})}};class aJ{getTracerInstance(){return az.getTracer("next.js","0.0.1")}getContext(){return ax}getTracePropagationData(){let a=ax.active(),b=[];return ay.inject(a,b,aI),b}getActiveScopeSpan(){return az.getSpan(null==ax?void 0:ax.active())}withPropagatedContext(a,b,c){let d=ax.active();if(az.getSpanContext(d))return b();let e=ay.extract(d,a,c);return ax.with(e,b)}trace(...a){var b;let[c,d,e]=a,{fn:f,options:g}="function"==typeof d?{fn:d,options:{}}:{fn:e,options:{...d}},h=g.spanName??c;if(!au.includes(c)&&"1"!==process.env.NEXT_OTEL_VERBOSE||g.hideSpan)return f();let i=this.getSpanContext((null==g?void 0:g.parentSpan)??this.getActiveScopeSpan()),j=!1;i?(null==(b=az.getSpanContext(i))?void 0:b.isRemote)&&(j=!0):(i=(null==ax?void 0:ax.active())??aC,j=!0);let k=aH++;return g.attributes={"next.span_name":h,"next.span_type":c,...g.attributes},ax.with(i.setValue(aG,k),()=>this.getTracerInstance().startActiveSpan(h,g,a=>{let b="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,d=()=>{aF.delete(k),b&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&av.includes(c||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(c.split(".").pop()||"").replace(/[A-Z]/g,a=>"-"+a.toLowerCase())}`,{start:b,end:performance.now()})};j&&aF.set(k,new Map(Object.entries(g.attributes??{})));try{if(f.length>1)return f(a,b=>aE(a,b));let b=f(a);if(aw(b))return b.then(b=>(a.end(),b)).catch(b=>{throw aE(a,b),b}).finally(d);return a.end(),d(),b}catch(b){throw aE(a,b),d(),b}}))}wrap(...a){let b=this,[c,d,e]=3===a.length?a:[a[0],{},a[1]];return au.includes(c)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let a=d;"function"==typeof a&&"function"==typeof e&&(a=a.apply(this,arguments));let f=arguments.length-1,g=arguments[f];if("function"!=typeof g)return b.trace(c,a,()=>e.apply(this,arguments));{let d=b.getContext().bind(ax.active(),g);return b.trace(c,a,(a,b)=>(arguments[f]=function(a){return null==b||b(a),d.apply(this,arguments)},e.apply(this,arguments)))}}:e}startSpan(...a){let[b,c]=a,d=this.getSpanContext((null==c?void 0:c.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(b,c,d)}getSpanContext(a){return a?az.setSpan(ax.active(),a):void 0}getRootSpanAttributes(){let a=ax.active().getValue(aG);return aF.get(a)}setRootSpanAttribute(a,b){let c=ax.active().getValue(aG),d=aF.get(c);d&&d.set(a,b)}}let aK=(()=>{let a=new aJ;return()=>a})(),aL="__prerender_bypass";Symbol("__next_preview_data"),Symbol(aL);class aM{constructor(a,b,c,d){var e;let f=a&&function(a,b){let c=aa.from(a.headers);return{isOnDemandRevalidate:c.get("x-prerender-revalidate")===b.previewModeId,revalidateOnlyGenerated:c.has("x-prerender-revalidate-if-generated")}}(b,a).isOnDemandRevalidate,g=null==(e=c.get(aL))?void 0:e.value;this._isEnabled=!!(!f&&g&&a&&g===a.previewModeId),this._previewModeId=null==a?void 0:a.previewModeId,this._mutableCookies=d}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:aL,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:aL,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function aN(a,b){if("x-middleware-set-cookie"in a.headers&&"string"==typeof a.headers["x-middleware-set-cookie"]){let c=a.headers["x-middleware-set-cookie"],d=new Headers;for(let a of w(c))d.append("set-cookie",a);for(let a of new P.ResponseCookies(d).getAll())b.set(a)}}var aO=c(128),aP=c(213),aQ=c.n(aP),aR=c(809);class aS{constructor(a,b,c){this.prev=null,this.next=null,this.key=a,this.data=b,this.size=c}}class aT{constructor(){this.prev=null,this.next=null}}class aU{constructor(a,b){this.cache=new Map,this.totalSize=0,this.maxSize=a,this.calculateSize=b,this.head=new aT,this.tail=new aT,this.head.next=this.tail,this.tail.prev=this.head}addToHead(a){a.prev=this.head,a.next=this.head.next,this.head.next.prev=a,this.head.next=a}removeNode(a){a.prev.next=a.next,a.next.prev=a.prev}moveToHead(a){this.removeNode(a),this.addToHead(a)}removeTail(){let a=this.tail.prev;return this.removeNode(a),a}set(a,b){let c=(null==this.calculateSize?void 0:this.calculateSize.call(this,b))??1;if(c>this.maxSize)return void console.warn("Single item size exceeds maxSize");let d=this.cache.get(a);if(d)d.data=b,this.totalSize=this.totalSize-d.size+c,d.size=c,this.moveToHead(d);else{let d=new aS(a,b,c);this.cache.set(a,d),this.addToHead(d),this.totalSize+=c}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let a=this.removeTail();this.cache.delete(a.key),this.totalSize-=a.size}}has(a){return this.cache.has(a)}get(a){let b=this.cache.get(a);if(b)return this.moveToHead(b),b.data}*[Symbol.iterator](){let a=this.head.next;for(;a&&a!==this.tail;){let b=a;yield[b.key,b.data],a=a.next}}remove(a){let b=this.cache.get(a);b&&(this.removeNode(b),this.cache.delete(a),this.totalSize-=b.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}c(356).Buffer,new aU(0x3200000,a=>a.size),process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.debug.bind(console,"DefaultCacheHandler:"),process.env.NEXT_PRIVATE_DEBUG_CACHE&&((a,...b)=>{console.log(`use-cache: ${a}`,...b)}),Symbol.for("@next/cache-handlers");let aV=Symbol.for("@next/cache-handlers-map"),aW=Symbol.for("@next/cache-handlers-set"),aX=globalThis;function aY(){if(aX[aV])return aX[aV].entries()}async function aZ(a,b){if(!a)return b();let c=a$(a);try{return await b()}finally{let b=function(a,b){let c=new Set(a.pendingRevalidatedTags),d=new Set(a.pendingRevalidateWrites);return{pendingRevalidatedTags:b.pendingRevalidatedTags.filter(a=>!c.has(a)),pendingRevalidates:Object.fromEntries(Object.entries(b.pendingRevalidates).filter(([b])=>!(b in a.pendingRevalidates))),pendingRevalidateWrites:b.pendingRevalidateWrites.filter(a=>!d.has(a))}}(c,a$(a));await a0(a,b)}}function a$(a){return{pendingRevalidatedTags:a.pendingRevalidatedTags?[...a.pendingRevalidatedTags]:[],pendingRevalidates:{...a.pendingRevalidates},pendingRevalidateWrites:a.pendingRevalidateWrites?[...a.pendingRevalidateWrites]:[]}}async function a_(a,b){if(0===a.length)return;let c=[];b&&c.push(b.revalidateTag(a));let d=function(){if(aX[aW])return aX[aW].values()}();if(d)for(let b of d)c.push(b.expireTags(...a));await Promise.all(c)}async function a0(a,b){let c=(null==b?void 0:b.pendingRevalidatedTags)??a.pendingRevalidatedTags??[],d=(null==b?void 0:b.pendingRevalidates)??a.pendingRevalidates??{},e=(null==b?void 0:b.pendingRevalidateWrites)??a.pendingRevalidateWrites??[];return Promise.all([a_(c,a.incrementalCache),...Object.values(d),...e])}let a1=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a2{disable(){throw a1}getStore(){}run(){throw a1}exit(){throw a1}enterWith(){throw a1}static bind(a){return a}}let a3="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage,a4=a3?new a3:new a2;class a5{constructor({waitUntil:a,onClose:b,onTaskError:c}){this.workUnitStores=new Set,this.waitUntil=a,this.onClose=b,this.onTaskError=c,this.callbackQueue=new(aQ()),this.callbackQueue.pause()}after(a){if(aw(a))this.waitUntil||a6(),this.waitUntil(a.catch(a=>this.reportTaskError("promise",a)));else if("function"==typeof a)this.addCallback(a);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(a){var b;this.waitUntil||a6();let c=aO.FP.getStore();c&&this.workUnitStores.add(c);let d=a4.getStore(),e=d?d.rootTaskSpawnPhase:null==c?void 0:c.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let f=(b=async()=>{try{await a4.run({rootTaskSpawnPhase:e},()=>a())}catch(a){this.reportTaskError("function",a)}},a3?a3.bind(b):a2.bind(b));this.callbackQueue.add(f)}async runCallbacksOnClose(){return await new Promise(a=>this.onClose(a)),this.runCallbacks()}async runCallbacks(){if(0===this.callbackQueue.size)return;for(let a of this.workUnitStores)a.phase="after";let a=ab.J.getStore();if(!a)throw Object.defineProperty(new aR.z("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return aZ(a,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(a,b){if(console.error("promise"===a?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",b),this.onTaskError)try{null==this.onTaskError||this.onTaskError.call(this,b)}catch(a){console.error(Object.defineProperty(new aR.z("`onTaskError` threw while handling an error thrown from an `after` task",{cause:a}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function a6(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function a7(a){let b,c={then:(d,e)=>(b||(b=a()),b.then(a=>{c.value=a}).catch(()=>{}),b.then(d,e))};return c}class a8{onClose(a){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",a),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function a9(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let ba=Symbol.for("@next/request-context");async function bb(a,b,c){let d=[],e=c&&c.size>0;for(let b of(a=>{let b=["/layout"];if(a.startsWith("/")){let c=a.split("/");for(let a=1;a<c.length+1;a++){let d=c.slice(0,a).join("/");d&&(d.endsWith("/page")||d.endsWith("/route")||(d=`${d}${!d.endsWith("/")?"/":""}layout`),b.push(d))}}return b})(a))b=`${u}${b}`,d.push(b);if(b.pathname&&!e){let a=`${u}${b.pathname}`;d.push(a)}return{tags:d,expirationsByCacheKind:function(a){let b=new Map,c=aY();if(c)for(let[d,e]of c)"getExpiration"in e&&b.set(d,a7(async()=>e.getExpiration(...a)));return b}(d)}}class bc extends R{constructor(a){super(a.input,a.init),this.sourcePage=a.page}get request(){throw Object.defineProperty(new r({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new r({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new r({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let bd={keys:a=>Array.from(a.keys()),get:(a,b)=>a.get(b)??void 0},be=(a,b)=>aK().withPropagatedContext(a.headers,b,bd),bf=!1;async function bg(a){var b;let d,e;if(!bf&&(bf=!0,"true"===process.env.NEXT_PRIVATE_TEST_PROXY)){let{interceptTestApis:a,wrapRequestHandler:b}=c(720);a(),be=b(be)}await p();let f=void 0!==globalThis.__BUILD_MANIFEST;a.request.url=a.request.url.replace(/\.rsc($|\?)/,"$1");let g=a.bypassNextUrl?new URL(a.request.url):new O(a.request.url,{headers:a.request.headers,nextConfig:a.request.nextConfig});for(let a of[...g.searchParams.keys()]){let b=g.searchParams.getAll(a),c=function(a){for(let b of["nxtP","nxtI"])if(a!==b&&a.startsWith(b))return a.substring(b.length);return null}(a);if(c){for(let a of(g.searchParams.delete(c),b))g.searchParams.append(c,a);g.searchParams.delete(a)}}let h=process.env.__NEXT_BUILD_ID||"";"buildId"in g&&(h=g.buildId||"",g.buildId="");let i=function(a){let b=new Headers;for(let[c,d]of Object.entries(a))for(let a of Array.isArray(d)?d:[d])void 0!==a&&("number"==typeof a&&(a=a.toString()),b.append(c,a));return b}(a.request.headers),j=i.has("x-nextjs-data"),k="1"===i.get("rsc");j&&"/index"===g.pathname&&(g.pathname="/");let l=new Map;if(!f)for(let a of Z){let b=i.get(a);null!==b&&(l.set(a,b),i.delete(a))}let m=g.searchParams.get($),n=new bc({page:a.page,input:(function(a){let b="string"==typeof a,c=b?new URL(a):a;return c.searchParams.delete($),b?c.toString():c})(g).toString(),init:{body:a.request.body,headers:i,method:a.request.method,nextConfig:a.request.nextConfig,signal:a.request.signal}});j&&Object.defineProperty(n,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&a.IncrementalCache&&(globalThis.__incrementalCache=new a.IncrementalCache({CurCacheHandler:a.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:a.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:a9()})}));let o=a.request.waitUntil??(null==(b=function(){let a=globalThis[ba];return null==a?void 0:a.get()}())?void 0:b.waitUntil),q=new D({request:n,page:a.page,context:o?{waitUntil:o}:void 0});if((d=await be(n,()=>{if("/middleware"===a.page||"/src/middleware"===a.page){let b=q.waitUntil.bind(q),c=new a8;return aK().trace(at.execute,{spanName:`middleware ${n.method} ${n.nextUrl.pathname}`,attributes:{"http.target":n.nextUrl.pathname,"http.method":n.method}},async()=>{try{var d,f,g,i,j,k;let l=a9(),m=await bb("/",n.nextUrl,null),o=(j=n.nextUrl,k=a=>{e=a},function(a,b,c,d,e,f,g,h,i,j,k,l){function m(a){c&&c.setHeader("Set-Cookie",a)}let n={};return{type:"request",phase:a,implicitTags:f,url:{pathname:d.pathname,search:d.search??""},rootParams:e,get headers(){return n.headers||(n.headers=function(a){let b=aa.from(a);for(let a of Z)b.delete(a);return aa.seal(b)}(b.headers)),n.headers},get cookies(){if(!n.cookies){let a=new P.RequestCookies(aa.from(b.headers));aN(b,a),n.cookies=ad.seal(a)}return n.cookies},set cookies(value){n.cookies=value},get mutableCookies(){if(!n.mutableCookies){let a=function(a,b){let c=new P.RequestCookies(aa.from(a));return af.wrap(c,b)}(b.headers,g||(c?m:void 0));aN(b,a),n.mutableCookies=a}return n.mutableCookies},get userspaceMutableCookies(){return n.userspaceMutableCookies||(n.userspaceMutableCookies=function(a){let b=new Proxy(a.mutableCookies,{get(c,d,e){switch(d){case"delete":return function(...d){return ah(a,"cookies().delete"),c.delete(...d),b};case"set":return function(...d){return ah(a,"cookies().set"),c.set(...d),b};default:return S.get(c,d,e)}}});return b}(this)),n.userspaceMutableCookies},get draftMode(){return n.draftMode||(n.draftMode=new aM(i,b,this.cookies,this.mutableCookies)),n.draftMode},renderResumeDataCache:h??null,isHmrRefresh:j,serverComponentsHmrCache:k||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",n,void 0,j,{},m,k,void 0,l,!1,void 0,null)),p=function({page:a,renderOpts:b,isPrefetchRequest:c,buildId:d,previouslyRevalidatedTags:e}){var f;let g=!b.shouldWaitOnAllReady&&!b.supportsDynamicResponse&&!b.isDraftMode&&!b.isPossibleServerAction,h=b.dev??!1,i=h||g&&(!!process.env.NEXT_DEBUG_BUILD||"1"===process.env.NEXT_SSG_FETCH_METRICS),j={isStaticGeneration:g,page:a,route:(f=a.split("/").reduce((a,b,c,d)=>b?"("===b[0]&&b.endsWith(")")||"@"===b[0]||("page"===b||"route"===b)&&c===d.length-1?a:a+"/"+b:a,"")).startsWith("/")?f:"/"+f,incrementalCache:b.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:b.cacheLifeProfiles,isRevalidate:b.isRevalidate,isBuildTimePrerendering:b.nextExport,hasReadableErrorStacks:b.hasReadableErrorStacks,fetchCache:b.fetchCache,isOnDemandRevalidate:b.isOnDemandRevalidate,isDraftMode:b.isDraftMode,isPrefetchRequest:c,buildId:d,reactLoadableManifest:(null==b?void 0:b.reactLoadableManifest)||{},assetPrefix:(null==b?void 0:b.assetPrefix)||"",afterContext:function(a){let{waitUntil:b,onClose:c,onAfterTaskError:d}=a;return new a5({waitUntil:b,onClose:c,onTaskError:d})}(b),cacheComponentsEnabled:b.experimental.cacheComponents,dev:h,previouslyRevalidatedTags:e,refreshTagsByCacheKind:function(){let a=new Map,b=aY();if(b)for(let[c,d]of b)"refreshTags"in d&&a.set(c,a7(async()=>d.refreshTags()));return a}(),runInCleanSnapshot:a3?a3.snapshot():function(a,...b){return a(...b)},shouldTrackFetchMetrics:i};return b.store=j,j}({page:"/",renderOpts:{cacheLifeProfiles:null==(f=a.request.nextConfig)||null==(d=f.experimental)?void 0:d.cacheLife,experimental:{isRoutePPREnabled:!1,cacheComponents:!1,authInterrupts:!!(null==(i=a.request.nextConfig)||null==(g=i.experimental)?void 0:g.authInterrupts)},supportsDynamicResponse:!0,waitUntil:b,onClose:c.onClose.bind(c),onAfterTaskError:void 0},isPrefetchRequest:"1"===n.headers.get(Y),buildId:h??"",previouslyRevalidatedTags:[]});return await ab.J.run(p,()=>aO.FP.run(o,a.handler,n,q))}finally{setTimeout(()=>{c.dispatchClose()},0)}})}return a.handler(n,q)}))&&!(d instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});d&&e&&d.headers.set("set-cookie",e);let r=null==d?void 0:d.headers.get("x-middleware-rewrite");if(d&&r&&(k||!f)){let b=new O(r,{forceLocale:!0,headers:a.request.headers,nextConfig:a.request.nextConfig});f||b.host!==n.nextUrl.host||(b.buildId=h||b.buildId,d.headers.set("x-middleware-rewrite",String(b)));let{url:c,isRelative:e}=X(b.toString(),g.toString());!f&&j&&d.headers.set("x-nextjs-rewrite",c),k&&e&&(g.pathname!==b.pathname&&d.headers.set("x-nextjs-rewritten-path",b.pathname),g.search!==b.search&&d.headers.set("x-nextjs-rewritten-query",b.search.slice(1)))}if(d&&r&&k&&m){let a=new URL(r);a.searchParams.has($)||(a.searchParams.set($,m),d.headers.set("x-middleware-rewrite",a.toString()))}let s=null==d?void 0:d.headers.get("Location");if(d&&s&&!f){let b=new O(s,{forceLocale:!1,headers:a.request.headers,nextConfig:a.request.nextConfig});d=new Response(d.body,d),b.host===g.host&&(b.buildId=h||b.buildId,d.headers.set("Location",b.toString())),j&&(d.headers.delete("Location"),d.headers.set("x-nextjs-redirect",X(b.toString(),g.toString()).url))}let t=d||W.next(),u=t.headers.get("x-middleware-override-headers"),v=[];if(u){for(let[a,b]of l)t.headers.set(`x-middleware-request-${a}`,b),v.push(a);v.length>0&&t.headers.set("x-middleware-override-headers",u+","+v.join(","))}return{response:t,waitUntil:("internal"===q[B].kind?Promise.all(q[B].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:n.fetchMetrics}}c(449),"undefined"==typeof URLPattern||URLPattern;var bh=c(107),bi=c(979),bj=c(770);function bk(){let a=a4.getStore();return(null==a?void 0:a.rootTaskSpawnPhase)==="action"}c(918);let{env:bl,stdout:bm}=(null==(en=globalThis)?void 0:en.process)??{},bn=bl&&!bl.NO_COLOR&&(bl.FORCE_COLOR||(null==bm?void 0:bm.isTTY)&&!bl.CI&&"dumb"!==bl.TERM),bo=(a,b,c,d)=>{let e=a.substring(0,d)+c,f=a.substring(d+b.length),g=f.indexOf(b);return~g?e+bo(f,b,c,g):e+f},bp=(a,b,c=a)=>bn?d=>{let e=""+d,f=e.indexOf(b,a.length);return~f?a+bo(e,b,c,f)+b:a+e+b}:String,bq=bp("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m");bp("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),bp("\x1b[3m","\x1b[23m"),bp("\x1b[4m","\x1b[24m"),bp("\x1b[7m","\x1b[27m"),bp("\x1b[8m","\x1b[28m"),bp("\x1b[9m","\x1b[29m"),bp("\x1b[30m","\x1b[39m");let br=bp("\x1b[31m","\x1b[39m"),bs=bp("\x1b[32m","\x1b[39m"),bt=bp("\x1b[33m","\x1b[39m");bp("\x1b[34m","\x1b[39m");let bu=bp("\x1b[35m","\x1b[39m");bp("\x1b[38;2;173;127;168m","\x1b[39m"),bp("\x1b[36m","\x1b[39m");let bv=bp("\x1b[37m","\x1b[39m");bp("\x1b[90m","\x1b[39m"),bp("\x1b[40m","\x1b[49m"),bp("\x1b[41m","\x1b[49m"),bp("\x1b[42m","\x1b[49m"),bp("\x1b[43m","\x1b[49m"),bp("\x1b[44m","\x1b[49m"),bp("\x1b[45m","\x1b[49m"),bp("\x1b[46m","\x1b[49m"),bp("\x1b[47m","\x1b[49m"),bv(bq("○")),br(bq("⨯")),bt(bq("⚠")),bv(bq(" ")),bs(bq("✓")),bu(bq("\xbb")),new aU(1e4,a=>a.length),new WeakMap;var bw=function(a,b,c,d,e){if("m"===d)throw TypeError("Private method is not writable");if("a"===d&&!e)throw TypeError("Private accessor was defined without a setter");if("function"==typeof b?a!==b||!e:!b.has(a))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===d?e.call(a,c):e?e.value=c:b.set(a,c),c},bx=function(a,b,c,d){if("a"===c&&!d)throw TypeError("Private accessor was defined without a getter");if("function"==typeof b?a!==b||!d:!b.has(a))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===c?d:"a"===c?d.call(a):d?d.value:b.get(a)};function by(a){let b=a?"__Secure-":"";return{sessionToken:{name:`${b}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},callbackUrl:{name:`${b}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},csrfToken:{name:`${a?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},pkceCodeVerifier:{name:`${b}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},state:{name:`${b}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}},nonce:{name:`${b}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a}},webauthnChallenge:{name:`${b}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:a,maxAge:900}}}}class bz{constructor(a,b,c){if(eo.add(this),ep.set(this,{}),eq.set(this,void 0),er.set(this,void 0),bw(this,er,c,"f"),bw(this,eq,a,"f"),!b)return;let{name:d}=a;for(let[a,c]of Object.entries(b))a.startsWith(d)&&c&&(bx(this,ep,"f")[a]=c)}get value(){return Object.keys(bx(this,ep,"f")).sort((a,b)=>parseInt(a.split(".").pop()||"0")-parseInt(b.split(".").pop()||"0")).map(a=>bx(this,ep,"f")[a]).join("")}chunk(a,b){let c=bx(this,eo,"m",et).call(this);for(let d of bx(this,eo,"m",es).call(this,{name:bx(this,eq,"f").name,value:a,options:{...bx(this,eq,"f").options,...b}}))c[d.name]=d;return Object.values(c)}clean(){return Object.values(bx(this,eo,"m",et).call(this))}}ep=new WeakMap,eq=new WeakMap,er=new WeakMap,eo=new WeakSet,es=function(a){let b=Math.ceil(a.value.length/3936);if(1===b)return bx(this,ep,"f")[a.name]=a.value,[a];let c=[];for(let d=0;d<b;d++){let b=`${a.name}.${d}`,e=a.value.substr(3936*d,3936);c.push({...a,name:b,value:e}),bx(this,ep,"f")[b]=e}return bx(this,er,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:a.value.length,chunks:c.map(a=>a.value.length+160)}),c},et=function(){let a={};for(let b in bx(this,ep,"f"))delete bx(this,ep,"f")?.[b],a[b]={name:b,value:"",options:{...bx(this,eq,"f").options,maxAge:0}};return a};class bA extends Error{constructor(a,b){a instanceof Error?super(void 0,{cause:{err:a,...a.cause,...b}}):"string"==typeof a?(b instanceof Error&&(b={err:b,...b.cause}),super(a,b)):super(void 0,a),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let c=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${c}`}}class bB extends bA{}bB.kind="signIn";class bC extends bA{}bC.type="AdapterError";class bD extends bA{}bD.type="AccessDenied";class bE extends bA{}bE.type="CallbackRouteError";class bF extends bA{}bF.type="ErrorPageLoop";class bG extends bA{}bG.type="EventError";class bH extends bA{}bH.type="InvalidCallbackUrl";class bI extends bB{constructor(){super(...arguments),this.code="credentials"}}bI.type="CredentialsSignin";class bJ extends bA{}bJ.type="InvalidEndpoints";class bK extends bA{}bK.type="InvalidCheck";class bL extends bA{}bL.type="JWTSessionError";class bM extends bA{}bM.type="MissingAdapter";class bN extends bA{}bN.type="MissingAdapterMethods";class bO extends bA{}bO.type="MissingAuthorize";class bP extends bA{}bP.type="MissingSecret";class bQ extends bB{}bQ.type="OAuthAccountNotLinked";class bR extends bB{}bR.type="OAuthCallbackError";class bS extends bA{}bS.type="OAuthProfileParseError";class bT extends bA{}bT.type="SessionTokenError";class bU extends bB{}bU.type="OAuthSignInError";class bV extends bB{}bV.type="EmailSignInError";class bW extends bA{}bW.type="SignOutError";class bX extends bA{}bX.type="UnknownAction";class bY extends bA{}bY.type="UnsupportedStrategy";class bZ extends bA{}bZ.type="InvalidProvider";class b$ extends bA{}b$.type="UntrustedHost";class b_ extends bA{}b_.type="Verification";class b0 extends bB{}b0.type="MissingCSRF";let b1=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class b2 extends bA{}b2.type="DuplicateConditionalUI";class b3 extends bA{}b3.type="MissingWebAuthnAutocomplete";class b4 extends bA{}b4.type="WebAuthnVerificationError";class b5 extends bB{}b5.type="AccountNotLinked";class b6 extends bA{}b6.type="ExperimentalFeatureNotEnabled";let b7=!1;function b8(a,b){try{return/^https?:/.test(new URL(a,a.startsWith("/")?b:void 0).protocol)}catch{return!1}}let b9=!1,ca=!1,cb=!1,cc=["createVerificationToken","useVerificationToken","getUserByEmail"],cd=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],ce=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"],cf=async(a,b,c,d,e)=>{let{crypto:{subtle:f}}=(()=>{if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;throw Error("unable to locate global object")})();return new Uint8Array(await f.deriveBits({name:"HKDF",hash:`SHA-${a.substr(3)}`,salt:c,info:d},await f.importKey("raw",b,"HKDF",!1,["deriveBits"]),e<<3))};function cg(a,b){if("string"==typeof a)return new TextEncoder().encode(a);if(!(a instanceof Uint8Array))throw TypeError(`"${b}"" must be an instance of Uint8Array or a string`);return a}async function ch(a,b,c,d,e){return cf(function(a){switch(a){case"sha256":case"sha384":case"sha512":case"sha1":return a;default:throw TypeError('unsupported "digest" value')}}(a),function(a){let b=cg(a,"ikm");if(!b.byteLength)throw TypeError('"ikm" must be at least one byte in length');return b}(b),cg(c,"salt"),function(a){let b=cg(a,"info");if(b.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return b}(d),function(a,b){if("number"!=typeof a||!Number.isInteger(a)||a<1)throw TypeError('"keylen" must be a positive integer');if(a>255*(parseInt(b.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return a}(e,a))}let ci=async(a,b)=>{let c=`SHA-${a.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(c,b))},cj=new TextEncoder,ck=new TextDecoder;function cl(...a){let b=new Uint8Array(a.reduce((a,{length:b})=>a+b,0)),c=0;for(let d of a)b.set(d,c),c+=d.length;return b}function cm(a,b,c){if(b<0||b>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${b}`);a.set([b>>>24,b>>>16,b>>>8,255&b],c)}function cn(a){let b=Math.floor(a/0x100000000),c=new Uint8Array(8);return cm(c,b,0),cm(c,a%0x100000000,4),c}function co(a){let b=new Uint8Array(4);return cm(b,a),b}function cp(a){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof a?a:ck.decode(a),{alphabet:"base64url"});let b=a;b instanceof Uint8Array&&(b=ck.decode(b)),b=b.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var c=b;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(c);let a=atob(c),d=new Uint8Array(a.length);for(let b=0;b<a.length;b++)d[b]=a.charCodeAt(b);return d}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function cq(a){let b=a;return("string"==typeof b&&(b=cj.encode(b)),Uint8Array.prototype.toBase64)?b.toBase64({alphabet:"base64url",omitPadding:!0}):(function(a){if(Uint8Array.prototype.toBase64)return a.toBase64();let b=[];for(let c=0;c<a.length;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join(""))})(b).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class cr extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(a,b){super(a,b),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class cs extends cr{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class ct extends cr{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(a,b,c="unspecified",d="unspecified"){super(a,{cause:{claim:c,reason:d,payload:b}}),this.claim=c,this.reason=d,this.payload=b}}class cu extends cr{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class cv extends cr{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class cw extends cr{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(a="decryption operation failed",b){super(a,b)}}class cx extends cr{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class cy extends cr{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class cz extends cr{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class cA extends cr{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(a="multiple matching keys found in the JSON Web Key Set",b){super(a,b)}}function cB(a){if(!cC(a))throw Error("CryptoKey instance expected")}function cC(a){return a?.[Symbol.toStringTag]==="CryptoKey"}function cD(a){return a?.[Symbol.toStringTag]==="KeyObject"}let cE=a=>cC(a)||cD(a),cF=a=>{if(!function(a){return"object"==typeof a&&null!==a}(a)||"[object Object]"!==Object.prototype.toString.call(a))return!1;if(null===Object.getPrototypeOf(a))return!0;let b=a;for(;null!==Object.getPrototypeOf(b);)b=Object.getPrototypeOf(b);return Object.getPrototypeOf(a)===b};function cG(a){return cF(a)&&"string"==typeof a.kty}function cH(a,b,...c){if((c=c.filter(Boolean)).length>2){let b=c.pop();a+=`one of type ${c.join(", ")}, or ${b}.`}else 2===c.length?a+=`one of type ${c[0]} or ${c[1]}.`:a+=`of type ${c[0]}.`;return null==b?a+=` Received ${b}`:"function"==typeof b&&b.name?a+=` Received function ${b.name}`:"object"==typeof b&&null!=b&&b.constructor?.name&&(a+=` Received an instance of ${b.constructor.name}`),a}let cI=(a,...b)=>cH("Key must be ",a,...b);function cJ(a,b,...c){return cH(`Key for the ${a} algorithm must be `,b,...c)}async function cK(a){if(cD(a))if("secret"!==a.type)return a.export({format:"jwk"});else a=a.export();if(a instanceof Uint8Array)return{kty:"oct",k:cq(a)};if(!cC(a))throw TypeError(cI(a,"CryptoKey","KeyObject","Uint8Array"));if(!a.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:b,key_ops:c,alg:d,use:e,...f}=await crypto.subtle.exportKey("jwk",a);return"AKP"===f.kty&&(f.alg=d),f}async function cL(a){return cK(a)}let cM=(a,b)=>{if("string"!=typeof a||!a)throw new cz(`${b} missing or invalid`)};async function cN(a,b){let c,d;if(cG(a))c=a;else if(cE(a))c=await cL(a);else throw TypeError(cI(a,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(b??="sha256")&&"sha384"!==b&&"sha512"!==b)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(c.kty){case"AKP":cM(c.alg,'"alg" (Algorithm) Parameter'),cM(c.pub,'"pub" (Public key) Parameter'),d={alg:c.alg,kty:c.kty,pub:c.pub};break;case"EC":cM(c.crv,'"crv" (Curve) Parameter'),cM(c.x,'"x" (X Coordinate) Parameter'),cM(c.y,'"y" (Y Coordinate) Parameter'),d={crv:c.crv,kty:c.kty,x:c.x,y:c.y};break;case"OKP":cM(c.crv,'"crv" (Subtype of Key Pair) Parameter'),cM(c.x,'"x" (Public Key) Parameter'),d={crv:c.crv,kty:c.kty,x:c.x};break;case"RSA":cM(c.e,'"e" (Exponent) Parameter'),cM(c.n,'"n" (Modulus) Parameter'),d={e:c.e,kty:c.kty,n:c.n};break;case"oct":cM(c.k,'"k" (Key Value) Parameter'),d={k:c.k,kty:c.kty};break;default:throw new cv('"kty" (Key Type) Parameter missing or unsupported')}let e=cj.encode(JSON.stringify(d));return cq(await ci(b,e))}let cO=Symbol();function cP(a){switch(a){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new cv(`Unsupported JWE Algorithm: ${a}`)}}let cQ=(a,b)=>{if(b.length<<3!==cP(a))throw new cx("Invalid Initialization Vector length")},cR=(a,b)=>{let c=a.byteLength<<3;if(c!==b)throw new cx(`Invalid Content Encryption Key length. Expected ${b} bits, got ${c} bits`)};function cS(a,b="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${b} must be ${a}`)}function cT(a,b){return a.name===b}function cU(a,b,c){switch(b){case"A128GCM":case"A192GCM":case"A256GCM":{if(!cT(a.algorithm,"AES-GCM"))throw cS("AES-GCM");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw cS(c,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!cT(a.algorithm,"AES-KW"))throw cS("AES-KW");let c=parseInt(b.slice(1,4),10);if(a.algorithm.length!==c)throw cS(c,"algorithm.length");break}case"ECDH":switch(a.algorithm.name){case"ECDH":case"X25519":break;default:throw cS("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!cT(a.algorithm,"PBKDF2"))throw cS("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!cT(a.algorithm,"RSA-OAEP"))throw cS("RSA-OAEP");let c=parseInt(b.slice(9),10)||1;if(parseInt(a.algorithm.hash.name.slice(4),10)!==c)throw cS(`SHA-${c}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}if(c&&!a.usages.includes(c))throw TypeError(`CryptoKey does not support this operation, its usages must include ${c}.`)}async function cV(a,b,c,d,e){if(!(c instanceof Uint8Array))throw TypeError(cI(c,"Uint8Array"));let f=parseInt(a.slice(1,4),10),g=await crypto.subtle.importKey("raw",c.subarray(f>>3),"AES-CBC",!1,["encrypt"]),h=await crypto.subtle.importKey("raw",c.subarray(0,f>>3),{hash:`SHA-${f<<1}`,name:"HMAC"},!1,["sign"]),i=new Uint8Array(await crypto.subtle.encrypt({iv:d,name:"AES-CBC"},g,b)),j=cl(e,d,i,cn(e.length<<3));return{ciphertext:i,tag:new Uint8Array((await crypto.subtle.sign("HMAC",h,j)).slice(0,f>>3)),iv:d}}async function cW(a,b,c,d,e){let f;c instanceof Uint8Array?f=await crypto.subtle.importKey("raw",c,"AES-GCM",!1,["encrypt"]):(cU(c,a,"encrypt"),f=c);let g=new Uint8Array(await crypto.subtle.encrypt({additionalData:e,iv:d,name:"AES-GCM",tagLength:128},f,b)),h=g.slice(-16);return{ciphertext:g.slice(0,-16),tag:h,iv:d}}let cX=async(a,b,c,d,e)=>{if(!cC(c)&&!(c instanceof Uint8Array))throw TypeError(cI(c,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(d)cQ(a,d);else d=crypto.getRandomValues(new Uint8Array(cP(a)>>3));switch(a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return c instanceof Uint8Array&&cR(c,parseInt(a.slice(-3),10)),cV(a,b,c,d,e);case"A128GCM":case"A192GCM":case"A256GCM":return c instanceof Uint8Array&&cR(c,parseInt(a.slice(1,4),10)),cW(a,b,c,d,e);default:throw new cv("Unsupported JWE Content Encryption Algorithm")}};function cY(a,b){if(a.algorithm.length!==parseInt(b.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${b}`)}function cZ(a,b,c){return a instanceof Uint8Array?crypto.subtle.importKey("raw",a,"AES-KW",!0,[c]):(cU(a,b,c),a)}async function c$(a,b,c){let d=await cZ(b,a,"wrapKey");cY(d,a);let e=await crypto.subtle.importKey("raw",c,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",e,d,"AES-KW"))}async function c_(a,b,c){let d=await cZ(b,a,"unwrapKey");cY(d,a);let e=await crypto.subtle.unwrapKey("raw",c,d,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",e))}function c0(a){return cl(co(a.length),a)}async function c1(a,b,c){let d=b>>3,e=Math.ceil(d/32),f=new Uint8Array(32*e);for(let b=1;b<=e;b++){let d=new Uint8Array(4+a.length+c.length);d.set(co(b),0),d.set(a,4),d.set(c,4+a.length);let e=await ci("sha256",d);f.set(e,(b-1)*32)}return f.slice(0,d)}async function c2(a,b,c,d,e=new Uint8Array(0),f=new Uint8Array(0)){var g;cU(a,"ECDH"),cU(b,"ECDH","deriveBits");let h=c0(cj.encode(c)),i=c0(e),j=c0(f),k=cl(h,i,j,co(d),new Uint8Array(0));return c1(new Uint8Array(await crypto.subtle.deriveBits({name:a.algorithm.name,public:a},b,"X25519"===(g=a).algorithm.name?256:Math.ceil(parseInt(g.algorithm.namedCurve.slice(-3),10)/8)<<3)),d,k)}function c3(a){switch(a.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===a.algorithm.name}}async function c4(a,b,c,d){if(!(a instanceof Uint8Array)||a.length<8)throw new cx("PBES2 Salt Input must be 8 or more octets");let e=cl(cj.encode(b),new Uint8Array([0]),a),f=parseInt(b.slice(13,16),10),g={hash:`SHA-${b.slice(8,11)}`,iterations:c,name:"PBKDF2",salt:e},h=await (d instanceof Uint8Array?crypto.subtle.importKey("raw",d,"PBKDF2",!1,["deriveBits"]):(cU(d,b,"deriveBits"),d));return new Uint8Array(await crypto.subtle.deriveBits(g,h,f))}async function c5(a,b,c,d=2048,e=crypto.getRandomValues(new Uint8Array(16))){let f=await c4(e,a,d,b);return{encryptedKey:await c$(a.slice(-6),f,c),p2c:d,p2s:cq(e)}}async function c6(a,b,c,d,e){let f=await c4(e,a,d,b);return c_(a.slice(-6),f,c)}let c7=(a,b)=>{if(a.startsWith("RS")||a.startsWith("PS")){let{modulusLength:c}=b.algorithm;if("number"!=typeof c||c<2048)throw TypeError(`${a} requires key modulusLength to be 2048 bits or larger`)}},c8=a=>{switch(a){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new cv(`alg ${a} is not supported either by JOSE or your javascript runtime`)}};async function c9(a,b,c){return cU(b,a,"encrypt"),c7(a,b),new Uint8Array(await crypto.subtle.encrypt(c8(a),b,c))}async function da(a,b,c){return cU(b,a,"decrypt"),c7(a,b),new Uint8Array(await crypto.subtle.decrypt(c8(a),b,c))}let db=async a=>{if(!a.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:b,keyUsages:c}=function(a){let b,c;switch(a.kty){case"AKP":switch(a.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":b={name:a.alg},c=a.priv?["sign"]:["verify"];break;default:throw new cv('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(a.alg){case"PS256":case"PS384":case"PS512":b={name:"RSA-PSS",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":b={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${a.alg.slice(-3)}`},c=a.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":b={name:"RSA-OAEP",hash:`SHA-${parseInt(a.alg.slice(-3),10)||1}`},c=a.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new cv('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(a.alg){case"ES256":b={name:"ECDSA",namedCurve:"P-256"},c=a.d?["sign"]:["verify"];break;case"ES384":b={name:"ECDSA",namedCurve:"P-384"},c=a.d?["sign"]:["verify"];break;case"ES512":b={name:"ECDSA",namedCurve:"P-521"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:"ECDH",namedCurve:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new cv('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(a.alg){case"Ed25519":case"EdDSA":b={name:"Ed25519"},c=a.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":b={name:a.crv},c=a.d?["deriveBits"]:[];break;default:throw new cv('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new cv('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:b,keyUsages:c}}(a),d={...a};return"AKP"!==d.kty&&delete d.alg,delete d.use,crypto.subtle.importKey("jwk",d,b,a.ext??(!a.d&&!a.priv),a.key_ops??c)},dc=async(a,b,c,d=!1)=>{let f=(e||=new WeakMap).get(a);if(f?.[c])return f[c];let g=await db({...b,alg:c});return d&&Object.freeze(a),f?f[c]=g:e.set(a,{[c]:g}),g},dd=async(a,b)=>{if(a instanceof Uint8Array||cC(a))return a;if(cD(a)){if("secret"===a.type)return a.export();if("toCryptoKey"in a&&"function"==typeof a.toCryptoKey)try{return((a,b)=>{let c,d=(e||=new WeakMap).get(a);if(d?.[b])return d[b];let f="public"===a.type,g=!!f;if("x25519"===a.asymmetricKeyType){switch(b){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}c=a.toCryptoKey(a.asymmetricKeyType,g,f?[]:["deriveBits"])}if("ed25519"===a.asymmetricKeyType){if("EdDSA"!==b&&"Ed25519"!==b)throw TypeError("given KeyObject instance cannot be used for this algorithm");c=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}switch(a.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":if(b!==a.asymmetricKeyType.toUpperCase())throw TypeError("given KeyObject instance cannot be used for this algorithm");c=a.toCryptoKey(a.asymmetricKeyType,g,[f?"verify":"sign"])}if("rsa"===a.asymmetricKeyType){let d;switch(b){case"RSA-OAEP":d="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":d="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":d="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":d="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(b.startsWith("RSA-OAEP"))return a.toCryptoKey({name:"RSA-OAEP",hash:d},g,f?["encrypt"]:["decrypt"]);c=a.toCryptoKey({name:b.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:d},g,[f?"verify":"sign"])}if("ec"===a.asymmetricKeyType){let d=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(a.asymmetricKeyDetails?.namedCurve);if(!d)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===b&&"P-256"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[f?"verify":"sign"])),"ES384"===b&&"P-384"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[f?"verify":"sign"])),"ES512"===b&&"P-521"===d&&(c=a.toCryptoKey({name:"ECDSA",namedCurve:d},g,[f?"verify":"sign"])),b.startsWith("ECDH-ES")&&(c=a.toCryptoKey({name:"ECDH",namedCurve:d},g,f?[]:["deriveBits"]))}if(!c)throw TypeError("given KeyObject instance cannot be used for this algorithm");return d?d[b]=c:e.set(a,{[b]:c}),c})(a,b)}catch(a){if(a instanceof TypeError)throw a}let c=a.export({format:"jwk"});return dc(a,c,b)}if(cG(a))return a.k?cp(a.k):dc(a,a,b,!0);throw Error("unreachable")};function de(a){switch(a){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new cv(`Unsupported JWE Algorithm: ${a}`)}}let df=a=>crypto.getRandomValues(new Uint8Array(de(a)>>3));async function dg(a,b){if(!(a instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(b instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let c={name:"HMAC",hash:"SHA-256"},d=await crypto.subtle.generateKey(c,!1,["sign"]),e=new Uint8Array(await crypto.subtle.sign(c,d,a)),f=new Uint8Array(await crypto.subtle.sign(c,d,b)),g=0,h=-1;for(;++h<32;)g|=e[h]^f[h];return 0===g}async function dh(a,b,c,d,e,f){let g,h;if(!(b instanceof Uint8Array))throw TypeError(cI(b,"Uint8Array"));let i=parseInt(a.slice(1,4),10),j=await crypto.subtle.importKey("raw",b.subarray(i>>3),"AES-CBC",!1,["decrypt"]),k=await crypto.subtle.importKey("raw",b.subarray(0,i>>3),{hash:`SHA-${i<<1}`,name:"HMAC"},!1,["sign"]),l=cl(f,d,c,cn(f.length<<3)),m=new Uint8Array((await crypto.subtle.sign("HMAC",k,l)).slice(0,i>>3));try{g=await dg(e,m)}catch{}if(!g)throw new cw;try{h=new Uint8Array(await crypto.subtle.decrypt({iv:d,name:"AES-CBC"},j,c))}catch{}if(!h)throw new cw;return h}async function di(a,b,c,d,e,f){let g;b instanceof Uint8Array?g=await crypto.subtle.importKey("raw",b,"AES-GCM",!1,["decrypt"]):(cU(b,a,"decrypt"),g=b);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:f,iv:d,name:"AES-GCM",tagLength:128},g,cl(c,e)))}catch{throw new cw}}let dj=async(a,b,c,d,e,f)=>{if(!cC(b)&&!(b instanceof Uint8Array))throw TypeError(cI(b,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!d)throw new cx("JWE Initialization Vector missing");if(!e)throw new cx("JWE Authentication Tag missing");switch(cQ(a,d),a){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return b instanceof Uint8Array&&cR(b,parseInt(a.slice(-3),10)),dh(a,b,c,d,e,f);case"A128GCM":case"A192GCM":case"A256GCM":return b instanceof Uint8Array&&cR(b,parseInt(a.slice(1,4),10)),di(a,b,c,d,e,f);default:throw new cv("Unsupported JWE Content Encryption Algorithm")}};async function dk(a,b,c,d){let e=a.slice(0,7),f=await cX(e,c,b,d,new Uint8Array(0));return{encryptedKey:f.ciphertext,iv:cq(f.iv),tag:cq(f.tag)}}async function dl(a,b,c,d,e){return dj(a.slice(0,7),b,c,d,e,new Uint8Array(0))}let dm=async(a,b,c,d,e={})=>{let f,g,h;switch(a){case"dir":h=c;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i;if(cB(c),!c3(c))throw new cv("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:j,apv:k}=e;i=e.epk?await dd(e.epk,a):(await crypto.subtle.generateKey(c.algorithm,!0,["deriveBits"])).privateKey;let{x:l,y:m,crv:n,kty:o}=await cL(i),p=await c2(c,i,"ECDH-ES"===a?b:a,"ECDH-ES"===a?de(b):parseInt(a.slice(-5,-2),10),j,k);if(g={epk:{x:l,crv:n,kty:o}},"EC"===o&&(g.epk.y=m),j&&(g.apu=cq(j)),k&&(g.apv=cq(k)),"ECDH-ES"===a){h=p;break}h=d||df(b);let q=a.slice(-6);f=await c$(q,p,h);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":h=d||df(b),cB(c),f=await c9(a,c,h);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{h=d||df(b);let{p2c:i,p2s:j}=e;({encryptedKey:f,...g}=await c5(a,c,h,i,j));break}case"A128KW":case"A192KW":case"A256KW":h=d||df(b),f=await c$(a,c,h);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{h=d||df(b);let{iv:i}=e;({encryptedKey:f,...g}=await dk(a,c,h,i));break}default:throw new cv('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:h,encryptedKey:f,parameters:g}},dn=(...a)=>{let b,c=a.filter(Boolean);if(0===c.length||1===c.length)return!0;for(let a of c){let c=Object.keys(a);if(!b||0===b.size){b=new Set(c);continue}for(let a of c){if(b.has(a))return!1;b.add(a)}}return!0},dp=(a,b,c,d,e)=>{let f;if(void 0!==e.crit&&d?.crit===void 0)throw new a('"crit" (Critical) Header Parameter MUST be integrity protected');if(!d||void 0===d.crit)return new Set;if(!Array.isArray(d.crit)||0===d.crit.length||d.crit.some(a=>"string"!=typeof a||0===a.length))throw new a('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let g of(f=void 0!==c?new Map([...Object.entries(c),...b.entries()]):b,d.crit)){if(!f.has(g))throw new cv(`Extension Header Parameter "${g}" is not recognized`);if(void 0===e[g])throw new a(`Extension Header Parameter "${g}" is missing`);if(f.get(g)&&void 0===d[g])throw new a(`Extension Header Parameter "${g}" MUST be integrity protected`)}return new Set(d.crit)},dq=a=>a?.[Symbol.toStringTag],dr=(a,b,c)=>{if(void 0!==b.use){let a;switch(c){case"sign":case"verify":a="sig";break;case"encrypt":case"decrypt":a="enc"}if(b.use!==a)throw TypeError(`Invalid key for this operation, its "use" must be "${a}" when present`)}if(void 0!==b.alg&&b.alg!==a)throw TypeError(`Invalid key for this operation, its "alg" must be "${a}" when present`);if(Array.isArray(b.key_ops)){let d;switch(!0){case"sign"===c||"verify"===c:case"dir"===a:case a.includes("CBC-HS"):d=c;break;case a.startsWith("PBES2"):d="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(a):d=!a.includes("GCM")&&a.endsWith("KW")?"encrypt"===c?"wrapKey":"unwrapKey":c;break;case"encrypt"===c&&a.startsWith("RSA"):d="wrapKey";break;case"decrypt"===c:d=a.startsWith("RSA")?"unwrapKey":"deriveBits"}if(d&&b.key_ops?.includes?.(d)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${d}" when present`)}return!0},ds=(a,b,c)=>{a.startsWith("HS")||"dir"===a||a.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(a)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(a)?((a,b,c)=>{if(!(b instanceof Uint8Array)){if(cG(b)){if(function(a){return"oct"===a.kty&&"string"==typeof a.k}(b)&&dr(a,b,c))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!cE(b))throw TypeError(cJ(a,b,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==b.type)throw TypeError(`${dq(b)} instances for symmetric algorithms must be of type "secret"`)}})(a,b,c):((a,b,c)=>{if(cG(b))switch(c){case"decrypt":case"sign":if(function(a){return"oct"!==a.kty&&("AKP"===a.kty&&"string"==typeof a.priv||"string"==typeof a.d)}(b)&&dr(a,b,c))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(function(a){return"oct"!==a.kty&&void 0===a.d&&void 0===a.priv}(b)&&dr(a,b,c))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!cE(b))throw TypeError(cJ(a,b,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===b.type)throw TypeError(`${dq(b)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===b.type)switch(c){case"sign":throw TypeError(`${dq(b)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${dq(b)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===b.type)switch(c){case"verify":throw TypeError(`${dq(b)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${dq(b)} instances for asymmetric algorithm encryption must be of type "public"`)}})(a,b,c)};class dt{#a;#b;#c;#d;#e;#f;#g;#h;constructor(a){if(!(a instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#a=a}setKeyManagementParameters(a){if(this.#h)throw TypeError("setKeyManagementParameters can only be called once");return this.#h=a,this}setProtectedHeader(a){if(this.#b)throw TypeError("setProtectedHeader can only be called once");return this.#b=a,this}setSharedUnprotectedHeader(a){if(this.#c)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#c=a,this}setUnprotectedHeader(a){if(this.#d)throw TypeError("setUnprotectedHeader can only be called once");return this.#d=a,this}setAdditionalAuthenticatedData(a){return this.#e=a,this}setContentEncryptionKey(a){if(this.#f)throw TypeError("setContentEncryptionKey can only be called once");return this.#f=a,this}setInitializationVector(a){if(this.#g)throw TypeError("setInitializationVector can only be called once");return this.#g=a,this}async encrypt(a,b){let c,d,e,f,g;if(!this.#b&&!this.#d&&!this.#c)throw new cx("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!dn(this.#b,this.#d,this.#c))throw new cx("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let h={...this.#b,...this.#d,...this.#c};if(dp(cx,new Map,b?.crit,this.#b,h),void 0!==h.zip)throw new cv('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:i,enc:j}=h;if("string"!=typeof i||!i)throw new cx('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof j||!j)throw new cx('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#f&&("dir"===i||"ECDH-ES"===i))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${i}`);ds("dir"===i?j:i,a,"encrypt");{let e,f=await dd(a,i);({cek:d,encryptedKey:c,parameters:e}=await dm(i,j,f,this.#f,this.#h)),e&&(b&&cO in b?this.#d?this.#d={...this.#d,...e}:this.setUnprotectedHeader(e):this.#b?this.#b={...this.#b,...e}:this.setProtectedHeader(e))}f=this.#b?cj.encode(cq(JSON.stringify(this.#b))):cj.encode(""),this.#e?(g=cq(this.#e),e=cl(f,cj.encode("."),cj.encode(g))):e=f;let{ciphertext:k,tag:l,iv:m}=await cX(j,this.#a,d,this.#g,e),n={ciphertext:cq(k)};return m&&(n.iv=cq(m)),l&&(n.tag=cq(l)),c&&(n.encrypted_key=cq(c)),g&&(n.aad=g),this.#b&&(n.protected=ck.decode(f)),this.#c&&(n.unprotected=this.#c),this.#d&&(n.header=this.#d),n}}class du{#i;constructor(a){this.#i=new dt(a)}setContentEncryptionKey(a){return this.#i.setContentEncryptionKey(a),this}setInitializationVector(a){return this.#i.setInitializationVector(a),this}setProtectedHeader(a){return this.#i.setProtectedHeader(a),this}setKeyManagementParameters(a){return this.#i.setKeyManagementParameters(a),this}async encrypt(a,b){let c=await this.#i.encrypt(a,b);return[c.protected,c.encrypted_key,c.iv,c.ciphertext,c.tag].join(".")}}let dv=a=>Math.floor(a.getTime()/1e3),dw=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,dx=a=>{let b,c=dw.exec(a);if(!c||c[4]&&c[1])throw TypeError("Invalid time period format");let d=parseFloat(c[2]);switch(c[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":b=Math.round(d);break;case"minute":case"minutes":case"min":case"mins":case"m":b=Math.round(60*d);break;case"hour":case"hours":case"hr":case"hrs":case"h":b=Math.round(3600*d);break;case"day":case"days":case"d":b=Math.round(86400*d);break;case"week":case"weeks":case"w":b=Math.round(604800*d);break;default:b=Math.round(0x1e187e0*d)}return"-"===c[1]||"ago"===c[4]?-b:b};function dy(a,b){if(!Number.isFinite(b))throw TypeError(`Invalid ${a} input`);return b}let dz=a=>a.includes("/")?a.toLowerCase():`application/${a.toLowerCase()}`;class dA{#j;constructor(a){if(!cF(a))throw TypeError("JWT Claims Set MUST be an object");this.#j=structuredClone(a)}data(){return cj.encode(JSON.stringify(this.#j))}get iss(){return this.#j.iss}set iss(a){this.#j.iss=a}get sub(){return this.#j.sub}set sub(a){this.#j.sub=a}get aud(){return this.#j.aud}set aud(a){this.#j.aud=a}set jti(a){this.#j.jti=a}set nbf(a){"number"==typeof a?this.#j.nbf=dy("setNotBefore",a):a instanceof Date?this.#j.nbf=dy("setNotBefore",dv(a)):this.#j.nbf=dv(new Date)+dx(a)}set exp(a){"number"==typeof a?this.#j.exp=dy("setExpirationTime",a):a instanceof Date?this.#j.exp=dy("setExpirationTime",dv(a)):this.#j.exp=dv(new Date)+dx(a)}set iat(a){void 0===a?this.#j.iat=dv(new Date):a instanceof Date?this.#j.iat=dy("setIssuedAt",dv(a)):"string"==typeof a?this.#j.iat=dy("setIssuedAt",dv(new Date)+dx(a)):this.#j.iat=dy("setIssuedAt",a)}}class dB{#f;#g;#h;#b;#k;#l;#m;#n;constructor(a={}){this.#n=new dA(a)}setIssuer(a){return this.#n.iss=a,this}setSubject(a){return this.#n.sub=a,this}setAudience(a){return this.#n.aud=a,this}setJti(a){return this.#n.jti=a,this}setNotBefore(a){return this.#n.nbf=a,this}setExpirationTime(a){return this.#n.exp=a,this}setIssuedAt(a){return this.#n.iat=a,this}setProtectedHeader(a){if(this.#b)throw TypeError("setProtectedHeader can only be called once");return this.#b=a,this}setKeyManagementParameters(a){if(this.#h)throw TypeError("setKeyManagementParameters can only be called once");return this.#h=a,this}setContentEncryptionKey(a){if(this.#f)throw TypeError("setContentEncryptionKey can only be called once");return this.#f=a,this}setInitializationVector(a){if(this.#g)throw TypeError("setInitializationVector can only be called once");return this.#g=a,this}replicateIssuerAsHeader(){return this.#k=!0,this}replicateSubjectAsHeader(){return this.#l=!0,this}replicateAudienceAsHeader(){return this.#m=!0,this}async encrypt(a,b){let c=new du(this.#n.data());return this.#b&&(this.#k||this.#l||this.#m)&&(this.#b={...this.#b,iss:this.#k?this.#n.iss:void 0,sub:this.#l?this.#n.sub:void 0,aud:this.#m?this.#n.aud:void 0}),c.setProtectedHeader(this.#b),this.#g&&c.setInitializationVector(this.#g),this.#f&&c.setContentEncryptionKey(this.#f),this.#h&&c.setKeyManagementParameters(this.#h),c.encrypt(a,b)}}async function dC(a,b,c){let d;if(!cF(a))throw TypeError("JWK must be an object");switch(b??=a.alg,d??=c?.extractable??a.ext,a.kty){case"oct":if("string"!=typeof a.k||!a.k)throw TypeError('missing "k" (Key Value) Parameter value');return cp(a.k);case"RSA":if("oth"in a&&void 0!==a.oth)throw new cv('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return db({...a,alg:b,ext:d});case"AKP":if("string"!=typeof a.alg||!a.alg)throw TypeError('missing "alg" (Algorithm) Parameter value');if(void 0!==b&&b!==a.alg)throw TypeError("JWK alg and alg option value mismatch");return db({...a,ext:d});case"EC":case"OKP":return db({...a,alg:b,ext:d});default:throw new cv('Unsupported "kty" (Key Type) Parameter value')}}let dD=async(a,b,c,d,e)=>{switch(a){case"dir":if(void 0!==c)throw new cx("Encountered unexpected JWE Encrypted Key");return b;case"ECDH-ES":if(void 0!==c)throw new cx("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let e,f;if(!cF(d.epk))throw new cx('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(cB(b),!c3(b))throw new cv("ECDH with the provided key is not allowed or not supported by your javascript runtime");let g=await dC(d.epk,a);if(cB(g),void 0!==d.apu){if("string"!=typeof d.apu)throw new cx('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{e=cp(d.apu)}catch{throw new cx("Failed to base64url decode the apu")}}if(void 0!==d.apv){if("string"!=typeof d.apv)throw new cx('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{f=cp(d.apv)}catch{throw new cx("Failed to base64url decode the apv")}}let h=await c2(g,b,"ECDH-ES"===a?d.enc:a,"ECDH-ES"===a?de(d.enc):parseInt(a.slice(-5,-2),10),e,f);if("ECDH-ES"===a)return h;if(void 0===c)throw new cx("JWE Encrypted Key missing");return c_(a.slice(-6),h,c)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===c)throw new cx("JWE Encrypted Key missing");return cB(b),da(a,b,c);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let f;if(void 0===c)throw new cx("JWE Encrypted Key missing");if("number"!=typeof d.p2c)throw new cx('JOSE Header "p2c" (PBES2 Count) missing or invalid');let g=e?.maxPBES2Count||1e4;if(d.p2c>g)throw new cx('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof d.p2s)throw new cx('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{f=cp(d.p2s)}catch{throw new cx("Failed to base64url decode the p2s")}return c6(a,b,c,d.p2c,f)}case"A128KW":case"A192KW":case"A256KW":if(void 0===c)throw new cx("JWE Encrypted Key missing");return c_(a,b,c);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let e,f;if(void 0===c)throw new cx("JWE Encrypted Key missing");if("string"!=typeof d.iv)throw new cx('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof d.tag)throw new cx('JOSE Header "tag" (Authentication Tag) missing or invalid');try{e=cp(d.iv)}catch{throw new cx("Failed to base64url decode the iv")}try{f=cp(d.tag)}catch{throw new cx("Failed to base64url decode the tag")}return dl(a,b,c,e,f)}default:throw new cv('Invalid or unsupported "alg" (JWE Algorithm) header value')}},dE=(a,b)=>{if(void 0!==b&&(!Array.isArray(b)||b.some(a=>"string"!=typeof a)))throw TypeError(`"${a}" option must be an array of strings`);if(b)return new Set(b)};async function dF(a,b,c){let d,e,f,g,h,i,j;if(!cF(a))throw new cx("Flattened JWE must be an object");if(void 0===a.protected&&void 0===a.header&&void 0===a.unprotected)throw new cx("JOSE Header missing");if(void 0!==a.iv&&"string"!=typeof a.iv)throw new cx("JWE Initialization Vector incorrect type");if("string"!=typeof a.ciphertext)throw new cx("JWE Ciphertext missing or incorrect type");if(void 0!==a.tag&&"string"!=typeof a.tag)throw new cx("JWE Authentication Tag incorrect type");if(void 0!==a.protected&&"string"!=typeof a.protected)throw new cx("JWE Protected Header incorrect type");if(void 0!==a.encrypted_key&&"string"!=typeof a.encrypted_key)throw new cx("JWE Encrypted Key incorrect type");if(void 0!==a.aad&&"string"!=typeof a.aad)throw new cx("JWE AAD incorrect type");if(void 0!==a.header&&!cF(a.header))throw new cx("JWE Shared Unprotected Header incorrect type");if(void 0!==a.unprotected&&!cF(a.unprotected))throw new cx("JWE Per-Recipient Unprotected Header incorrect type");if(a.protected)try{let b=cp(a.protected);d=JSON.parse(ck.decode(b))}catch{throw new cx("JWE Protected Header is invalid")}if(!dn(d,a.header,a.unprotected))throw new cx("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let k={...d,...a.header,...a.unprotected};if(dp(cx,new Map,c?.crit,d,k),void 0!==k.zip)throw new cv('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:l,enc:m}=k;if("string"!=typeof l||!l)throw new cx("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof m||!m)throw new cx("missing JWE Encryption Algorithm (enc) in JWE Header");let n=c&&dE("keyManagementAlgorithms",c.keyManagementAlgorithms),o=c&&dE("contentEncryptionAlgorithms",c.contentEncryptionAlgorithms);if(n&&!n.has(l)||!n&&l.startsWith("PBES2"))throw new cu('"alg" (Algorithm) Header Parameter value not allowed');if(o&&!o.has(m))throw new cu('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==a.encrypted_key)try{e=cp(a.encrypted_key)}catch{throw new cx("Failed to base64url decode the encrypted_key")}let p=!1;"function"==typeof b&&(b=await b(d,a),p=!0),ds("dir"===l?m:l,b,"decrypt");let q=await dd(b,l);try{f=await dD(l,q,e,k,c)}catch(a){if(a instanceof TypeError||a instanceof cx||a instanceof cv)throw a;f=df(m)}if(void 0!==a.iv)try{g=cp(a.iv)}catch{throw new cx("Failed to base64url decode the iv")}if(void 0!==a.tag)try{h=cp(a.tag)}catch{throw new cx("Failed to base64url decode the tag")}let r=cj.encode(a.protected??"");i=void 0!==a.aad?cl(r,cj.encode("."),cj.encode(a.aad)):r;try{j=cp(a.ciphertext)}catch{throw new cx("Failed to base64url decode the ciphertext")}let s={plaintext:await dj(m,f,j,g,h,i)};if(void 0!==a.protected&&(s.protectedHeader=d),void 0!==a.aad)try{s.additionalAuthenticatedData=cp(a.aad)}catch{throw new cx("Failed to base64url decode the aad")}return(void 0!==a.unprotected&&(s.sharedUnprotectedHeader=a.unprotected),void 0!==a.header&&(s.unprotectedHeader=a.header),p)?{...s,key:q}:s}async function dG(a,b,c){if(a instanceof Uint8Array&&(a=ck.decode(a)),"string"!=typeof a)throw new cx("Compact JWE must be a string or Uint8Array");let{0:d,1:e,2:f,3:g,4:h,length:i}=a.split(".");if(5!==i)throw new cx("Invalid Compact JWE");let j=await dF({ciphertext:g,iv:f||void 0,protected:d,tag:h||void 0,encrypted_key:e||void 0},b,c),k={plaintext:j.plaintext,protectedHeader:j.protectedHeader};return"function"==typeof b?{...k,key:j.key}:k}async function dH(a,b,c){let d=await dG(a,b,c),e=function(a,b,c={}){var d,e;let f,g;try{f=JSON.parse(ck.decode(b))}catch{}if(!cF(f))throw new cy("JWT Claims Set must be a top-level JSON object");let{typ:h}=c;if(h&&("string"!=typeof a.typ||dz(a.typ)!==dz(h)))throw new cs('unexpected "typ" JWT header value',f,"typ","check_failed");let{requiredClaims:i=[],issuer:j,subject:k,audience:l,maxTokenAge:m}=c,n=[...i];for(let a of(void 0!==m&&n.push("iat"),void 0!==l&&n.push("aud"),void 0!==k&&n.push("sub"),void 0!==j&&n.push("iss"),new Set(n.reverse())))if(!(a in f))throw new cs(`missing required "${a}" claim`,f,a,"missing");if(j&&!(Array.isArray(j)?j:[j]).includes(f.iss))throw new cs('unexpected "iss" claim value',f,"iss","check_failed");if(k&&f.sub!==k)throw new cs('unexpected "sub" claim value',f,"sub","check_failed");if(l&&(d=f.aud,e="string"==typeof l?[l]:l,"string"==typeof d?!e.includes(d):!(Array.isArray(d)&&e.some(Set.prototype.has.bind(new Set(d))))))throw new cs('unexpected "aud" claim value',f,"aud","check_failed");switch(typeof c.clockTolerance){case"string":g=dx(c.clockTolerance);break;case"number":g=c.clockTolerance;break;case"undefined":g=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:o}=c,p=dv(o||new Date);if((void 0!==f.iat||m)&&"number"!=typeof f.iat)throw new cs('"iat" claim must be a number',f,"iat","invalid");if(void 0!==f.nbf){if("number"!=typeof f.nbf)throw new cs('"nbf" claim must be a number',f,"nbf","invalid");if(f.nbf>p+g)throw new cs('"nbf" claim timestamp check failed',f,"nbf","check_failed")}if(void 0!==f.exp){if("number"!=typeof f.exp)throw new cs('"exp" claim must be a number',f,"exp","invalid");if(f.exp<=p-g)throw new ct('"exp" claim timestamp check failed',f,"exp","check_failed")}if(m){let a=p-f.iat;if(a-g>("number"==typeof m?m:dx(m)))throw new ct('"iat" claim timestamp check failed (too far in the past)',f,"iat","check_failed");if(a<0-g)throw new cs('"iat" claim timestamp check failed (it should be in the past)',f,"iat","check_failed")}return f}(d.protectedHeader,d.plaintext,c),{protectedHeader:f}=d;if(void 0!==f.iss&&f.iss!==e.iss)throw new cs('replicated "iss" claim header parameter mismatch',e,"iss","mismatch");if(void 0!==f.sub&&f.sub!==e.sub)throw new cs('replicated "sub" claim header parameter mismatch',e,"sub","mismatch");if(void 0!==f.aud&&JSON.stringify(f.aud)!==JSON.stringify(e.aud))throw new cs('replicated "aud" claim header parameter mismatch',e,"aud","mismatch");let g={payload:e,protectedHeader:f};return"function"==typeof b?{...g,key:d.key}:g}let dI=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,dJ=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,dK=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,dL=/^[\u0020-\u003A\u003D-\u007E]*$/,dM=Object.prototype.toString,dN=(()=>{let a=function(){};return a.prototype=Object.create(null),a})();function dO(a,b){let c=new dN,d=a.length;if(d<2)return c;let e=b?.decode||dS,f=0;do{let b=a.indexOf("=",f);if(-1===b)break;let g=a.indexOf(";",f),h=-1===g?d:g;if(b>h){f=a.lastIndexOf(";",b-1)+1;continue}let i=dP(a,f,b),j=dQ(a,b,i),k=a.slice(i,j);if(void 0===c[k]){let d=dP(a,b+1,h),f=dQ(a,h,d),g=e(a.slice(d,f));c[k]=g}f=h+1}while(f<d);return c}function dP(a,b,c){do{let c=a.charCodeAt(b);if(32!==c&&9!==c)return b}while(++b<c);return c}function dQ(a,b,c){for(;b>c;){let c=a.charCodeAt(--b);if(32!==c&&9!==c)return b+1}return c}function dR(a,b,c){let d=c?.encode||encodeURIComponent;if(!dI.test(a))throw TypeError(`argument name is invalid: ${a}`);let e=d(b);if(!dJ.test(e))throw TypeError(`argument val is invalid: ${b}`);let f=a+"="+e;if(!c)return f;if(void 0!==c.maxAge){if(!Number.isInteger(c.maxAge))throw TypeError(`option maxAge is invalid: ${c.maxAge}`);f+="; Max-Age="+c.maxAge}if(c.domain){if(!dK.test(c.domain))throw TypeError(`option domain is invalid: ${c.domain}`);f+="; Domain="+c.domain}if(c.path){if(!dL.test(c.path))throw TypeError(`option path is invalid: ${c.path}`);f+="; Path="+c.path}if(c.expires){var g;if(g=c.expires,"[object Date]"!==dM.call(g)||!Number.isFinite(c.expires.valueOf()))throw TypeError(`option expires is invalid: ${c.expires}`);f+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(f+="; HttpOnly"),c.secure&&(f+="; Secure"),c.partitioned&&(f+="; Partitioned"),c.priority)switch("string"==typeof c.priority?c.priority.toLowerCase():void 0){case"low":f+="; Priority=Low";break;case"medium":f+="; Priority=Medium";break;case"high":f+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${c.priority}`)}if(c.sameSite)switch("string"==typeof c.sameSite?c.sameSite.toLowerCase():c.sameSite){case!0:case"strict":f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"none":f+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${c.sameSite}`)}return f}function dS(a){if(-1===a.indexOf("%"))return a;try{return decodeURIComponent(a)}catch(b){return a}}let{q:dT}=i,dU="A256CBC-HS512";async function dV(a){let{token:b={},secret:c,maxAge:d=2592e3,salt:e}=a,f=Array.isArray(c)?c:[c],g=await dX(dU,f[0],e),h=await cN({kty:"oct",k:cq(g)},`sha${g.byteLength<<3}`);return await new dB(b).setProtectedHeader({alg:"dir",enc:dU,kid:h}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+d).setJti(crypto.randomUUID()).encrypt(g)}async function dW(a){let{token:b,secret:c,salt:d}=a,e=Array.isArray(c)?c:[c];if(!b)return null;let{payload:f}=await dH(b,async({kid:a,enc:b})=>{for(let c of e){let e=await dX(b,c,d);if(void 0===a||a===await cN({kty:"oct",k:cq(e)},`sha${e.byteLength<<3}`))return e}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[dU,"A256GCM"]});return f}async function dX(a,b,c){let d;switch(a){case"A256CBC-HS512":d=64;break;case"A256GCM":d=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await ch("sha256",b,c,`Auth.js Generated Encryption Key (${c})`,d)}async function dY({options:a,paramValue:b,cookieValue:c}){let{url:d,callbacks:e}=a,f=d.origin;return b?f=await e.redirect({url:b,baseUrl:d.origin}):c&&(f=await e.redirect({url:c,baseUrl:d.origin})),{callbackUrl:f,callbackUrlCookie:f!==c?f:void 0}}let dZ="\x1b[31m",d$="\x1b[0m",d_={error(a){let b=a instanceof bA?a.type:a.name;if(console.error(`${dZ}[auth][error]${d$} ${b}: ${a.message}`),a.cause&&"object"==typeof a.cause&&"err"in a.cause&&a.cause.err instanceof Error){let{err:b,...c}=a.cause;console.error(`${dZ}[auth][cause]${d$}:`,b.stack),c&&console.error(`${dZ}[auth][details]${d$}:`,JSON.stringify(c,null,2))}else a.stack&&console.error(a.stack.replace(/.*/,"").substring(1))},warn(a){console.warn(`\x1b[33m[auth][warn][${a}]${d$}`,"Read more: https://warnings.authjs.dev")},debug(a,b){console.log(`\x1b[90m[auth][debug]:${d$} ${a}`,JSON.stringify(b,null,2))}};function d0(a){let b={...d_};return a.debug||(b.debug=()=>{}),a.logger?.error&&(b.error=a.logger.error),a.logger?.warn&&(b.warn=a.logger.warn),a.logger?.debug&&(b.debug=a.logger.debug),a.logger??(a.logger=b),b}let d1=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"],{q:d2,l:d3}=i;async function d4(a){if(!("body"in a)||!a.body||"POST"!==a.method)return;let b=a.headers.get("content-type");return b?.includes("application/json")?await a.json():b?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await a.text())):void 0}async function d5(a,b){try{if("GET"!==a.method&&"POST"!==a.method)throw new bX("Only GET and POST requests are supported");b.basePath??(b.basePath="/auth");let c=new URL(a.url),{action:d,providerId:e}=function(a,b){let c=a.match(RegExp(`^${b}(.+)`));if(null===c)throw new bX(`Cannot parse action at ${a}`);let d=c.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==d.length&&2!==d.length)throw new bX(`Cannot parse action at ${a}`);let[e,f]=d;if(!d1.includes(e)||f&&!["signin","callback","webauthn-options"].includes(e))throw new bX(`Cannot parse action at ${a}`);return{action:e,providerId:"undefined"==f?void 0:f}}(c.pathname,b.basePath);return{url:c,action:d,providerId:e,method:a.method,headers:Object.fromEntries(a.headers),body:a.body?await d4(a):void 0,cookies:d2(a.headers.get("cookie")??"")??{},error:c.searchParams.get("error")??void 0,query:Object.fromEntries(c.searchParams)}}catch(d){let c=d0(b);c.error(d),c.debug("request",a)}}function d6(a){let b=new Headers(a.headers);a.cookies?.forEach(a=>{let{name:c,value:d,options:e}=a,f=d3(c,d,e);b.has("Set-Cookie")?b.append("Set-Cookie",f):b.set("Set-Cookie",f)});let c=a.body;"application/json"===b.get("content-type")?c=JSON.stringify(a.body):"application/x-www-form-urlencoded"===b.get("content-type")&&(c=new URLSearchParams(a.body).toString());let d=new Response(c,{headers:b,status:a.redirect?302:a.status??200});return a.redirect&&d.headers.set("Location",a.redirect),d}async function d7(a){let b=new TextEncoder().encode(a);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>a.toString(16).padStart(2,"0")).join("").toString()}function d8(a){return Array.from(crypto.getRandomValues(new Uint8Array(a))).reduce((a,b)=>a+("0"+b.toString(16)).slice(-2),"")}async function d9({options:a,cookieValue:b,isPost:c,bodyValue:d}){if(b){let[e,f]=b.split("|");if(f===await d7(`${e}${a.secret}`))return{csrfTokenVerified:c&&e===d,csrfToken:e}}let e=d8(32),f=await d7(`${e}${a.secret}`);return{cookie:`${e}|${f}`,csrfToken:e}}function ea(a,b){if(!b)throw new b0(`CSRF token was missing during an action ${a}`)}function eb(a){return null!==a&&"object"==typeof a}function ec(a,...b){if(!b.length)return a;let c=b.shift();if(eb(a)&&eb(c))for(let b in c)eb(c[b])?(eb(a[b])||(a[b]=Array.isArray(c[b])?[]:{}),ec(a[b],c[b])):void 0!==c[b]&&(a[b]=c[b]);return ec(a,...b)}let ed=Symbol("skip-csrf-check"),ee=Symbol("return-type-raw"),ef=Symbol("custom-fetch"),eg=Symbol("conform-internal"),eh=a=>ej({id:a.sub??a.id??crypto.randomUUID(),name:a.name??a.nickname??a.preferred_username,email:a.email,image:a.picture}),ei=a=>ej({access_token:a.access_token,id_token:a.id_token,refresh_token:a.refresh_token,expires_at:a.expires_at,scope:a.scope,token_type:a.token_type,session_state:a.session_state});function ej(a){let b={};for(let[c,d]of Object.entries(a))void 0!==d&&(b[c]=d);return b}function ek(a,b){if(!a&&b)return;if("string"==typeof a)return{url:new URL(a)};let c=new URL(a?.url??"https://authjs.dev");if(a?.params!=null)for(let[b,d]of Object.entries(a.params))"claims"===b&&(d=JSON.stringify(d)),c.searchParams.set(b,String(d));return{url:c,request:a?.request,conform:a?.conform,...a?.clientPrivateKey?{clientPrivateKey:a?.clientPrivateKey}:null}}let el={signIn:()=>!0,redirect:({url:a,baseUrl:b})=>a.startsWith("/")?`${b}${a}`:new URL(a).origin===b?a:b,session:({session:a})=>({user:{name:a.user?.name,email:a.user?.email,image:a.user?.image},expires:a.expires?.toISOString?.()??a.expires}),jwt:({token:a})=>a};async function em({authOptions:a,providerId:b,action:c,url:d,cookies:e,callbackUrl:f,csrfToken:g,csrfDisabled:h,isPost:i}){var j,k;let l=d0(a),{providers:m,provider:n}=function(a){let{providerId:b,config:c}=a,d=new URL(c.basePath??"/auth",a.url.origin),e=c.providers.map(a=>{let b="function"==typeof a?a():a,{options:e,...f}=b,g=e?.id??f.id,h=ec(f,e,{signinUrl:`${d}/signin/${g}`,callbackUrl:`${d}/callback/${g}`});if("oauth"===b.type||"oidc"===b.type){h.redirectProxyUrl??(h.redirectProxyUrl=e?.redirectProxyUrl??c.redirectProxyUrl);let a=function(a){a.issuer&&(a.wellKnown??(a.wellKnown=`${a.issuer}/.well-known/openid-configuration`));let b=ek(a.authorization,a.issuer);b&&!b.url?.searchParams.has("scope")&&b.url.searchParams.set("scope","openid profile email");let c=ek(a.token,a.issuer),d=ek(a.userinfo,a.issuer),e=a.checks??["pkce"];return a.redirectProxyUrl&&(e.includes("state")||e.push("state"),a.redirectProxyUrl=`${a.redirectProxyUrl}/callback/${a.id}`),{...a,authorization:b,token:c,checks:e,userinfo:d,profile:a.profile??eh,account:a.account??ei}}(h);return a.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete a.redirectProxyUrl,a[ef]??(a[ef]=e?.[ef]),a}return h}),f=e.find(({id:a})=>a===b);if(b&&!f){let a=e.map(a=>a.id).join(", ");throw Error(`Provider with id "${b}" not found. Available providers: [${a}].`)}return{providers:e,provider:f}}({url:d,providerId:b,config:a}),o=!1;if((n?.type==="oauth"||n?.type==="oidc")&&n.redirectProxyUrl)try{o=new URL(n.redirectProxyUrl).origin===d.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${n.redirectProxyUrl}`)}let p={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...a,url:d,action:c,provider:n,cookies:ec(by(a.useSecureCookies??"https:"===d.protocol),a.cookies),providers:m,session:{strategy:a.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...a.session},jwt:{secret:a.secret,maxAge:a.session?.maxAge??2592e3,encode:dV,decode:dW,...a.jwt},events:(j=a.events??{},k=l,Object.keys(j).reduce((a,b)=>(a[b]=async(...a)=>{try{let c=j[b];return await c(...a)}catch(a){k.error(new bG(a))}},a),{})),adapter:function(a,b){if(a)return Object.keys(a).reduce((c,d)=>(c[d]=async(...c)=>{try{b.debug(`adapter_${d}`,{args:c});let e=a[d];return await e(...c)}catch(c){let a=new bC(c);throw b.error(a),a}},c),{})}(a.adapter,l),callbacks:{...el,...a.callbacks},logger:l,callbackUrl:d.origin,isOnRedirectProxy:o,experimental:{...a.experimental}},q=[];if(h)p.csrfTokenVerified=!0;else{let{csrfToken:a,cookie:b,csrfTokenVerified:c}=await d9({options:p,cookieValue:e?.[p.cookies.csrfToken.name],isPost:i,bodyValue:g});p.csrfToken=a,p.csrfTokenVerified=c,b&&q.push({name:p.cookies.csrfToken.name,value:b,options:p.cookies.csrfToken.options})}let{callbackUrl:r,callbackUrlCookie:s}=await dY({options:p,cookieValue:e?.[p.cookies.callbackUrl.name],paramValue:f});return p.callbackUrl=r,s&&q.push({name:p.cookies.callbackUrl.name,value:s,options:p.cookies.callbackUrl.options}),{options:p,cookies:q}}var en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE={},eF=[],eG=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,eH=Array.isArray;function eI(a,b){for(var c in b)a[c]=b[c];return a}function eJ(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function eK(a,b,c,d,e){var f={type:a,props:b,key:c,ref:d,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==e?++ew:e,__i:-1,__u:0};return null==e&&null!=ev.vnode&&ev.vnode(f),f}function eL(a){return a.children}function eM(a,b){this.props=a,this.context=b}function eN(a,b){if(null==b)return a.__?eN(a.__,a.__i+1):null;for(var c;b<a.__k.length;b++)if(null!=(c=a.__k[b])&&null!=c.__e)return c.__e;return"function"==typeof a.type?eN(a):null}function eO(a){(!a.__d&&(a.__d=!0)&&ex.push(a)&&!eP.__r++||ey!==ev.debounceRendering)&&((ey=ev.debounceRendering)||ez)(eP)}function eP(){var a,b,c,d,e,f,g,h;for(ex.sort(eA);a=ex.shift();)a.__d&&(b=ex.length,d=void 0,f=(e=(c=a).__v).__e,g=[],h=[],c.__P&&((d=eI({},e)).__v=e.__v+1,ev.vnode&&ev.vnode(d),eU(c.__P,d,e,c.__n,c.__P.namespaceURI,32&e.__u?[f]:null,g,null==f?eN(e):f,!!(32&e.__u),h),d.__v=e.__v,d.__.__k[d.__i]=d,function(a,b,c){b.__d=void 0;for(var d=0;d<c.length;d++)eV(c[d],c[++d],c[++d]);ev.__c&&ev.__c(b,a),a.some(function(b){try{a=b.__h,b.__h=[],a.some(function(a){a.call(b)})}catch(a){ev.__e(a,b.__v)}})}(g,d,h),d.__e!=f&&function a(b){var c,d;if(null!=(b=b.__)&&null!=b.__c){for(b.__e=b.__c.base=null,c=0;c<b.__k.length;c++)if(null!=(d=b.__k[c])&&null!=d.__e){b.__e=b.__c.base=d.__e;break}return a(b)}}(d)),ex.length>b&&ex.sort(eA));eP.__r=0}function eQ(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q=d&&d.__k||eF,r=b.length;for(c.__d=i,function(a,b,c){var d,e,f,g,h,i=b.length,j=c.length,k=j,l=0;for(a.__k=[],d=0;d<i;d++)null!=(e=b[d])&&"boolean"!=typeof e&&"function"!=typeof e?(g=d+l,(e=a.__k[d]="string"==typeof e||"number"==typeof e||"bigint"==typeof e||e.constructor==String?eK(null,e,null,null,null):eH(e)?eK(eL,{children:e},null,null,null):void 0===e.constructor&&e.__b>0?eK(e.type,e.props,e.key,e.ref?e.ref:null,e.__v):e).__=a,e.__b=a.__b+1,f=null,-1!==(h=e.__i=function(a,b,c,d){var e=a.key,f=a.type,g=c-1,h=c+1,i=b[c];if(null===i||i&&e==i.key&&f===i.type&&0==(131072&i.__u))return c;if(d>+(null!=i&&0==(131072&i.__u)))for(;g>=0||h<b.length;){if(g>=0){if((i=b[g])&&0==(131072&i.__u)&&e==i.key&&f===i.type)return g;g--}if(h<b.length){if((i=b[h])&&0==(131072&i.__u)&&e==i.key&&f===i.type)return h;h++}}return -1}(e,c,g,k))&&(k--,(f=c[h])&&(f.__u|=131072)),null==f||null===f.__v?(-1==h&&l--,"function"!=typeof e.type&&(e.__u|=65536)):h!==g&&(h==g-1?l--:h==g+1?l++:(h>g?l--:l++,e.__u|=65536))):e=a.__k[d]=null;if(k)for(d=0;d<j;d++)null!=(f=c[d])&&0==(131072&f.__u)&&(f.__e==a.__d&&(a.__d=eN(f)),function a(b,c,d){var e,f;if(ev.unmount&&ev.unmount(b),(e=b.ref)&&(e.current&&e.current!==b.__e||eV(e,null,c)),null!=(e=b.__c)){if(e.componentWillUnmount)try{e.componentWillUnmount()}catch(a){ev.__e(a,c)}e.base=e.__P=null}if(e=b.__k)for(f=0;f<e.length;f++)e[f]&&a(e[f],c,d||"function"!=typeof b.type);d||eJ(b.__e),b.__c=b.__=b.__e=b.__d=void 0}(f,f))}(c,b,q),i=c.__d,l=0;l<r;l++)null!=(n=c.__k[l])&&(m=-1===n.__i?eE:q[n.__i]||eE,n.__i=l,eU(a,n,m,e,f,g,h,i,j,k),o=n.__e,n.ref&&m.ref!=n.ref&&(m.ref&&eV(m.ref,null,n),k.push(n.ref,n.__c||o,n)),null==p&&null!=o&&(p=o),65536&n.__u||m.__k===n.__k?i=function a(b,c,d){var e,f;if("function"==typeof b.type){for(e=b.__k,f=0;e&&f<e.length;f++)e[f]&&(e[f].__=b,c=a(e[f],c,d));return c}b.__e!=c&&(c&&b.type&&!d.contains(c)&&(c=eN(b)),d.insertBefore(b.__e,c||null),c=b.__e);do c=c&&c.nextSibling;while(null!=c&&8===c.nodeType);return c}(n,i,a):"function"==typeof n.type&&void 0!==n.__d?i=n.__d:o&&(i=o.nextSibling),n.__d=void 0,n.__u&=-196609);c.__d=i,c.__e=p}function eR(a,b,c){"-"===b[0]?a.setProperty(b,null==c?"":c):a[b]=null==c?"":"number"!=typeof c||eG.test(b)?c:c+"px"}function eS(a,b,c,d,e){var f;b:if("style"===b)if("string"==typeof c)a.style.cssText=c;else{if("string"==typeof d&&(a.style.cssText=d=""),d)for(b in d)c&&b in c||eR(a.style,b,"");if(c)for(b in c)d&&c[b]===d[b]||eR(a.style,b,c[b])}else if("o"===b[0]&&"n"===b[1])f=b!==(b=b.replace(/(PointerCapture)$|Capture$/i,"$1")),b=b.toLowerCase()in a||"onFocusOut"===b||"onFocusIn"===b?b.toLowerCase().slice(2):b.slice(2),a.l||(a.l={}),a.l[b+f]=c,c?d?c.u=d.u:(c.u=eB,a.addEventListener(b,f?eD:eC,f)):a.removeEventListener(b,f?eD:eC,f);else{if("http://www.w3.org/2000/svg"==e)b=b.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=b&&"height"!=b&&"href"!=b&&"list"!=b&&"form"!=b&&"tabIndex"!=b&&"download"!=b&&"rowSpan"!=b&&"colSpan"!=b&&"role"!=b&&"popover"!=b&&b in a)try{a[b]=null==c?"":c;break b}catch(a){}"function"==typeof c||(null==c||!1===c&&"-"!==b[4]?a.removeAttribute(b):a.setAttribute(b,"popover"==b&&1==c?"":c))}}function eT(a){return function(b){if(this.l){var c=this.l[b.type+a];if(null==b.t)b.t=eB++;else if(b.t<c.u)return;return c(ev.event?ev.event(b):b)}}}function eU(a,b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A=b.type;if(void 0!==b.constructor)return null;128&c.__u&&(i=!!(32&c.__u),f=[h=b.__e=c.__e]),(k=ev.__b)&&k(b);b:if("function"==typeof A)try{if(r=b.props,s="prototype"in A&&A.prototype.render,t=(k=A.contextType)&&d[k.__c],u=k?t?t.props.value:k.__:d,c.__c?q=(l=b.__c=c.__c).__=l.__E:(s?b.__c=l=new A(r,u):(b.__c=l=new eM(r,u),l.constructor=A,l.render=eW),t&&t.sub(l),l.props=r,l.state||(l.state={}),l.context=u,l.__n=d,m=l.__d=!0,l.__h=[],l._sb=[]),s&&null==l.__s&&(l.__s=l.state),s&&null!=A.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=eI({},l.__s)),eI(l.__s,A.getDerivedStateFromProps(r,l.__s))),n=l.props,o=l.state,l.__v=b,m)s&&null==A.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),s&&null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(s&&null==A.getDerivedStateFromProps&&r!==n&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(r,u),!l.__e&&(null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(r,l.__s,u)||b.__v===c.__v)){for(b.__v!==c.__v&&(l.props=r,l.state=l.__s,l.__d=!1),b.__e=c.__e,b.__k=c.__k,b.__k.some(function(a){a&&(a.__=b)}),v=0;v<l._sb.length;v++)l.__h.push(l._sb[v]);l._sb=[],l.__h.length&&g.push(l);break b}null!=l.componentWillUpdate&&l.componentWillUpdate(r,l.__s,u),s&&null!=l.componentDidUpdate&&l.__h.push(function(){l.componentDidUpdate(n,o,p)})}if(l.context=u,l.props=r,l.__P=a,l.__e=!1,w=ev.__r,x=0,s){for(l.state=l.__s,l.__d=!1,w&&w(b),k=l.render(l.props,l.state,l.context),y=0;y<l._sb.length;y++)l.__h.push(l._sb[y]);l._sb=[]}else do l.__d=!1,w&&w(b),k=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++x<25);l.state=l.__s,null!=l.getChildContext&&(d=eI(eI({},d),l.getChildContext())),s&&!m&&null!=l.getSnapshotBeforeUpdate&&(p=l.getSnapshotBeforeUpdate(n,o)),eQ(a,eH(z=null!=k&&k.type===eL&&null==k.key?k.props.children:k)?z:[z],b,c,d,e,f,g,h,i,j),l.base=b.__e,b.__u&=-161,l.__h.length&&g.push(l),q&&(l.__E=l.__=null)}catch(a){if(b.__v=null,i||null!=f){for(b.__u|=i?160:128;h&&8===h.nodeType&&h.nextSibling;)h=h.nextSibling;f[f.indexOf(h)]=null,b.__e=h}else b.__e=c.__e,b.__k=c.__k;ev.__e(a,b,c)}else null==f&&b.__v===c.__v?(b.__k=c.__k,b.__e=c.__e):b.__e=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q=c.props,r=b.props,s=b.type;if("svg"===s?e="http://www.w3.org/2000/svg":"math"===s?e="http://www.w3.org/1998/Math/MathML":e||(e="http://www.w3.org/1999/xhtml"),null!=f){for(j=0;j<f.length;j++)if((n=f[j])&&"setAttribute"in n==!!s&&(s?n.localName===s:3===n.nodeType)){a=n,f[j]=null;break}}if(null==a){if(null===s)return document.createTextNode(r);a=document.createElementNS(e,s,r.is&&r),h&&(ev.__m&&ev.__m(b,f),h=!1),f=null}if(null===s)q===r||h&&a.data===r||(a.data=r);else{if(f=f&&eu.call(a.childNodes),q=c.props||eE,!h&&null!=f)for(q={},j=0;j<a.attributes.length;j++)q[(n=a.attributes[j]).name]=n.value;for(j in q)if(n=q[j],"children"==j);else if("dangerouslySetInnerHTML"==j)l=n;else if(!(j in r)){if("value"==j&&"defaultValue"in r||"checked"==j&&"defaultChecked"in r)continue;eS(a,j,null,n,e)}for(j in r)n=r[j],"children"==j?m=n:"dangerouslySetInnerHTML"==j?k=n:"value"==j?o=n:"checked"==j?p=n:h&&"function"!=typeof n||q[j]===n||eS(a,j,n,q[j],e);if(k)h||l&&(k.__html===l.__html||k.__html===a.innerHTML)||(a.innerHTML=k.__html),b.__k=[];else if(l&&(a.innerHTML=""),eQ(a,eH(m)?m:[m],b,c,d,"foreignObject"===s?"http://www.w3.org/1999/xhtml":e,f,g,f?f[0]:c.__k&&eN(c,0),h,i),null!=f)for(j=f.length;j--;)eJ(f[j]);h||(j="value","progress"===s&&null==o?a.removeAttribute("value"):void 0===o||o===a[j]&&("progress"!==s||o)&&("option"!==s||o===q[j])||eS(a,j,o,q[j],e),j="checked",void 0!==p&&p!==a[j]&&eS(a,j,p,q[j],e))}return a}(c.__e,b,c,d,e,f,g,i,j);(k=ev.diffed)&&k(b)}function eV(a,b,c){try{if("function"==typeof a){var d="function"==typeof a.__u;d&&a.__u(),d&&null==b||(a.__u=a(b))}else a.current=b}catch(a){ev.__e(a,c)}}function eW(a,b,c){return this.constructor(a,c)}eu=eF.slice,ev={__e:function(a,b,c,d){for(var e,f,g;b=b.__;)if((e=b.__c)&&!e.__)try{if((f=e.constructor)&&null!=f.getDerivedStateFromError&&(e.setState(f.getDerivedStateFromError(a)),g=e.__d),null!=e.componentDidCatch&&(e.componentDidCatch(a,d||{}),g=e.__d),g)return e.__E=e}catch(b){a=b}throw a}},ew=0,eM.prototype.setState=function(a,b){var c;c=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=eI({},this.state),"function"==typeof a&&(a=a(eI({},c),this.props)),a&&eI(c,a),null!=a&&this.__v&&(b&&this._sb.push(b),eO(this))},eM.prototype.forceUpdate=function(a){this.__v&&(this.__e=!0,a&&this.__h.push(a),eO(this))},eM.prototype.render=eL,ex=[],ez="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,eA=function(a,b){return a.__v.__b-b.__v.__b},eP.__r=0,eB=0,eC=eT(!1),eD=eT(!0);var eX=/[\s\n\\/='"\0<>]/,eY=/^(xlink|xmlns|xml)([A-Z])/,eZ=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,e$=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,e_=new Set(["draggable","spellcheck"]),e0=/["&<]/;function e1(a){if(0===a.length||!1===e0.test(a))return a;for(var b=0,c=0,d="",e="";c<a.length;c++){switch(a.charCodeAt(c)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 60:e="&lt;";break;default:continue}c!==b&&(d+=a.slice(b,c)),d+=e,b=c+1}return c!==b&&(d+=a.slice(b,c)),d}var e2={},e3=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),e4=/[A-Z]/g;function e5(){this.__d=!0}var e6,e7,e8,e9,fa={},fb=[],fc=Array.isArray,fd=Object.assign;function fe(a,b){var c,d=a.type,e=!0;return a.__c?(e=!1,(c=a.__c).state=c.__s):c=new d(a.props,b),a.__c=c,c.__v=a,c.props=a.props,c.context=b,c.__d=!0,null==c.state&&(c.state=fa),null==c.__s&&(c.__s=c.state),d.getDerivedStateFromProps?c.state=fd({},c.state,d.getDerivedStateFromProps(c.props,c.state)):e&&c.componentWillMount?(c.componentWillMount(),c.state=c.__s!==c.state?c.__s:c.state):!e&&c.componentWillUpdate&&c.componentWillUpdate(),e8&&e8(a),c.render(c.props,c.state,b)}var ff=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),fg=0;function fh(a,b,c,d,e,f){b||(b={});var g,h,i=b;"ref"in b&&(g=b.ref,delete b.ref);var j={type:a,props:i,key:c,ref:g,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--fg,__i:-1,__u:0,__source:e,__self:f};if("function"==typeof a&&(g=a.defaultProps))for(h in g)void 0===i[h]&&(i[h]=g[h]);return ev.vnode&&ev.vnode(j),j}async function fi(a,b){let c=window.SimpleWebAuthnBrowser;async function d(c){let d=new URL(`${a}/webauthn-options/${b}`);c&&d.searchParams.append("action",c),f().forEach(a=>{d.searchParams.append(a.name,a.value)});let e=await fetch(d);return e.ok?e.json():void console.error("Failed to fetch options",e)}function e(){let a=`#${b}-form`,c=document.querySelector(a);if(!c)throw Error(`Form '${a}' not found`);return c}function f(){return Array.from(e().querySelectorAll("input[data-form-field]"))}async function g(a,b){let c=e();if(a){let b=document.createElement("input");b.type="hidden",b.name="action",b.value=a,c.appendChild(b)}if(b){let a=document.createElement("input");a.type="hidden",a.name="data",a.value=JSON.stringify(b),c.appendChild(a)}return c.submit()}async function h(a,b){let d=await c.startAuthentication(a,b);return await g("authenticate",d)}async function i(a){f().forEach(a=>{if(a.required&&!a.value)throw Error(`Missing required field: ${a.name}`)});let b=await c.startRegistration(a);return await g("register",b)}async function j(){if(!c.browserSupportsWebAuthnAutofill())return;let a=await d("authenticate");if(!a)return void console.error("Failed to fetch option for autofill authentication");try{await h(a.options,!0)}catch(a){console.error(a)}}(async function(){let a=e();if(!c.browserSupportsWebAuthn()){a.style.display="none";return}a&&a.addEventListener("submit",async a=>{a.preventDefault();let b=await d(void 0);if(!b)return void console.error("Failed to fetch options for form submission");if("authenticate"===b.action)try{await h(b.options,!1)}catch(a){console.error(a)}else if("register"===b.action)try{await i(b.options)}catch(a){console.error(a)}})})(),j()}let fj={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},fk=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
  --provider-bg: #fff;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #fff
  );
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
  --provider-bg: #161b22;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #000
  );
}

.__next-auth-theme-dark img[src$="42-school.svg"],
  .__next-auth-theme-dark img[src$="apple.svg"],
  .__next-auth-theme-dark img[src$="boxyhq-saml.svg"],
  .__next-auth-theme-dark img[src$="eveonline.svg"],
  .__next-auth-theme-dark img[src$="github.svg"],
  .__next-auth-theme-dark img[src$="mailchimp.svg"],
  .__next-auth-theme-dark img[src$="medium.svg"],
  .__next-auth-theme-dark img[src$="okta.svg"],
  .__next-auth-theme-dark img[src$="patreon.svg"],
  .__next-auth-theme-dark img[src$="ping-id.svg"],
  .__next-auth-theme-dark img[src$="roblox.svg"],
  .__next-auth-theme-dark img[src$="threads.svg"],
  .__next-auth-theme-dark img[src$="wikimedia.svg"] {
    filter: invert(1);
  }

.__next-auth-theme-dark #submitButton {
    background-color: var(--provider-bg, var(--color-info));
  }

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
    --provider-bg: #161b22;
    --provider-bg-hover: color-mix(
      in srgb,
      var(--provider-brand-color) 30%,
      #000
    );
  }
    .__next-auth-theme-auto img[src$="42-school.svg"],
    .__next-auth-theme-auto img[src$="apple.svg"],
    .__next-auth-theme-auto img[src$="boxyhq-saml.svg"],
    .__next-auth-theme-auto img[src$="eveonline.svg"],
    .__next-auth-theme-auto img[src$="github.svg"],
    .__next-auth-theme-auto img[src$="mailchimp.svg"],
    .__next-auth-theme-auto img[src$="medium.svg"],
    .__next-auth-theme-auto img[src$="okta.svg"],
    .__next-auth-theme-auto img[src$="patreon.svg"],
    .__next-auth-theme-auto img[src$="ping-id.svg"],
    .__next-auth-theme-auto img[src$="roblox.svg"],
    .__next-auth-theme-auto img[src$="threads.svg"],
    .__next-auth-theme-auto img[src$="wikimedia.svg"] {
      filter: invert(1);
    }
    .__next-auth-theme-auto #submitButton {
      background-color: var(--provider-bg, var(--color-info));
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: var(--provider-bg);
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function fl({html:a,title:b,status:c,cookies:d,theme:e,headTags:f}){return{cookies:d,status:c,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${fk}</style><title>${b}</title>${f??""}</head><body class="__next-auth-theme-${e?.colorScheme??"auto"}"><div class="page">${function(a,b,c){var d=ev.__s;ev.__s=!0,e6=ev.__b,e7=ev.diffed,e8=ev.__r,e9=ev.unmount;var e=function(a,b,c){var d,e,f,g={};for(f in b)"key"==f?d=b[f]:"ref"==f?e=b[f]:g[f]=b[f];if(arguments.length>2&&(g.children=arguments.length>3?eu.call(arguments,2):c),"function"==typeof a&&null!=a.defaultProps)for(f in a.defaultProps)void 0===g[f]&&(g[f]=a.defaultProps[f]);return eK(a,g,d,e,null)}(eL,null);e.__k=[a];try{var f=function a(b,c,d,e,f,g,h){if(null==b||!0===b||!1===b||""===b)return"";var i=typeof b;if("object"!=i)return"function"==i?"":"string"==i?e1(b):b+"";if(fc(b)){var j,k="";f.__k=b;for(var l=0;l<b.length;l++){var m=b[l];if(null!=m&&"boolean"!=typeof m){var n,o=a(m,c,d,e,f,g,h);"string"==typeof o?k+=o:(j||(j=[]),k&&j.push(k),k="",fc(o)?(n=j).push.apply(n,o):j.push(o))}}return j?(k&&j.push(k),j):k}if(void 0!==b.constructor)return"";b.__=f,e6&&e6(b);var p=b.type,q=b.props;if("function"==typeof p){var r,s,t,u=c;if(p===eL){if("tpl"in q){for(var v="",w=0;w<q.tpl.length;w++)if(v+=q.tpl[w],q.exprs&&w<q.exprs.length){var x=q.exprs[w];if(null==x)continue;"object"==typeof x&&(void 0===x.constructor||fc(x))?v+=a(x,c,d,e,b,g,h):v+=x}return v}if("UNSTABLE_comment"in q)return"\x3c!--"+e1(q.UNSTABLE_comment)+"--\x3e";s=q.children}else{if(null!=(r=p.contextType)){var y=c[r.__c];u=y?y.props.value:r.__}var z=p.prototype&&"function"==typeof p.prototype.render;if(z)s=fe(b,u),t=b.__c;else{b.__c=t={__v:b,context:u,props:b.props,setState:e5,forceUpdate:e5,__d:!0,__h:[]};for(var A=0;t.__d&&A++<25;)t.__d=!1,e8&&e8(b),s=p.call(t,q,u);t.__d=!0}if(null!=t.getChildContext&&(c=fd({},c,t.getChildContext())),z&&ev.errorBoundaries&&(p.getDerivedStateFromError||t.componentDidCatch)){s=null!=s&&s.type===eL&&null==s.key&&null==s.props.tpl?s.props.children:s;try{return a(s,c,d,e,b,g,h)}catch(f){return p.getDerivedStateFromError&&(t.__s=p.getDerivedStateFromError(f)),t.componentDidCatch&&t.componentDidCatch(f,fa),t.__d?(s=fe(b,c),null!=(t=b.__c).getChildContext&&(c=fd({},c,t.getChildContext())),a(s=null!=s&&s.type===eL&&null==s.key&&null==s.props.tpl?s.props.children:s,c,d,e,b,g,h)):""}finally{e7&&e7(b),b.__=null,e9&&e9(b)}}}s=null!=s&&s.type===eL&&null==s.key&&null==s.props.tpl?s.props.children:s;try{var B=a(s,c,d,e,b,g,h);return e7&&e7(b),b.__=null,ev.unmount&&ev.unmount(b),B}catch(f){if(!g&&h&&h.onError){var C=h.onError(f,b,function(f){return a(f,c,d,e,b,g,h)});if(void 0!==C)return C;var D=ev.__e;return D&&D(f,b),""}if(!g||!f||"function"!=typeof f.then)throw f;return f.then(function f(){try{return a(s,c,d,e,b,g,h)}catch(i){if(!i||"function"!=typeof i.then)throw i;return i.then(function(){return a(s,c,d,e,b,g,h)},f)}})}}var E,F="<"+p,G="";for(var H in q){var I=q[H];if("function"!=typeof I||"class"===H||"className"===H){switch(H){case"children":E=I;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in q)continue;H="for";break;case"className":if("class"in q)continue;H="class";break;case"defaultChecked":H="checked";break;case"defaultSelected":H="selected";break;case"defaultValue":case"value":switch(H="value",p){case"textarea":E=I;continue;case"select":e=I;continue;case"option":e!=I||"selected"in q||(F+=" selected")}break;case"dangerouslySetInnerHTML":G=I&&I.__html;continue;case"style":"object"==typeof I&&(I=function(a){var b="";for(var c in a){var d=a[c];if(null!=d&&""!==d){var e="-"==c[0]?c:e2[c]||(e2[c]=c.replace(e4,"-$&").toLowerCase()),f=";";"number"!=typeof d||e.startsWith("--")||e3.has(e)||(f="px;"),b=b+e+":"+d+f}}return b||void 0}(I));break;case"acceptCharset":H="accept-charset";break;case"httpEquiv":H="http-equiv";break;default:if(eY.test(H))H=H.replace(eY,"$1:$2").toLowerCase();else{if(eX.test(H))continue;("-"===H[4]||e_.has(H))&&null!=I?I+="":d?e$.test(H)&&(H="panose1"===H?"panose-1":H.replace(/([A-Z])/g,"-$1").toLowerCase()):eZ.test(H)&&(H=H.toLowerCase())}}null!=I&&!1!==I&&(F=!0===I||""===I?F+" "+H:F+" "+H+'="'+("string"==typeof I?e1(I):I+"")+'"')}}if(eX.test(p))throw Error(p+" is not a valid HTML tag name in "+F+">");if(G||("string"==typeof E?G=e1(E):null!=E&&!1!==E&&!0!==E&&(G=a(E,c,"svg"===p||"foreignObject"!==p&&d,e,b,g,h))),e7&&e7(b),b.__=null,e9&&e9(b),!G&&ff.has(p))return F+"/>";var J="</"+p+">",K=F+">";return fc(G)?[K].concat(G,[J]):"string"!=typeof G?[K,G,J]:K+G+J}(a,fa,!1,void 0,e,!1,void 0);return fc(f)?f.join(""):f}catch(a){if(a.then)throw Error('Use "renderToStringAsync" for suspenseful rendering.');throw a}finally{ev.__c&&ev.__c(a,fb),ev.__s=d,fb.length=0}}(a)}</div></body></html>`}}function fm(a){let{url:b,theme:c,query:d,cookies:e,pages:f,providers:g}=a;return{csrf:(a,b,c)=>a?(b.logger.warn("csrf-disabled"),c.push({name:b.cookies.csrfToken.name,value:"",options:{...b.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:c}):{headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"},body:{csrfToken:b.csrfToken},cookies:c},providers:a=>({headers:{"Content-Type":"application/json"},body:a.reduce((a,{id:b,name:c,type:d,signinUrl:e,callbackUrl:f})=>(a[b]={id:b,name:c,type:d,signinUrl:e,callbackUrl:f},a),{})}),signin(b,h){if(b)throw new bX("Unsupported action");if(f?.signIn){let b=`${f.signIn}${f.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:a.callbackUrl??"/"})}`;return h&&(b=`${b}&${new URLSearchParams({error:h})}`),{redirect:b,cookies:e}}let i=g?.find(a=>"webauthn"===a.type&&a.enableConditionalUI&&!!a.simpleWebAuthnBrowserVersion),j="";if(i){let{simpleWebAuthnBrowserVersion:a}=i;j=`<script src="https://unpkg.com/@simplewebauthn/browser@${a}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return fl({cookies:e,theme:c,html:function(a){let{csrfToken:b,providers:c=[],callbackUrl:d,theme:e,email:f,error:g}=a;"undefined"!=typeof document&&e?.brandColor&&document.documentElement.style.setProperty("--brand-color",e.brandColor),"undefined"!=typeof document&&e?.buttonText&&document.documentElement.style.setProperty("--button-text-color",e.buttonText);let h=g&&(fj[g]??fj.default),i=c.find(a=>"webauthn"===a.type&&a.enableConditionalUI)?.id;return fh("div",{className:"signin",children:[e?.brandColor&&fh("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${e.brandColor}}`}}),e?.buttonText&&fh("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${e.buttonText}
        }
      `}}),fh("div",{className:"card",children:[h&&fh("div",{className:"error",children:fh("p",{children:h})}),e?.logo&&fh("img",{src:e.logo,alt:"Logo",className:"logo"}),c.map((a,e)=>{let g,h,i;("oauth"===a.type||"oidc"===a.type)&&({bg:g="#fff",brandColor:h,logo:i=`https://authjs.dev/img/providers/${a.id}.svg`}=a.style??{});let j=h??g??"#fff";return fh("div",{className:"provider",children:["oauth"===a.type||"oidc"===a.type?fh("form",{action:a.signinUrl,method:"POST",children:[fh("input",{type:"hidden",name:"csrfToken",value:b}),d&&fh("input",{type:"hidden",name:"callbackUrl",value:d}),fh("button",{type:"submit",className:"button",style:{"--provider-brand-color":j},tabIndex:0,children:[fh("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",a.name]}),i&&fh("img",{loading:"lazy",height:24,src:i})]})]}):null,("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e>0&&"email"!==c[e-1].type&&"credentials"!==c[e-1].type&&"webauthn"!==c[e-1].type&&fh("hr",{}),"email"===a.type&&fh("form",{action:a.signinUrl,method:"POST",children:[fh("input",{type:"hidden",name:"csrfToken",value:b}),fh("label",{className:"section-header",htmlFor:`input-email-for-${a.id}-provider`,children:"Email"}),fh("input",{id:`input-email-for-${a.id}-provider`,autoFocus:!0,type:"email",name:"email",value:f,placeholder:"email@example.com",required:!0}),fh("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"credentials"===a.type&&fh("form",{action:a.callbackUrl,method:"POST",children:[fh("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.credentials).map(b=>fh("div",{children:[fh("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.credentials[b].label??b}),fh("input",{name:b,id:`input-${b}-for-${a.id}-provider`,type:a.credentials[b].type??"text",placeholder:a.credentials[b].placeholder??"",...a.credentials[b]})]},`input-group-${a.id}`)),fh("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),"webauthn"===a.type&&fh("form",{action:a.callbackUrl,method:"POST",id:`${a.id}-form`,children:[fh("input",{type:"hidden",name:"csrfToken",value:b}),Object.keys(a.formFields).map(b=>fh("div",{children:[fh("label",{className:"section-header",htmlFor:`input-${b}-for-${a.id}-provider`,children:a.formFields[b].label??b}),fh("input",{name:b,"data-form-field":!0,id:`input-${b}-for-${a.id}-provider`,type:a.formFields[b].type??"text",placeholder:a.formFields[b].placeholder??"",...a.formFields[b]})]},`input-group-${a.id}`)),fh("button",{id:`submitButton-${a.id}`,type:"submit",tabIndex:0,children:["Sign in with ",a.name]})]}),("email"===a.type||"credentials"===a.type||"webauthn"===a.type)&&e+1<c.length&&fh("hr",{})]},a.id)})]}),i&&fh(eL,{children:fh("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${fi})(authURL, "${i}");
`}})})]})}({csrfToken:a.csrfToken,providers:a.providers?.filter(a=>["email","oauth","oidc"].includes(a.type)||"credentials"===a.type&&a.credentials||"webauthn"===a.type&&a.formFields||!1),callbackUrl:a.callbackUrl,theme:a.theme,error:h,...d}),title:"Sign In",headTags:j})},signout:()=>f?.signOut?{redirect:f.signOut,cookies:e}:fl({cookies:e,theme:c,html:function(a){let{url:b,csrfToken:c,theme:d}=a;return fh("div",{className:"signout",children:[d?.brandColor&&fh("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d.brandColor}
        }
      `}}),d?.buttonText&&fh("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${d.buttonText}
        }
      `}}),fh("div",{className:"card",children:[d?.logo&&fh("img",{src:d.logo,alt:"Logo",className:"logo"}),fh("h1",{children:"Signout"}),fh("p",{children:"Are you sure you want to sign out?"}),fh("form",{action:b?.toString(),method:"POST",children:[fh("input",{type:"hidden",name:"csrfToken",value:c}),fh("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:a.csrfToken,url:b,theme:c}),title:"Sign Out"}),verifyRequest:a=>f?.verifyRequest?{redirect:`${f.verifyRequest}${b?.search??""}`,cookies:e}:fl({cookies:e,theme:c,html:function(a){let{url:b,theme:c}=a;return fh("div",{className:"verify-request",children:[c.brandColor&&fh("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${c.brandColor}
        }
      `}}),fh("div",{className:"card",children:[c.logo&&fh("img",{src:c.logo,alt:"Logo",className:"logo"}),fh("h1",{children:"Check your email"}),fh("p",{children:"A sign in link has been sent to your email address."}),fh("p",{children:fh("a",{className:"site",href:b.origin,children:b.host})})]})]})}({url:b,theme:c,...a}),title:"Verify Request"}),error:a=>f?.error?{redirect:`${f.error}${f.error.includes("?")?"&":"?"}error=${a}`,cookies:e}:fl({cookies:e,theme:c,...function(a){let{url:b,error:c="default",theme:d}=a,e=`${b}/signin`,f={default:{status:200,heading:"Error",message:fh("p",{children:fh("a",{className:"site",href:b?.origin,children:b?.host})})},Configuration:{status:500,heading:"Server error",message:fh("div",{children:[fh("p",{children:"There is a problem with the server configuration."}),fh("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:fh("div",{children:[fh("p",{children:"You do not have permission to sign in."}),fh("p",{children:fh("a",{className:"button",href:e,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:fh("div",{children:[fh("p",{children:"The sign in link is no longer valid."}),fh("p",{children:"It may have been used already or it may have expired."})]}),signin:fh("a",{className:"button",href:e,children:"Sign in"})}},{status:g,heading:h,message:i,signin:j}=f[c]??f.default;return{status:g,html:fh("div",{className:"error",children:[d?.brandColor&&fh("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${d?.brandColor}
        }
      `}}),fh("div",{className:"card",children:[d?.logo&&fh("img",{src:d?.logo,alt:"Logo",className:"logo"}),fh("h1",{children:h}),fh("div",{className:"message",children:i}),j]})]})}}({url:b,theme:c,error:a}),title:"Error"})}}function fn(a,b=Date.now()){return new Date(b+1e3*a)}async function fo(a,b,c,d){if(!c?.providerAccountId||!c.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(c.type))throw Error("Provider not supported");let{adapter:e,jwt:f,events:g,session:{strategy:h,generateSessionToken:i}}=d;if(!e)return{user:b,account:c};let j=c,{createUser:k,updateUser:l,getUser:m,getUserByAccount:n,getUserByEmail:o,linkAccount:p,createSession:q,getSessionAndUser:r,deleteSession:s}=e,t=null,u=null,v=!1,w="jwt"===h;if(a)if(w)try{let b=d.cookies.sessionToken.name;(t=await f.decode({...f,token:a,salt:b}))&&"sub"in t&&t.sub&&(u=await m(t.sub))}catch{}else{let b=await r(a);b&&(t=b.session,u=b.user)}if("email"===j.type){let c=await o(b.email);return c?(u?.id!==c.id&&!w&&a&&await s(a),u=await l({id:c.id,emailVerified:new Date}),await g.updateUser?.({user:u})):(u=await k({...b,emailVerified:new Date}),await g.createUser?.({user:u}),v=!0),{session:t=w?{}:await q({sessionToken:i(),userId:u.id,expires:fn(d.session.maxAge)}),user:u,isNewUser:v}}if("webauthn"===j.type){let a=await n({providerAccountId:j.providerAccountId,provider:j.provider});if(a){if(u){if(a.id===u.id){let a={...j,userId:u.id};return{session:t,user:u,isNewUser:v,account:a}}throw new b5("The account is already associated with another user",{provider:j.provider})}t=w?{}:await q({sessionToken:i(),userId:a.id,expires:fn(d.session.maxAge)});let b={...j,userId:a.id};return{session:t,user:a,isNewUser:v,account:b}}{if(u){await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b});let a={...j,userId:u.id};return{session:t,user:u,isNewUser:v,account:a}}if(b.email?await o(b.email):null)throw new b5("Another account already exists with the same e-mail address",{provider:j.provider});u=await k({...b}),await g.createUser?.({user:u}),await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),t=w?{}:await q({sessionToken:i(),userId:u.id,expires:fn(d.session.maxAge)});let a={...j,userId:u.id};return{session:t,user:u,isNewUser:!0,account:a}}}let x=await n({providerAccountId:j.providerAccountId,provider:j.provider});if(x){if(u){if(x.id===u.id)return{session:t,user:u,isNewUser:v};throw new bQ("The account is already associated with another user",{provider:j.provider})}return{session:t=w?{}:await q({sessionToken:i(),userId:x.id,expires:fn(d.session.maxAge)}),user:x,isNewUser:v}}{let{provider:a}=d,{type:c,provider:e,providerAccountId:f,userId:h,...l}=j;if(j=Object.assign(a.account(l)??{},{providerAccountId:f,provider:e,type:c,userId:h}),u)return await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),{session:t,user:u,isNewUser:v};let m=b.email?await o(b.email):null;if(m){let a=d.provider;if(a?.allowDangerousEmailAccountLinking)u=m,v=!1;else throw new bQ("Another account already exists with the same e-mail address",{provider:j.provider})}else u=await k({...b,emailVerified:null}),v=!0;return await g.createUser?.({user:u}),await p({...j,userId:u.id}),await g.linkAccount?.({user:u,account:j,profile:b}),{session:t=w?{}:await q({sessionToken:i(),userId:u.id,expires:fn(d.session.maxAge)}),user:u,isNewUser:v}}}function fp(a,b){if(null==a)return!1;try{return a instanceof b||Object.getPrototypeOf(a)[Symbol.toStringTag]===b.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(f="oauth4webapi/v3.8.1");let fq="ERR_INVALID_ARG_VALUE",fr="ERR_INVALID_ARG_TYPE";function fs(a,b,c){let d=TypeError(a,{cause:c});return Object.assign(d,{code:b}),d}let ft=Symbol(),fu=Symbol(),fv=Symbol(),fw=Symbol(),fx=Symbol(),fy=Symbol();Symbol();let fz=new TextEncoder,fA=new TextDecoder;function fB(a){return"string"==typeof a?fz.encode(a):fA.decode(a)}function fC(a){return"string"==typeof a?h(a):g(a)}g=Uint8Array.prototype.toBase64?a=>(a instanceof ArrayBuffer&&(a=new Uint8Array(a)),a.toBase64({alphabet:"base64url",omitPadding:!0})):a=>{a instanceof ArrayBuffer&&(a=new Uint8Array(a));let b=[];for(let c=0;c<a.byteLength;c+=32768)b.push(String.fromCharCode.apply(null,a.subarray(c,c+32768)));return btoa(b.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},h=Uint8Array.fromBase64?a=>{try{return Uint8Array.fromBase64(a,{alphabet:"base64url"})}catch(a){throw fs("The input to be decoded is not correctly encoded.",fq,a)}}:a=>{try{let b=atob(a.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b.charCodeAt(a);return c}catch(a){throw fs("The input to be decoded is not correctly encoded.",fq,a)}};class fD extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gE,Error.captureStackTrace?.(this,this.constructor)}}class fE extends Error{code;constructor(a,b){super(a,b),this.name=this.constructor.name,b?.code&&(this.code=b?.code),Error.captureStackTrace?.(this,this.constructor)}}function fF(a,b,c){return new fE(a,{code:b,cause:c})}function fG(a){return!(null===a||"object"!=typeof a||Array.isArray(a))}function fH(a){fp(a,Headers)&&(a=Object.fromEntries(a.entries()));let b=new Headers(a??{});if(f&&!b.has("user-agent")&&b.set("user-agent",f),b.has("authorization"))throw fs('"options.headers" must not include the "authorization" header name',fq);return b}function fI(a,b){if(void 0!==b){if("function"==typeof b&&(b=b(a.href)),!(b instanceof AbortSignal))throw fs('"options.signal" must return or be an instance of AbortSignal',fr);return b}}function fJ(a){return a.includes("//")?a.replace("//","/"):a}async function fK(a,b,c,d){if(!(a instanceof URL))throw fs(`"${b}" must be an instance of URL`,fr);f$(a,d?.[ft]!==!0);let e=c(new URL(a.href)),f=fH(d?.headers);return f.set("accept","application/json"),(d?.[fw]||fetch)(e.href,{body:void 0,headers:Object.fromEntries(f.entries()),method:"GET",redirect:"manual",signal:fI(e,d?.signal)})}async function fL(a,b){return fK(a,"issuerIdentifier",a=>{switch(b?.algorithm){case void 0:case"oidc":a.pathname=fJ(`${a.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(a,b,c=!1){"/"===a.pathname?a.pathname=b:a.pathname=fJ(`${b}/${c?a.pathname:a.pathname.replace(/(\/)$/,"")}`)}(a,".well-known/oauth-authorization-server");break;default:throw fs('"options.algorithm" must be "oidc" (default), or "oauth2"',fq)}return a},b)}function fM(a,b,c,d,e){try{if("number"!=typeof a||!Number.isFinite(a))throw fs(`${c} must be a number`,fr,e);if(a>0)return;if(b){if(0!==a)throw fs(`${c} must be a non-negative number`,fq,e);return}throw fs(`${c} must be a positive number`,fq,e)}catch(a){if(d)throw fF(a.message,d,e);throw a}}function fN(a,b,c,d){try{if("string"!=typeof a)throw fs(`${b} must be a string`,fr,d);if(0===a.length)throw fs(`${b} must not be empty`,fq,d)}catch(a){if(c)throw fF(a.message,c,d);throw a}}async function fO(a,b){if(!(a instanceof URL)&&a!==g$)throw fs('"expectedIssuerIdentifier" must be an instance of URL',fr);if(!fp(b,Response))throw fs('"response" must be an instance of Response',fr);if(200!==b.status)throw fF('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',gK,b);gS(b);let c=await gZ(b);if(fN(c.issuer,'"response" body "issuer" property',gI,{body:c}),a!==g$&&new URL(c.issuer).href!==a.href)throw fF('"response" body "issuer" property does not match the expected value',gP,{expected:a.href,body:c,attribute:"issuer"});return c}function fP(a){var b=a,c="application/json";if(gf(b)!==c)throw function(a,...b){let c='"response" content-type must be ';if(b.length>2){let a=b.pop();c+=`${b.join(", ")}, or ${a}`}else 2===b.length?c+=`${b[0]} or ${b[1]}`:c+=b[0];return fF(c,gJ,a)}(b,c)}function fQ(){return fC(crypto.getRandomValues(new Uint8Array(32)))}async function fR(a){return fN(a,"codeVerifier"),fC(await crypto.subtle.digest("SHA-256",fB(a)))}function fS(a){let b=a?.[fu];return"number"==typeof b&&Number.isFinite(b)?b:0}function fT(a){let b=a?.[fv];return"number"==typeof b&&Number.isFinite(b)&&-1!==Math.sign(b)?b:30}function fU(){return Math.floor(Date.now()/1e3)}function fV(a){if("object"!=typeof a||null===a)throw fs('"as" must be an object',fr);fN(a.issuer,'"as.issuer"')}function fW(a){if("object"!=typeof a||null===a)throw fs('"client" must be an object',fr);fN(a.client_id,'"client.client_id"')}function fX(a,b){let c=fU()+fS(b);return{jti:fQ(),aud:a.issuer,exp:c+60,iat:c,nbf:c,iss:b.client_id,sub:b.client_id}}async function fY(a,b,c){if(!c.usages.includes("sign"))throw fs('CryptoKey instances used for signing assertions must include "sign" in their "usages"',fq);let d=`${fC(fB(JSON.stringify(a)))}.${fC(fB(JSON.stringify(b)))}`,e=fC(await crypto.subtle.sign(function(a){switch(a.algorithm.name){case"ECDSA":return{name:a.algorithm.name,hash:function(a){let{algorithm:b}=a;switch(b.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new fD("unsupported ECDSA namedCurve",{cause:a})}}(a)};case"RSA-PSS":switch(gT(a),a.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:a.algorithm.name,saltLength:parseInt(a.algorithm.hash.name.slice(-3),10)>>3};default:throw new fD("unsupported RSA-PSS hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":return gT(a),a.algorithm.name;case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":case"Ed25519":return a.algorithm.name}throw new fD("unsupported CryptoKey algorithm name",{cause:a})}(c),c,fB(d)));return`${d}.${e}`}let fZ=URL.parse?(a,b)=>URL.parse(a,b):(a,b)=>{try{return new URL(a,b)}catch{return null}};function f$(a,b){if(b&&"https:"!==a.protocol)throw fF("only requests to HTTPS are allowed",gL,a);if("https:"!==a.protocol&&"http:"!==a.protocol)throw fF("only HTTP and HTTPS requests are allowed",gM,a)}function f_(a,b,c,d){let e;if("string"!=typeof a||!(e=fZ(a)))throw fF(`authorization server metadata does not contain a valid ${c?`"as.mtls_endpoint_aliases.${b}"`:`"as.${b}"`}`,void 0===a?gQ:gR,{attribute:c?`mtls_endpoint_aliases.${b}`:b});return f$(e,d),e}function f0(a,b,c,d){return c&&a.mtls_endpoint_aliases&&b in a.mtls_endpoint_aliases?f_(a.mtls_endpoint_aliases[b],b,c,d):f_(a[b],b,c,d)}class f1 extends Error{cause;code;error;status;error_description;response;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gD,this.cause=b.cause,this.error=b.cause.error,this.status=b.response.status,this.error_description=b.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:b.response}),Error.captureStackTrace?.(this,this.constructor)}}class f2 extends Error{cause;code;error;error_description;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gF,this.cause=b.cause,this.error=b.cause.get("error"),this.error_description=b.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class f3 extends Error{cause;code;response;status;constructor(a,b){super(a,b),this.name=this.constructor.name,this.code=gC,this.cause=b.cause,this.status=b.response.status,this.response=b.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let f4="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",f5=RegExp("^[,\\s]*("+f4+")\\s(.*)"),f6=RegExp("^[,\\s]*("+f4+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),f7=RegExp("^[,\\s]*"+("("+f4+")\\s*=\\s*(")+f4+")[,\\s]*(.*)"),f8=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)");async function f9(a){if(a.status>399&&a.status<500){gS(a),fP(a);try{let b=await a.clone().json();if(fG(b)&&"string"==typeof b.error&&b.error.length)return b}catch{}}}async function ga(a,b,c){if(a.status!==b){let b;if(gn(a),b=await f9(a))throw await a.body?.cancel(),new f1("server responded with an error in the response body",{cause:b,response:a});throw fF(`"response" is not a conform ${c} response (unexpected HTTP status code)`,gK,a)}}function gb(a){if(!gs.has(a))throw fs('"options.DPoP" is not a valid DPoPHandle',fq)}async function gc(a,b,c,d,e,f){if(fN(a,'"accessToken"'),!(c instanceof URL))throw fs('"url" must be an instance of URL',fr);f$(c,f?.[ft]!==!0),d=fH(d),f?.DPoP&&(gb(f.DPoP),await f.DPoP.addProof(c,d,b.toUpperCase(),a)),d.set("authorization",`${d.has("dpop")?"DPoP":"Bearer"} ${a}`);let g=await (f?.[fw]||fetch)(c.href,{body:e,headers:Object.fromEntries(d.entries()),method:b,redirect:"manual",signal:fI(c,f?.signal)});return f?.DPoP?.cacheNonce(g),g}async function gd(a,b,c,d){fV(a),fW(b);let e=f0(a,"userinfo_endpoint",b.use_mtls_endpoint_aliases,d?.[ft]!==!0),f=fH(d?.headers);return b.userinfo_signed_response_alg?f.set("accept","application/jwt"):(f.set("accept","application/json"),f.append("accept","application/jwt")),gc(c,"GET",e,f,null,{...d,[fu]:fS(b)})}let ge=Symbol();function gf(a){return a.headers.get("content-type")?.split(";")[0]}async function gg(a,b,c,d,e){let f;if(fV(a),fW(b),!fp(d,Response))throw fs('"response" must be an instance of Response',fr);if(gn(d),200!==d.status)throw fF('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',gK,d);if(gS(d),"application/jwt"===gf(d)){let{claims:c,jwt:g}=await gU(await d.text(),gV.bind(void 0,b.userinfo_signed_response_alg,a.userinfo_signing_alg_values_supported,void 0),fS(b),fT(b),e?.[fy]).then(go.bind(void 0,b.client_id)).then(gq.bind(void 0,a));gk.set(d,g),f=c}else{if(b.userinfo_signed_response_alg)throw fF("JWT UserInfo Response expected",gG,d);f=await gZ(d)}if(fN(f.sub,'"response" body "sub" property',gI,{body:f}),c===ge);else if(fN(c,'"expectedSubject"'),f.sub!==c)throw fF('unexpected "response" body "sub" property value',gP,{expected:c,body:f,attribute:"sub"});return f}async function gh(a,b,c,d,e,f,g){return await c(a,b,e,f),f.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(g?.[fw]||fetch)(d.href,{body:e,headers:Object.fromEntries(f.entries()),method:"POST",redirect:"manual",signal:fI(d,g?.signal)})}async function gi(a,b,c,d,e,f){let g=f0(a,"token_endpoint",b.use_mtls_endpoint_aliases,f?.[ft]!==!0);e.set("grant_type",d);let h=fH(f?.headers);h.set("accept","application/json"),f?.DPoP!==void 0&&(gb(f.DPoP),await f.DPoP.addProof(g,h,"POST"));let i=await gh(a,b,c,g,e,h,f);return f?.DPoP?.cacheNonce(i),i}let gj=new WeakMap,gk=new WeakMap;function gl(a){if(!a.id_token)return;let b=gj.get(a);if(!b)throw fs('"ref" was already garbage collected or did not resolve from the proper sources',fq);return b}async function gm(a,b,c,d,e,f){if(fV(a),fW(b),!fp(c,Response))throw fs('"response" must be an instance of Response',fr);await ga(c,200,"Token Endpoint"),gS(c);let g=await gZ(c);if(fN(g.access_token,'"response" body "access_token" property',gI,{body:g}),fN(g.token_type,'"response" body "token_type" property',gI,{body:g}),g.token_type=g.token_type.toLowerCase(),void 0!==g.expires_in){let a="number"!=typeof g.expires_in?parseFloat(g.expires_in):g.expires_in;fM(a,!0,'"response" body "expires_in" property',gI,{body:g}),g.expires_in=a}if(void 0!==g.refresh_token&&fN(g.refresh_token,'"response" body "refresh_token" property',gI,{body:g}),void 0!==g.scope&&"string"!=typeof g.scope)throw fF('"response" body "scope" property must be a string',gI,{body:g});if(void 0!==g.id_token){fN(g.id_token,'"response" body "id_token" property',gI,{body:g});let f=["aud","exp","iat","iss","sub"];!0===b.require_auth_time&&f.push("auth_time"),void 0!==b.default_max_age&&(fM(b.default_max_age,!0,'"client.default_max_age"'),f.push("auth_time")),d?.length&&f.push(...d);let{claims:h,jwt:i}=await gU(g.id_token,gV.bind(void 0,b.id_token_signed_response_alg,a.id_token_signing_alg_values_supported,"RS256"),fS(b),fT(b),e).then(gw.bind(void 0,f)).then(gr.bind(void 0,a)).then(gp.bind(void 0,b.client_id));if(Array.isArray(h.aud)&&1!==h.aud.length){if(void 0===h.azp)throw fF('ID Token "aud" (audience) claim includes additional untrusted audiences',gO,{claims:h,claim:"aud"});if(h.azp!==b.client_id)throw fF('unexpected ID Token "azp" (authorized party) claim value',gO,{expected:b.client_id,claims:h,claim:"azp"})}void 0!==h.auth_time&&fM(h.auth_time,!0,'ID Token "auth_time" (authentication time)',gI,{claims:h}),gk.set(c,i),gj.set(g,h)}if(f?.[g.token_type]!==void 0)f[g.token_type](c,g);else if("dpop"!==g.token_type&&"bearer"!==g.token_type)throw new fD("unsupported `token_type` value",{cause:{body:g}});return g}function gn(a){let b;if(b=function(a){if(!fp(a,Response))throw fs('"response" must be an instance of Response',fr);let b=a.headers.get("www-authenticate");if(null===b)return;let c=[],d=b;for(;d;){let a,b=d.match(f5),e=b?.["1"].toLowerCase();if(d=b?.["2"],!e)return;let f={};for(;d;){let c,e;if(b=d.match(f6)){if([,c,e,d]=b,e.includes("\\"))try{e=JSON.parse(`"${e}"`)}catch{}f[c.toLowerCase()]=e;continue}if(b=d.match(f7)){[,c,e,d]=b,f[c.toLowerCase()]=e;continue}if(b=d.match(f8)){if(Object.keys(f).length)break;[,a,d]=b;break}return}let g={scheme:e,parameters:f};a&&(g.token68=a),c.push(g)}if(c.length)return c}(a))throw new f3("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:b,response:a})}function go(a,b){return void 0!==b.claims.aud?gp(a,b):b}function gp(a,b){if(Array.isArray(b.claims.aud)){if(!b.claims.aud.includes(a))throw fF('unexpected JWT "aud" (audience) claim value',gO,{expected:a,claims:b.claims,claim:"aud"})}else if(b.claims.aud!==a)throw fF('unexpected JWT "aud" (audience) claim value',gO,{expected:a,claims:b.claims,claim:"aud"});return b}function gq(a,b){return void 0!==b.claims.iss?gr(a,b):b}function gr(a,b){let c=a[g_]?.(b)??a.issuer;if(b.claims.iss!==c)throw fF('unexpected JWT "iss" (issuer) claim value',gO,{expected:c,claims:b.claims,claim:"iss"});return b}let gs=new WeakSet,gt=Symbol();async function gu(a,b,c,d,e,f,g){if(fV(a),fW(b),!gs.has(d))throw fs('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',fq);fN(e,'"redirectUri"');let h=gW(d,"code");if(!h)throw fF('no authorization code in "callbackParameters"',gI);let i=new URLSearchParams(g?.additionalParameters);return i.set("redirect_uri",e),i.set("code",h),f!==gt&&(fN(f,'"codeVerifier"'),i.set("code_verifier",f)),gi(a,b,c,"authorization_code",i,g)}let gv={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function gw(a,b){for(let c of a)if(void 0===b.claims[c])throw fF(`JWT "${c}" (${gv[c]}) claim missing`,gI,{claims:b.claims});return b}let gx=Symbol(),gy=Symbol();async function gz(a,b,c,d){return"string"==typeof d?.expectedNonce||"number"==typeof d?.maxAge||d?.requireIdToken?gA(a,b,c,d.expectedNonce,d.maxAge,d[fy],d.recognizedTokenTypes):gB(a,b,c,d?.[fy],d?.recognizedTokenTypes)}async function gA(a,b,c,d,e,f,g){let h=[];switch(d){case void 0:d=gx;break;case gx:break;default:fN(d,'"expectedNonce" argument'),h.push("nonce")}switch(e??=b.default_max_age){case void 0:e=gy;break;case gy:break;default:fM(e,!0,'"maxAge" argument'),h.push("auth_time")}let i=await gm(a,b,c,h,f,g);fN(i.id_token,'"response" body "id_token" property',gI,{body:i});let j=gl(i);if(e!==gy){let a=fU()+fS(b),c=fT(b);if(j.auth_time+e<a-c)throw fF("too much time has elapsed since the last End-User authentication",gN,{claims:j,now:a,tolerance:c,claim:"auth_time"})}if(d===gx){if(void 0!==j.nonce)throw fF('unexpected ID Token "nonce" claim value',gO,{expected:void 0,claims:j,claim:"nonce"})}else if(j.nonce!==d)throw fF('unexpected ID Token "nonce" claim value',gO,{expected:d,claims:j,claim:"nonce"});return i}async function gB(a,b,c,d,e){let f=await gm(a,b,c,void 0,d,e),g=gl(f);if(g){if(void 0!==b.default_max_age){fM(b.default_max_age,!0,'"client.default_max_age"');let a=fU()+fS(b),c=fT(b);if(g.auth_time+b.default_max_age<a-c)throw fF("too much time has elapsed since the last End-User authentication",gN,{claims:g,now:a,tolerance:c,claim:"auth_time"})}if(void 0!==g.nonce)throw fF('unexpected ID Token "nonce" claim value',gO,{expected:void 0,claims:g,claim:"nonce"})}return f}let gC="OAUTH_WWW_AUTHENTICATE_CHALLENGE",gD="OAUTH_RESPONSE_BODY_ERROR",gE="OAUTH_UNSUPPORTED_OPERATION",gF="OAUTH_AUTHORIZATION_RESPONSE_ERROR",gG="OAUTH_JWT_USERINFO_EXPECTED",gH="OAUTH_PARSE_ERROR",gI="OAUTH_INVALID_RESPONSE",gJ="OAUTH_RESPONSE_IS_NOT_JSON",gK="OAUTH_RESPONSE_IS_NOT_CONFORM",gL="OAUTH_HTTP_REQUEST_FORBIDDEN",gM="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",gN="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",gO="OAUTH_JWT_CLAIM_COMPARISON_FAILED",gP="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",gQ="OAUTH_MISSING_SERVER_METADATA",gR="OAUTH_INVALID_SERVER_METADATA";function gS(a){if(a.bodyUsed)throw fs('"response" body has been used already',fq)}function gT(a){let{algorithm:b}=a;if("number"!=typeof b.modulusLength||b.modulusLength<2048)throw new fD(`unsupported ${b.name} modulusLength`,{cause:a})}async function gU(a,b,c,d,e){let f,g,{0:h,1:i,length:j}=a.split(".");if(5===j)if(void 0!==e)a=await e(a),{0:h,1:i,length:j}=a.split(".");else throw new fD("JWE decryption is not configured",{cause:a});if(3!==j)throw fF("Invalid JWT",gI,a);try{f=JSON.parse(fB(fC(h)))}catch(a){throw fF("failed to parse JWT Header body as base64url encoded JSON",gH,a)}if(!fG(f))throw fF("JWT Header must be a top level object",gI,a);if(b(f),void 0!==f.crit)throw new fD('no JWT "crit" header parameter extensions are supported',{cause:{header:f}});try{g=JSON.parse(fB(fC(i)))}catch(a){throw fF("failed to parse JWT Payload body as base64url encoded JSON",gH,a)}if(!fG(g))throw fF("JWT Payload must be a top level object",gI,a);let k=fU()+c;if(void 0!==g.exp){if("number"!=typeof g.exp)throw fF('unexpected JWT "exp" (expiration time) claim type',gI,{claims:g});if(g.exp<=k-d)throw fF('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',gN,{claims:g,now:k,tolerance:d,claim:"exp"})}if(void 0!==g.iat&&"number"!=typeof g.iat)throw fF('unexpected JWT "iat" (issued at) claim type',gI,{claims:g});if(void 0!==g.iss&&"string"!=typeof g.iss)throw fF('unexpected JWT "iss" (issuer) claim type',gI,{claims:g});if(void 0!==g.nbf){if("number"!=typeof g.nbf)throw fF('unexpected JWT "nbf" (not before) claim type',gI,{claims:g});if(g.nbf>k+d)throw fF('unexpected JWT "nbf" (not before) claim value',gN,{claims:g,now:k,tolerance:d,claim:"nbf"})}if(void 0!==g.aud&&"string"!=typeof g.aud&&!Array.isArray(g.aud))throw fF('unexpected JWT "aud" (audience) claim type',gI,{claims:g});return{header:f,claims:g,jwt:a}}function gV(a,b,c,d){if(void 0!==a){if("string"==typeof a?d.alg!==a:!a.includes(d.alg))throw fF('unexpected JWT "alg" header parameter',gI,{header:d,expected:a,reason:"client configuration"});return}if(Array.isArray(b)){if(!b.includes(d.alg))throw fF('unexpected JWT "alg" header parameter',gI,{header:d,expected:b,reason:"authorization server metadata"});return}if(void 0!==c){if("string"==typeof c?d.alg!==c:"function"==typeof c?!c(d.alg):!c.includes(d.alg))throw fF('unexpected JWT "alg" header parameter',gI,{header:d,expected:c,reason:"default value"});return}throw fF('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:a,issuer:b,fallback:c})}function gW(a,b){let{0:c,length:d}=a.getAll(b);if(d>1)throw fF(`"${b}" parameter must be provided only once`,gI);return c}let gX=Symbol(),gY=Symbol();async function gZ(a,b=fP){let c;try{c=await a.json()}catch(c){throw b(a),fF('failed to parse "response" body as JSON',gH,c)}if(!fG(c))throw fF('"response" body must be a top level object',gI,{body:c});return c}let g$=Symbol(),g_=Symbol();async function g0(a,b,c){let{cookies:d,logger:e}=c,f=d[a],g=new Date;g.setTime(g.getTime()+9e5),e.debug(`CREATE_${a.toUpperCase()}`,{name:f.name,payload:b,COOKIE_TTL:900,expires:g});let h=await dV({...c.jwt,maxAge:900,token:{value:b},salt:f.name}),i={...f.options,expires:g};return{name:f.name,value:h,options:i}}async function g1(a,b,c){try{let{logger:d,cookies:e,jwt:f}=c;if(d.debug(`PARSE_${a.toUpperCase()}`,{cookie:b}),!b)throw new bK(`${a} cookie was missing`);let g=await dW({...f,token:b,salt:e[a].name});if(g?.value)return g.value;throw Error("Invalid cookie")}catch(b){throw new bK(`${a} value could not be parsed`,{cause:b})}}function g2(a,b,c){let{logger:d,cookies:e}=b,f=e[a];d.debug(`CLEAR_${a.toUpperCase()}`,{cookie:f}),c.push({name:f.name,value:"",options:{...e[a].options,maxAge:0}})}function g3(a,b){return async function(c,d,e){let{provider:f,logger:g}=e;if(!f?.checks?.includes(a))return;let h=c?.[e.cookies[b].name];g.debug(`USE_${b.toUpperCase()}`,{value:h});let i=await g1(b,h,e);return g2(b,e,d),i}}let g4={async create(a){let b=fQ(),c=await fR(b);return{cookie:await g0("pkceCodeVerifier",b,a),value:c}},use:g3("pkce","pkceCodeVerifier")},g5="encodedState",g6={async create(a,b){let{provider:c}=a;if(!c.checks.includes("state")){if(b)throw new bK("State data was provided but the provider is not configured to use state");return}let d={origin:b,random:fQ()},e=await dV({secret:a.jwt.secret,token:d,salt:g5,maxAge:900});return{cookie:await g0("state",e,a),value:e}},use:g3("state","state"),async decode(a,b){try{b.logger.debug("DECODE_STATE",{state:a});let c=await dW({secret:b.jwt.secret,token:a,salt:g5});if(c)return c;throw Error("Invalid state")}catch(a){throw new bK("State could not be decoded",{cause:a})}}},g7={async create(a){if(!a.provider.checks.includes("nonce"))return;let b=fQ();return{cookie:await g0("nonce",b,a),value:b}},use:g3("nonce","nonce")},g8="encodedWebauthnChallenge",g9={create:async(a,b,c)=>({cookie:await g0("webauthnChallenge",await dV({secret:a.jwt.secret,token:{challenge:b,registerData:c},salt:g8,maxAge:900}),a)}),async use(a,b,c){let d=b?.[a.cookies.webauthnChallenge.name],e=await g1("webauthnChallenge",d,a),f=await dW({secret:a.jwt.secret,token:e,salt:g8});if(g2("webauthnChallenge",a,c),!f)throw new bK("WebAuthn challenge was missing");return f}};function ha(a){return encodeURIComponent(a).replace(/%20/g,"+")}async function hb(a,b,c){let d,e,f,{logger:g,provider:h}=c,{token:i,userinfo:j}=h;if(i?.url&&"authjs.dev"!==i.url.host||j?.url&&"authjs.dev"!==j.url.host)d={issuer:h.issuer??"https://authjs.dev",token_endpoint:i?.url.toString(),userinfo_endpoint:j?.url.toString()};else{let a=new URL(h.issuer),b=await fL(a,{[ft]:!0,[fw]:h[ef]});if(!(d=await fO(a,b)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!d.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let k={client_id:h.clientId,...h.client};switch(k.token_endpoint_auth_method){case void 0:case"client_secret_basic":e=(a,b,c,d)=>{d.set("authorization",function(a,b){let c=ha(a),d=ha(b),e=btoa(`${c}:${d}`);return`Basic ${e}`}(h.clientId,h.clientSecret))};break;case"client_secret_post":var l;fN(l=h.clientSecret,'"clientSecret"'),e=(a,b,c,d)=>{c.set("client_id",b.client_id),c.set("client_secret",l)};break;case"client_secret_jwt":e=function(a,b){let c;fN(a,'"clientSecret"');let d=void 0;return async(b,e,f,g)=>{c||=await crypto.subtle.importKey("raw",fB(a),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let h={alg:"HS256"},i=fX(b,e);d?.(h,i);let j=`${fC(fB(JSON.stringify(h)))}.${fC(fB(JSON.stringify(i)))}`,k=await crypto.subtle.sign(c.algorithm,c,fB(j));f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",`${j}.${fC(new Uint8Array(k))}`)}}(h.clientSecret);break;case"private_key_jwt":e=function(a,b){let{key:c,kid:d}=a instanceof CryptoKey?{key:a}:a?.key instanceof CryptoKey?(void 0!==a.kid&&fN(a.kid,'"kid"'),{key:a.key,kid:a.kid}):{};var e='"clientPrivateKey.key"';if(!(c instanceof CryptoKey))throw fs(`${e} must be a CryptoKey`,fr);if("private"!==c.type)throw fs(`${e} must be a private CryptoKey`,fq);return async(a,e,f,g)=>{let h={alg:function(a){switch(a.algorithm.name){case"RSA-PSS":switch(a.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new fD("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"RSASSA-PKCS1-v1_5":switch(a.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new fD("unsupported RsaHashedKeyAlgorithm hash name",{cause:a})}case"ECDSA":switch(a.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new fD("unsupported EcKeyAlgorithm namedCurve",{cause:a})}case"Ed25519":case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":return a.algorithm.name;case"EdDSA":return"Ed25519";default:throw new fD("unsupported CryptoKey algorithm name",{cause:a})}}(c),kid:d},i=fX(a,e);b?.[fx]?.(h,i),f.set("client_id",e.client_id),f.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),f.set("client_assertion",await fY(h,i,c))}}(h.token.clientPrivateKey,{[fx](a,b){b.aud=[d.issuer,d.token_endpoint]}});break;case"none":e=(a,b,c,d)=>{c.set("client_id",b.client_id)};break;default:throw Error("unsupported client authentication method")}let m=[],n=await g6.use(b,m,c);try{f=function(a,b,c,d){var e;if(fV(a),fW(b),c instanceof URL&&(c=c.searchParams),!(c instanceof URLSearchParams))throw fs('"parameters" must be an instance of URLSearchParams, or URL',fr);if(gW(c,"response"))throw fF('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',gI,{parameters:c});let f=gW(c,"iss"),g=gW(c,"state");if(!f&&a.authorization_response_iss_parameter_supported)throw fF('response parameter "iss" (issuer) missing',gI,{parameters:c});if(f&&f!==a.issuer)throw fF('unexpected "iss" (issuer) response parameter value',gI,{expected:a.issuer,parameters:c});switch(d){case void 0:case gY:if(void 0!==g)throw fF('unexpected "state" response parameter encountered',gI,{expected:void 0,parameters:c});break;case gX:break;default:if(fN(d,'"expectedState" argument'),g!==d)throw fF(void 0===g?'response parameter "state" missing':'unexpected "state" response parameter value',gI,{expected:d,parameters:c})}if(gW(c,"error"))throw new f2("authorization response from the server is an error",{cause:c});let h=gW(c,"id_token"),i=gW(c,"token");if(void 0!==h||void 0!==i)throw new fD("implicit and hybrid flows are not supported");return e=new URLSearchParams(c),gs.add(e),e}(d,k,new URLSearchParams(a),h.checks.includes("state")?n:gX)}catch(a){if(a instanceof f2){let b={providerId:h.id,...Object.fromEntries(a.cause.entries())};throw g.debug("OAuthCallbackError",b),new bR("OAuth Provider returned an error",b)}throw a}let o=await g4.use(b,m,c),p=h.callbackUrl;!c.isOnRedirectProxy&&h.redirectProxyUrl&&(p=h.redirectProxyUrl);let q=await gu(d,k,e,f,p,o??"decoy",{[ft]:!0,[fw]:(...a)=>(h.checks.includes("pkce")||a[1].body.delete("code_verifier"),(h[ef]??fetch)(...a))});h.token?.conform&&(q=await h.token.conform(q.clone())??q);let r={},s="oidc"===h.type;if(h[eg])switch(h.id){case"microsoft-entra-id":case"azure-ad":{let a=await q.clone().json();if(a.error){let b={providerId:h.id,...a};throw new bR(`OAuth Provider returned an error: ${a.error}`,b)}let{tid:b}=function(a){let b,c;if("string"!=typeof a)throw new cy("JWTs must use Compact JWS serialization, JWT must be a string");let{1:d,length:e}=a.split(".");if(5===e)throw new cy("Only JWTs using Compact JWS serialization can be decoded");if(3!==e)throw new cy("Invalid JWT");if(!d)throw new cy("JWTs must contain a payload");try{b=cp(d)}catch{throw new cy("Failed to base64url decode the payload")}try{c=JSON.parse(ck.decode(b))}catch{throw new cy("Failed to parse the decoded payload as JSON")}if(!cF(c))throw new cy("Invalid JWT Claims Set");return c}(a.id_token);if("string"==typeof b){let a=d.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",c=new URL(d.issuer.replace(a,b)),e=await fL(c,{[fw]:h[ef]});d=await fO(c,e)}}}let t=await gz(d,k,q,{expectedNonce:await g7.use(b,m,c),requireIdToken:s});if(s){let b=gl(t);if(r=b,h[eg]&&"apple"===h.id)try{r.user=JSON.parse(a?.user)}catch{}if(!1===h.idToken){let a=await gd(d,k,t.access_token,{[fw]:h[ef],[ft]:!0});r=await gg(d,k,b.sub,a)}}else if(j?.request){let a=await j.request({tokens:t,provider:h});a instanceof Object&&(r=a)}else if(j?.url){let a=await gd(d,k,t.access_token,{[fw]:h[ef],[ft]:!0});r=await a.json()}else throw TypeError("No userinfo endpoint configured");return t.expires_in&&(t.expires_at=Math.floor(Date.now()/1e3)+Number(t.expires_in)),{...await hc(r,h,t,g),profile:r,cookies:m}}async function hc(a,b,c,d){try{let d=await b.profile(a,c);return{user:{...d,id:crypto.randomUUID(),email:d.email?.toLowerCase()},account:{...c,provider:b.id,type:b.type,providerAccountId:d.id??crypto.randomUUID()}}}catch(c){d.debug("getProfile error details",a),d.error(new bS(c,{provider:b.id}))}}var hd=c(356).Buffer;async function he(a,b,c,d){let e=await hj(a,b,c),{cookie:f}=await g9.create(a,e.challenge,c);return{status:200,cookies:[...d??[],f],body:{action:"register",options:e},headers:{"Content-Type":"application/json"}}}async function hf(a,b,c,d){let e=await hi(a,b,c),{cookie:f}=await g9.create(a,e.challenge);return{status:200,cookies:[...d??[],f],body:{action:"authenticate",options:e},headers:{"Content-Type":"application/json"}}}async function hg(a,b,c){let d,{adapter:e,provider:f}=a,g=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!g||"object"!=typeof g||!("id"in g)||"string"!=typeof g.id)throw new bA("Invalid WebAuthn Authentication response");let h=hm(hl(g.id)),i=await e.getAuthenticator(h);if(!i)throw new bA(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:h})}`);let{challenge:j}=await g9.use(a,b.cookies,c);try{var k;let c=f.getRelayingParty(a,b);d=await f.simpleWebAuthn.verifyAuthenticationResponse({...f.verifyAuthenticationOptions,expectedChallenge:j,response:g,authenticator:{...k=i,credentialDeviceType:k.credentialDeviceType,transports:hn(k.transports),credentialID:hl(k.credentialID),credentialPublicKey:hl(k.credentialPublicKey)},expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new b4(a)}let{verified:l,authenticationInfo:m}=d;if(!l)throw new b4("WebAuthn authentication response could not be verified");try{let{newCounter:a}=m;await e.updateAuthenticatorCounter(i.credentialID,a)}catch(a){throw new bC(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:h,oldCounter:i.counter,newCounter:m.newCounter})}`,a)}let n=await e.getAccount(i.providerAccountId,f.id);if(!n)throw new bA(`WebAuthn account not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId})}`);let o=await e.getUser(n.userId);if(!o)throw new bA(`WebAuthn user not found in database: ${JSON.stringify({credentialID:h,providerAccountId:i.providerAccountId,userID:n.userId})}`);return{account:n,user:o}}async function hh(a,b,c){var d;let e,{provider:f}=a,g=b.body&&"string"==typeof b.body.data?JSON.parse(b.body.data):void 0;if(!g||"object"!=typeof g||!("id"in g)||"string"!=typeof g.id)throw new bA("Invalid WebAuthn Registration response");let{challenge:h,registerData:i}=await g9.use(a,b.cookies,c);if(!i)throw new bA("Missing user registration data in WebAuthn challenge cookie");try{let c=f.getRelayingParty(a,b);e=await f.simpleWebAuthn.verifyRegistrationResponse({...f.verifyRegistrationOptions,expectedChallenge:h,response:g,expectedOrigin:c.origin,expectedRPID:c.id})}catch(a){throw new b4(a)}if(!e.verified||!e.registrationInfo)throw new b4("WebAuthn registration response could not be verified");let j={providerAccountId:hm(e.registrationInfo.credentialID),provider:a.provider.id,type:f.type},k={providerAccountId:j.providerAccountId,counter:e.registrationInfo.counter,credentialID:hm(e.registrationInfo.credentialID),credentialPublicKey:hm(e.registrationInfo.credentialPublicKey),credentialBackedUp:e.registrationInfo.credentialBackedUp,credentialDeviceType:e.registrationInfo.credentialDeviceType,transports:(d=g.response.transports,d?.join(","))};return{user:i,account:j,authenticator:k}}async function hi(a,b,c){let{provider:d,adapter:e}=a,f=c&&c.id?await e.listAuthenticatorsByUserId(c.id):null,g=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateAuthenticationOptions({...d.authenticationOptions,rpID:g.id,allowCredentials:f?.map(a=>({id:hl(a.credentialID),type:"public-key",transports:hn(a.transports)}))})}async function hj(a,b,c){let{provider:d,adapter:e}=a,f=c.id?await e.listAuthenticatorsByUserId(c.id):null,g=d8(32),h=d.getRelayingParty(a,b);return await d.simpleWebAuthn.generateRegistrationOptions({...d.registrationOptions,userID:g,userName:c.email,userDisplayName:c.name??void 0,rpID:h.id,rpName:h.name,excludeCredentials:f?.map(a=>({id:hl(a.credentialID),type:"public-key",transports:hn(a.transports)}))})}function hk(a){let{provider:b,adapter:c}=a;if(!c)throw new bM("An adapter is required for the WebAuthn provider");if(!b||"webauthn"!==b.type)throw new bZ("Provider must be WebAuthn");return{...a,provider:b,adapter:c}}function hl(a){return new Uint8Array(hd.from(a,"base64"))}function hm(a){return hd.from(a).toString("base64")}function hn(a){return a?a.split(","):void 0}async function ho(a,b,c,d){if(!b.provider)throw new bZ("Callback route called without provider");let{query:e,body:f,method:g,headers:h}=a,{provider:i,adapter:j,url:k,callbackUrl:l,pages:m,jwt:n,events:o,callbacks:p,session:{strategy:q,maxAge:r},logger:s}=b,t="jwt"===q;try{if("oauth"===i.type||"oidc"===i.type){let g,h=i.authorization?.url.searchParams.get("response_mode")==="form_post"?f:e;if(b.isOnRedirectProxy&&h?.state){let a=await g6.decode(h.state,b);if(a?.origin&&new URL(a.origin).origin!==b.url.origin){let b=`${a.origin}?${new URLSearchParams(h)}`;return s.debug("Proxy redirecting to",b),{redirect:b,cookies:d}}}let q=await hb(h,a.cookies,b);q.cookies.length&&d.push(...q.cookies),s.debug("authorization result",q);let{user:u,account:v,profile:w}=q;if(!u||!v||!w)return{redirect:`${k}/signin`,cookies:d};if(j){let{getUserByAccount:a}=j;g=await a({providerAccountId:v.providerAccountId,provider:i.id})}let x=await hp({user:g??u,account:v,profile:w},b);if(x)return{redirect:x,cookies:d};let{user:y,session:z,isNewUser:A}=await fo(c.value,u,v,b);if(t){let a={name:y.name,email:y.email,picture:y.image,sub:y.id?.toString()},e=await p.jwt({token:a,user:y,account:v,profile:w,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:z.sessionToken,options:{...b.cookies.sessionToken.options,expires:z.expires}});if(await o.signIn?.({user:y,account:v,profile:w,isNewUser:A}),A&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}if("email"===i.type){let a=e?.token,f=e?.email;if(!a){let b=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!a}});throw b.name="Configuration",b}let g=i.secret??b.secret,h=await j.useVerificationToken({identifier:f,token:await d7(`${a}${g}`)}),k=!!h,q=k&&h.expires.valueOf()<Date.now();if(!k||q||f&&h.identifier!==f)throw new b_({hasInvite:k,expired:q});let{identifier:s}=h,u=await j.getUserByEmail(s)??{id:crypto.randomUUID(),email:s,emailVerified:null},v={providerAccountId:u.email,userId:u.id,type:"email",provider:i.id},w=await hp({user:u,account:v},b);if(w)return{redirect:w,cookies:d};let{user:x,session:y,isNewUser:z}=await fo(c.value,u,v,b);if(t){let a={name:x.name,email:x.email,picture:x.image,sub:x.id?.toString()},e=await p.jwt({token:a,user:x,account:v,isNewUser:z,trigger:z?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:y.sessionToken,options:{...b.cookies.sessionToken.options,expires:y.expires}});if(await o.signIn?.({user:x,account:v,isNewUser:z}),z&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}if("credentials"===i.type&&"POST"===g){let a=f??{};Object.entries(e??{}).forEach(([a,b])=>k.searchParams.set(a,b));let j=await i.authorize(a,new Request(k,{headers:h,method:g,body:JSON.stringify(f)}));if(j)j.id=j.id?.toString()??crypto.randomUUID();else throw new bI;let m={providerAccountId:j.id,type:"credentials",provider:i.id},q=await hp({user:j,account:m,credentials:a},b);if(q)return{redirect:q,cookies:d};let s={name:j.name,email:j.email,picture:j.image,sub:j.id},t=await p.jwt({token:s,user:j,account:m,isNewUser:!1,trigger:"signIn"});if(null===t)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,e=await n.encode({...n,token:t,salt:a}),f=new Date;f.setTime(f.getTime()+1e3*r);let g=c.chunk(e,{expires:f});d.push(...g)}return await o.signIn?.({user:j,account:m}),{redirect:l,cookies:d}}else if("webauthn"===i.type&&"POST"===g){let e,f,g,h=a.body?.action;if("string"!=typeof h||"authenticate"!==h&&"register"!==h)throw new bA("Invalid action parameter");let i=hk(b);switch(h){case"authenticate":{let b=await hg(i,a,d);e=b.user,f=b.account;break}case"register":{let c=await hh(b,a,d);e=c.user,f=c.account,g=c.authenticator}}await hp({user:e,account:f},b);let{user:j,isNewUser:k,session:q,account:s}=await fo(c.value,e,f,b);if(!s)throw new bA("Error creating or finding account");if(g&&j.id&&await i.adapter.createAuthenticator({...g,userId:j.id}),t){let a={name:j.name,email:j.email,picture:j.image,sub:j.id?.toString()},e=await p.jwt({token:a,user:j,account:s,isNewUser:k,trigger:k?"signUp":"signIn"});if(null===e)d.push(...c.clean());else{let a=b.cookies.sessionToken.name,f=await n.encode({...n,token:e,salt:a}),g=new Date;g.setTime(g.getTime()+1e3*r);let h=c.chunk(f,{expires:g});d.push(...h)}}else d.push({name:b.cookies.sessionToken.name,value:q.sessionToken,options:{...b.cookies.sessionToken.options,expires:q.expires}});if(await o.signIn?.({user:j,account:s,isNewUser:k}),k&&m.newUser)return{redirect:`${m.newUser}${m.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:l})}`,cookies:d};return{redirect:l,cookies:d}}throw new bZ(`Callback for provider type (${i.type}) is not supported`)}catch(b){if(b instanceof bA)throw b;let a=new bE(b,{provider:i.id});throw s.debug("callback route error details",{method:g,query:e,body:f}),a}}async function hp(a,b){let c,{signIn:d,redirect:e}=b.callbacks;try{c=await d(a)}catch(a){if(a instanceof bA)throw a;throw new bD(a)}if(!c)throw new bD("AccessDenied");if("string"==typeof c)return await e({url:c,baseUrl:b.url.origin})}async function hq(a,b,c,d,e){let{adapter:f,jwt:g,events:h,callbacks:i,logger:j,session:{strategy:k,maxAge:l}}=a,m={body:null,headers:{"Content-Type":"application/json",...!d&&{"Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"}},cookies:c},n=b.value;if(!n)return m;if("jwt"===k){try{let c=a.cookies.sessionToken.name,f=await g.decode({...g,token:n,salt:c});if(!f)throw Error("Invalid JWT");let j=await i.jwt({token:f,...d&&{trigger:"update"},session:e}),k=fn(l);if(null!==j){let a={user:{name:j.name,email:j.email,image:j.picture},expires:k.toISOString()},d=await i.session({session:a,token:j});m.body=d;let e=await g.encode({...g,token:j,salt:c}),f=b.chunk(e,{expires:k});m.cookies?.push(...f),await h.session?.({session:d,token:j})}else m.cookies?.push(...b.clean())}catch(a){j.error(new bL(a)),m.cookies?.push(...b.clean())}return m}try{let{getSessionAndUser:c,deleteSession:g,updateSession:j}=f,k=await c(n);if(k&&k.session.expires.valueOf()<Date.now()&&(await g(n),k=null),k){let{user:b,session:c}=k,f=a.session.updateAge,g=c.expires.valueOf()-1e3*l+1e3*f,o=fn(l);g<=Date.now()&&await j({sessionToken:n,expires:o});let p=await i.session({session:{...c,user:b},user:b,newSession:e,...d?{trigger:"update"}:{}});m.body=p,m.cookies?.push({name:a.cookies.sessionToken.name,value:n,options:{...a.cookies.sessionToken.options,expires:o}}),await h.session?.({session:p})}else n&&m.cookies?.push(...b.clean())}catch(a){j.error(new bT(a))}return m}async function hr(a,b){let c,d,{logger:e,provider:f}=b,g=f.authorization?.url;if(!g||"authjs.dev"===g.host){let a=new URL(f.issuer),b=await fL(a,{[fw]:f[ef],[ft]:!0}),c=await fO(a,b).catch(b=>{if(!(b instanceof TypeError)||"Invalid URL"!==b.message)throw b;throw TypeError(`Discovery request responded with an invalid issuer. expected: ${a}`)});if(!c.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");g=new URL(c.authorization_endpoint)}let h=g.searchParams,i=f.callbackUrl;!b.isOnRedirectProxy&&f.redirectProxyUrl&&(i=f.redirectProxyUrl,d=f.callbackUrl,e.debug("using redirect proxy",{redirect_uri:i,data:d}));let j=Object.assign({response_type:"code",client_id:f.clientId,redirect_uri:i,...f.authorization?.params},Object.fromEntries(f.authorization?.url.searchParams??[]),a);for(let a in j)h.set(a,j[a]);let k=[];f.authorization?.url.searchParams.get("response_mode")==="form_post"&&(b.cookies.state.options.sameSite="none",b.cookies.state.options.secure=!0,b.cookies.nonce.options.sameSite="none",b.cookies.nonce.options.secure=!0);let l=await g6.create(b,d);if(l&&(h.set("state",l.value),k.push(l.cookie)),f.checks?.includes("pkce"))if(c&&!c.code_challenge_methods_supported?.includes("S256"))"oidc"===f.type&&(f.checks=["nonce"]);else{let{value:a,cookie:c}=await g4.create(b);h.set("code_challenge",a),h.set("code_challenge_method","S256"),k.push(c)}let m=await g7.create(b);return m&&(h.set("nonce",m.value),k.push(m.cookie)),"oidc"!==f.type||g.searchParams.has("scope")||g.searchParams.set("scope","openid profile email"),e.debug("authorization url is ready",{url:g,cookies:k,provider:f}),{redirect:g.toString(),cookies:k}}async function hs(a,b){let c,{body:d}=a,{provider:e,callbacks:f,adapter:g}=b,h=(e.normalizeIdentifier??function(a){if(!a)throw Error("Missing email from request body.");let[b,c]=a.toLowerCase().trim().split("@");return c=c.split(",")[0],`${b}@${c}`})(d?.email),i={id:crypto.randomUUID(),email:h,emailVerified:null},j=await g.getUserByEmail(h)??i,k={providerAccountId:h,userId:j.id,type:"email",provider:e.id};try{c=await f.signIn({user:j,account:k,email:{verificationRequest:!0}})}catch(a){throw new bD(a)}if(!c)throw new bD("AccessDenied");if("string"==typeof c)return{redirect:await f.redirect({url:c,baseUrl:b.url.origin})};let{callbackUrl:l,theme:m}=b,n=await e.generateVerificationToken?.()??d8(32),o=new Date(Date.now()+(e.maxAge??86400)*1e3),p=e.secret??b.secret,q=new URL(b.basePath,b.url.origin),r=e.sendVerificationRequest({identifier:h,token:n,expires:o,url:`${q}/callback/${e.id}?${new URLSearchParams({callbackUrl:l,token:n,email:h})}`,provider:e,theme:m,request:new Request(a.url,{headers:a.headers,method:a.method,body:"POST"===a.method?JSON.stringify(a.body??{}):void 0})}),s=g.createVerificationToken?.({identifier:h,token:await d7(`${n}${p}`),expires:o});return await Promise.all([r,s]),{redirect:`${q}/verify-request?${new URLSearchParams({provider:e.id,type:e.type})}`}}async function ht(a,b,c){let d=`${c.url.origin}${c.basePath}/signin`;if(!c.provider)return{redirect:d,cookies:b};switch(c.provider.type){case"oauth":case"oidc":{let{redirect:d,cookies:e}=await hr(a.query,c);return e&&b.push(...e),{redirect:d,cookies:b}}case"email":return{...await hs(a,c),cookies:b};default:return{redirect:d,cookies:b}}}async function hu(a,b,c){let{jwt:d,events:e,callbackUrl:f,logger:g,session:h}=c,i=b.value;if(!i)return{redirect:f,cookies:a};try{if("jwt"===h.strategy){let a=c.cookies.sessionToken.name,b=await d.decode({...d,token:i,salt:a});await e.signOut?.({token:b})}else{let a=await c.adapter?.deleteSession(i);await e.signOut?.({session:a})}}catch(a){g.error(new bW(a))}return a.push(...b.clean()),{redirect:f,cookies:a}}async function hv(a,b){let{adapter:c,jwt:d,session:{strategy:e}}=a,f=b.value;if(!f)return null;if("jwt"===e){let b=a.cookies.sessionToken.name,c=await d.decode({...d,token:f,salt:b});if(c&&c.sub)return{id:c.sub,name:c.name,email:c.email,image:c.picture}}else{let a=await c?.getSessionAndUser(f);if(a)return a.user}return null}async function hw(a,b,c,d){let e=hk(b),{provider:f}=e,{action:g}=a.query??{};if("register"!==g&&"authenticate"!==g&&void 0!==g)return{status:400,body:{error:"Invalid action"},cookies:d,headers:{"Content-Type":"application/json"}};let h=await hv(b,c),i=h?{user:h,exists:!0}:await f.getUserInfo(b,a),j=i?.user;switch(function(a,b,c){let{user:d,exists:e=!1}=c??{};switch(a){case"authenticate":return"authenticate";case"register":if(d&&b===e)return"register";break;case void 0:if(!b)if(!d)return"authenticate";else if(e)return"authenticate";else return"register"}return null}(g,!!h,i)){case"authenticate":return hf(e,a,j,d);case"register":if("string"==typeof j?.email)return he(e,a,j,d);break;default:return{status:400,body:{error:"Invalid request"},cookies:d,headers:{"Content-Type":"application/json"}}}}async function hx(a,b){let{action:c,providerId:d,error:e,method:f}=a,g=b.skipCSRFCheck===ed,{options:h,cookies:i}=await em({authOptions:b,action:c,providerId:d,url:a.url,callbackUrl:a.body?.callbackUrl??a.query?.callbackUrl,csrfToken:a.body?.csrfToken,cookies:a.cookies,isPost:"POST"===f,csrfDisabled:g}),j=new bz(h.cookies.sessionToken,a.cookies,h.logger);if("GET"===f){let b=fm({...h,query:a.query,cookies:i});switch(c){case"callback":return await ho(a,h,j,i);case"csrf":return b.csrf(g,h,i);case"error":return b.error(e);case"providers":return b.providers(h.providers);case"session":return await hq(h,j,i);case"signin":return b.signin(d,e);case"signout":return b.signout();case"verify-request":return b.verifyRequest();case"webauthn-options":return await hw(a,h,j,i)}}else{let{csrfTokenVerified:b}=h;switch(c){case"callback":return"credentials"===h.provider.type&&ea(c,b),await ho(a,h,j,i);case"session":return ea(c,b),await hq(h,j,i,!0,a.body?.data);case"signin":return ea(c,b),await ht(a,i,h);case"signout":return ea(c,b),await hu(i,j,h)}}throw new bX(`Cannot handle action: ${c}`)}function hy(a,b,c,d,e){let f,g=e?.basePath,h=d.AUTH_URL??d.NEXTAUTH_URL;if(h)f=new URL(h),g&&"/"!==g&&"/"!==f.pathname&&(f.pathname!==g&&d0(e).warn("env-url-basepath-mismatch"),f.pathname="/");else{let a=c.get("x-forwarded-host")??c.get("host"),d=c.get("x-forwarded-proto")??b??"https",e=d.endsWith(":")?d:d+":";f=new URL(`${e}//${a}`)}let i=f.toString().replace(/\/$/,"");if(g){let b=g?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${i}/${b}/${a}`)}return new URL(`${i}/${a}`)}async function hz(a,b){let c=d0(b),d=await d5(a,b);if(!d)return Response.json("Bad request.",{status:400});let e=function(a,b){let{url:c}=a,d=[];if(!b7&&b.debug&&d.push("debug-enabled"),!b.trustHost)return new b$(`Host must be trusted. URL was: ${a.url}`);if(!b.secret?.length)return new bP("Please define a `secret`");let e=a.query?.callbackUrl;if(e&&!b8(e,c.origin))return new bH(`Invalid callback URL. Received: ${e}`);let{callbackUrl:f}=by(b.useSecureCookies??"https:"===c.protocol),g=a.cookies?.[b.cookies?.callbackUrl?.name??f.name];if(g&&!b8(g,c.origin))return new bH(`Invalid callback URL. Received: ${g}`);let h=!1;for(let a of b.providers){let b="function"==typeof a?a():a;if(("oauth"===b.type||"oidc"===b.type)&&!(b.issuer??b.options?.issuer)){let a,{authorization:c,token:d,userinfo:e}=b;if("string"==typeof c||c?.url?"string"==typeof d||d?.url?"string"==typeof e||e?.url||(a="userinfo"):a="token":a="authorization",a)return new bJ(`Provider "${b.id}" is missing both \`issuer\` and \`${a}\` endpoint config. At least one of them is required`)}if("credentials"===b.type)b9=!0;else if("email"===b.type)ca=!0;else if("webauthn"===b.type){var i;if(cb=!0,b.simpleWebAuthnBrowserVersion&&(i=b.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(i)))return new bA(`Invalid provider config for "${b.id}": simpleWebAuthnBrowserVersion "${b.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(b.enableConditionalUI){if(h)return new b2("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(h=!0,!Object.values(b.formFields).some(a=>a.autocomplete&&a.autocomplete.toString().indexOf("webauthn")>-1))return new b3(`Provider "${b.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(b9){let a=b.session?.strategy==="database",c=!b.providers.some(a=>"credentials"!==("function"==typeof a?a():a).type);if(a&&c)return new bY("Signing in with credentials only supported if JWT strategy is enabled");if(b.providers.some(a=>{let b="function"==typeof a?a():a;return"credentials"===b.type&&!b.authorize}))return new bO("Must define an authorize() handler to use credentials authentication provider")}let{adapter:j,session:k}=b,l=[];if(ca||k?.strategy==="database"||!k?.strategy&&j)if(ca){if(!j)return new bM("Email login requires an adapter");l.push(...cc)}else{if(!j)return new bM("Database session requires an adapter");l.push(...cd)}if(cb){if(!b.experimental?.enableWebAuthn)return new b6("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(d.push("experimental-webauthn"),!j)return new bM("WebAuthn requires an adapter");l.push(...ce)}if(j){let a=l.filter(a=>!(a in j));if(a.length)return new bN(`Required adapter methods were missing: ${a.join(", ")}`)}return b7||(b7=!0),d}(d,b);if(Array.isArray(e))e.forEach(c.warn);else if(e){if(c.error(e),!new Set(["signin","signout","error","verify-request"]).has(d.action)||"GET"!==d.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:a,theme:f}=b,g=a?.error&&d.url.searchParams.get("callbackUrl")?.startsWith(a.error);if(!a?.error||g)return g&&c.error(new bF(`The error page ${a?.error} should not require authentication`)),d6(fm({theme:f}).error("Configuration"));let h=`${d.url.origin}${a.error}?error=Configuration`;return Response.redirect(h)}let f=a.headers?.has("X-Auth-Return-Redirect"),g=b.raw===ee;try{let a=await hx(d,b);if(g)return a;let c=d6(a),e=c.headers.get("Location");if(!f||!e)return c;return Response.json({url:e},{headers:c.headers})}catch(l){c.error(l);let e=l instanceof bA;if(e&&g&&!f)throw l;if("POST"===a.method&&"session"===d.action)return Response.json(null,{status:400});let h=new URLSearchParams({error:l instanceof bA&&b1.has(l.type)?l.type:"Configuration"});l instanceof bI&&h.set("code",l.code);let i=e&&l.kind||"error",j=b.pages?.[i]??`${b.basePath}/${i.toLowerCase()}`,k=`${d.url.origin}${j}?${h}`;if(f)return Response.json({url:k});return Response.redirect(k)}}function hA(a){let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return a;let{origin:c}=new URL(b),{href:d,origin:e}=a.nextUrl;return new R(d.replace(e,c),a)}function hB(a){try{a.secret??(a.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let b=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!b)return;let{pathname:c}=new URL(b);if("/"===c)return;a.basePath||(a.basePath=c)}catch{}finally{a.basePath||(a.basePath="/api/auth"),function(a,b,c=!1){try{let d=a.AUTH_URL;d&&(b.basePath?c||d0(b).warn("env-url-basepath-redundant"):b.basePath=new URL(d).pathname)}catch{}finally{b.basePath??(b.basePath="/auth")}if(!b.secret?.length){b.secret=[];let c=a.AUTH_SECRET;for(let d of(c&&b.secret.push(c),[1,2,3])){let c=a[`AUTH_SECRET_${d}`];c&&b.secret.unshift(c)}}b.redirectProxyUrl??(b.redirectProxyUrl=a.AUTH_REDIRECT_PROXY_URL),b.trustHost??(b.trustHost=!!(a.AUTH_URL??a.AUTH_TRUST_HOST??a.VERCEL??a.CF_PAGES??"production"!==a.NODE_ENV)),b.providers=b.providers.map(b=>{let{id:c}="function"==typeof b?b({}):b,d=c.toUpperCase().replace(/-/g,"_"),e=a[`AUTH_${d}_ID`],f=a[`AUTH_${d}_SECRET`],g=a[`AUTH_${d}_ISSUER`],h=a[`AUTH_${d}_KEY`],i="function"==typeof b?b({clientId:e,clientSecret:f,issuer:g,apiKey:h}):b;return"oauth"===i.type||"oidc"===i.type?(i.clientId??(i.clientId=e),i.clientSecret??(i.clientSecret=f),i.issuer??(i.issuer=g)):"email"===i.type&&(i.apiKey??(i.apiKey=h)),i})}(process.env,a,!0)}}var hC=c(814);let hD={current:null},hE="function"==typeof hC.cache?hC.cache:a=>a,hF=console.warn;function hG(a){return function(...b){hF(a(...b))}}function hH(){let a="cookies",b=ab.J.getStore(),c=aO.FP.getStore();if(b){if(c&&"after"===c.phase&&!bk())throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(b.forceStatic)return hJ(ad.seal(new P.RequestCookies(new Headers({}))));if(b.dynamicShouldError)throw Object.defineProperty(new bi.f(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(c)switch(c.type){case"cache":let f=Object.defineProperty(Error(`Route ${b.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});throw Error.captureStackTrace(f,hH),b.invalidDynamicUsageError??=f,f;case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0});case"prerender":var d=b,e=c;let g=hI.get(e);if(g)return g;let h=(0,bj.W5)(e.renderSignal,d.route,"`cookies()`");return hI.set(e,h),h;case"prerender-client":let i="`cookies`";throw Object.defineProperty(new aR.z(`${i} must not be used within a client component. Next.js should be preventing ${i} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,bh.Ui)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,bh.xI)(a,b,c);case"prerender-runtime":return(0,bh.wi)(c,function(a){let b=hI.get(a);if(b)return b;let c=Promise.resolve(a);return hI.set(a,c),c}(c.cookies));case"private-cache":return hJ(c.cookies);case"request":return(0,bh.Pk)(c),hJ(ag(c)?c.userspaceMutableCookies:c.cookies)}}(0,aO.M1)(a)}hE(a=>{try{hF(hD.current)}finally{hD.current=null}});let hI=new WeakMap;function hJ(a){let b=hI.get(a);if(b)return b;let c=Promise.resolve(a);return hI.set(a,c),Object.defineProperties(c,{[Symbol.iterator]:{value:a[Symbol.iterator]?a[Symbol.iterator].bind(a):hK.bind(a)},size:{get:()=>a.size},get:{value:a.get.bind(a)},getAll:{value:a.getAll.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},delete:{value:a.delete.bind(a)},clear:{value:"function"==typeof a.clear?a.clear.bind(a):hL.bind(a,c)},toString:{value:a.toString.bind(a)}}),c}function hK(){return this.getAll().map(a=>[a.name,a]).values()}function hL(a){for(let a of this.getAll())this.delete(a.name);return a}function hM(){let a="headers",b=ab.J.getStore(),c=aO.FP.getStore();if(b){if(c&&"after"===c.phase&&!bk())throw Object.defineProperty(Error(`Route ${b.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(b.forceStatic)return hO(aa.seal(new Headers({})));if(c)switch(c.type){case"cache":{let a=Object.defineProperty(Error(`Route ${b.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,hM),b.invalidDynamicUsageError??=a,a}case"private-cache":{let a=Object.defineProperty(Error(`Route ${b.route} used "headers" inside "use cache: private". Accessing "headers" inside a private cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E742",enumerable:!1,configurable:!0});throw Error.captureStackTrace(a,hM),b.invalidDynamicUsageError??=a,a}case"unstable-cache":throw Object.defineProperty(Error(`Route ${b.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(b.dynamicShouldError)throw Object.defineProperty(new bi.f(`Route ${b.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(c)switch(c.type){case"prerender":case"prerender-runtime":var d=b,e=c;let f=hN.get(e);if(f)return f;let g=(0,bj.W5)(e.renderSignal,d.route,"`headers()`");return hN.set(e,g),g;case"prerender-client":let h="`headers`";throw Object.defineProperty(new aR.z(`${h} must not be used within a client component. Next.js should be preventing ${h} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,bh.Ui)(b.route,a,c.dynamicTracking);case"prerender-legacy":return(0,bh.xI)(a,b,c);case"request":return(0,bh.Pk)(c),hO(c.headers)}}(0,aO.M1)(a)}hG(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})});let hN=new WeakMap;function hO(a){let b=hN.get(a);if(b)return b;let c=Promise.resolve(a);return hN.set(a,c),Object.defineProperties(c,{append:{value:a.append.bind(a)},delete:{value:a.delete.bind(a)},get:{value:a.get.bind(a)},has:{value:a.has.bind(a)},set:{value:a.set.bind(a)},getSetCookie:{value:a.getSetCookie.bind(a)},forEach:{value:a.forEach.bind(a)},keys:{value:a.keys.bind(a)},values:{value:a.values.bind(a)},entries:{value:a.entries.bind(a)},[Symbol.iterator]:{value:a[Symbol.iterator].bind(a)}}),c}async function hP(a,b){return hz(new Request(hy("session",a.get("x-forwarded-proto"),a,process.env,b),{headers:{cookie:a.get("cookie")??""}}),{...b,callbacks:{...b.callbacks,async session(...a){let c=await b.callbacks?.session?.(...a)??{...a[0].session,expires:a[0].session.expires?.toISOString?.()??a[0].session.expires};return{user:a[0].user??a[0].token,...c}}}})}function hQ(a){return"function"==typeof a}function hR(a,b){return"function"==typeof a?async(...c)=>{if(!c.length){let c=await hM(),d=await a(void 0);return b?.(d),hP(c,d).then(a=>a.json())}if(c[0]instanceof Request){let d=c[0],e=c[1],f=await a(d);return b?.(f),hS([d,e],f)}if(hQ(c[0])){let d=c[0];return async(...c)=>{let e=await a(c[0]);return b?.(e),hS(c,e,d)}}let d="req"in c[0]?c[0].req:c[0],e="res"in c[0]?c[0].res:c[1],f=await a(d);return b?.(f),hP(new Headers(d.headers),f).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in e?e.headers.append("set-cookie",b):e.appendHeader("set-cookie",b);return b})}:(...b)=>{if(!b.length)return Promise.resolve(hM()).then(b=>hP(b,a).then(a=>a.json()));if(b[0]instanceof Request)return hS([b[0],b[1]],a);if(hQ(b[0])){let c=b[0];return async(...b)=>hS(b,a,c).then(a=>a)}let c="req"in b[0]?b[0].req:b[0],d="res"in b[0]?b[0].res:b[1];return hP(new Headers(c.headers),a).then(async a=>{let b=await a.json();for(let b of a.headers.getSetCookie())"headers"in d?d.headers.append("set-cookie",b):d.appendHeader("set-cookie",b);return b})}}async function hS(a,b,c){let d=hA(a[0]),e=await hP(d.headers,b),f=await e.json(),g=!0;b.callbacks?.authorized&&(g=await b.callbacks.authorized({request:d,auth:f}));let h=W.next?.();if(g instanceof Response){h=g;let a=g.headers.get("Location"),{pathname:c}=d.nextUrl;a&&function(a,b,c){let d=b.replace(`${a}/`,""),e=Object.values(c.pages??{});return(hT.has(d)||e.includes(b))&&b===a}(c,new URL(a).pathname,b)&&(g=!0)}else if(c)d.auth=f,h=await c(d,a[1])??W.next();else if(!g){let a=b.pages?.signIn??`${b.basePath}/signin`;if(d.nextUrl.pathname!==a){let b=d.nextUrl.clone();b.pathname=a,b.searchParams.set("callbackUrl",d.nextUrl.href),h=W.redirect(b)}}let i=new Response(h?.body,h);for(let a of e.headers.getSetCookie())i.headers.append("set-cookie",a);return i}hG(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})}),c(159),new WeakMap,hG(function(a,b){let c=a?`Route "${a}" `:"This route ";return Object.defineProperty(Error(`${c}used ${b}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})});let hT=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var hU=c(378),hV=c(944);let hW=c(918).s;function hX(a,b){var c;throw null!=b||(b=(null==hW||null==(c=hW.getStore())?void 0:c.isAction)?hV.zB.push:hV.zB.replace),function(a,b,c){void 0===c&&(c=hU.Q.TemporaryRedirect);let d=Object.defineProperty(Error(hV.oJ),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return d.digest=hV.oJ+";"+b+";"+a+";"+c+";",d}(a,b,hU.Q.TemporaryRedirect)}var hY=c(66);async function hZ(a,b={},c,d){let e=new Headers(await hM()),{redirect:f=!0,redirectTo:g,...h}=b instanceof FormData?Object.fromEntries(b):b,i=g?.toString()??e.get("Referer")??"/",j=hy("signin",e.get("x-forwarded-proto"),e,process.env,d);if(!a)return j.searchParams.append("callbackUrl",i),f&&hX(j.toString()),j.toString();let k=`${j}/${a}?${new URLSearchParams(c)}`,l={};for(let b of d.providers){let{options:c,...d}="function"==typeof b?b():b,e=c?.id??d.id;if(e===a){l={id:e,type:c?.type??d.type};break}}if(!l.id){let a=`${j}?${new URLSearchParams({callbackUrl:i})}`;return f&&hX(a),a}"credentials"===l.type&&(k=k.replace("signin","callback")),e.set("Content-Type","application/x-www-form-urlencoded");let m=new Request(k,{method:"POST",headers:e,body:new URLSearchParams({...h,callbackUrl:i})}),n=await hz(m,{...d,raw:ee,skipCSRFCheck:ed}),o=await hH();for(let a of n?.cookies??[])o.set(a.name,a.value,a.options);let p=(n instanceof Response?n.headers.get("Location"):n.redirect)??k;return f?hX(p):p}async function h$(a,b){let c=new Headers(await hM());c.set("Content-Type","application/x-www-form-urlencoded");let d=hy("signout",c.get("x-forwarded-proto"),c,process.env,b),e=new URLSearchParams({callbackUrl:a?.redirectTo??c.get("Referer")??"/"}),f=new Request(d,{method:"POST",headers:c,body:e}),g=await hz(f,{...b,raw:ee,skipCSRFCheck:ed}),h=await hH();for(let a of g?.cookies??[])h.set(a.name,a.value,a.options);return a?.redirect??!0?hX(g.redirect):g}async function h_(a,b){let c=new Headers(await hM());c.set("Content-Type","application/json");let d=new Request(hy("session",c.get("x-forwarded-proto"),c,process.env,b),{method:"POST",headers:c,body:JSON.stringify({data:a})}),e=await hz(d,{...b,raw:ee,skipCSRFCheck:ed}),f=await hH();for(let a of e?.cookies??[])f.set(a.name,a.value,a.options);return e.body}function h0(a){let b={};for(let c in a)void 0!==a[c]&&(b[c]=a[c]);return{data:b}}hY.s8,hY.s8,hY.s8,c(515).X;var h1=c(743);let h2=globalThis.prisma??new h1.PrismaClient,{handlers:h3,auth:h4,signIn:h5,signOut:h6}=function(a){if("function"==typeof a){let b=async b=>{let c=await a(b);return hB(c),hz(hA(b),c)};return{handlers:{GET:b,POST:b},auth:hR(a,a=>hB(a)),signIn:async(b,c,d)=>{let e=await a(void 0);return hB(e),hZ(b,c,d,e)},signOut:async b=>{let c=await a(void 0);return hB(c),h$(b,c)},unstable_update:async b=>{let c=await a(void 0);return hB(c),h_(b,c)}}}hB(a);let b=b=>hz(hA(b),a);return{handlers:{GET:b,POST:b},auth:hR(a),signIn:(b,c,d)=>hZ(b,c,d,a),signOut:b=>h$(b,a),unstable_update:b=>h_(b,a)}}({adapter:function(a){return{createUser:({id:b,...c})=>a.user.create(h0(c)),getUser:b=>a.user.findUnique({where:{id:b}}),getUserByEmail:b=>a.user.findUnique({where:{email:b}}),async getUserByAccount(b){let c=await a.account.findUnique({where:{provider_providerAccountId:b},include:{user:!0}});return c?.user??null},updateUser:({id:b,...c})=>a.user.update({where:{id:b},...h0(c)}),deleteUser:b=>a.user.delete({where:{id:b}}),linkAccount:b=>a.account.create({data:b}),unlinkAccount:b=>a.account.delete({where:{provider_providerAccountId:b}}),async getSessionAndUser(b){let c=await a.session.findUnique({where:{sessionToken:b},include:{user:!0}});if(!c)return null;let{user:d,...e}=c;return{user:d,session:e}},createSession:b=>a.session.create(h0(b)),updateSession:b=>a.session.update({where:{sessionToken:b.sessionToken},...h0(b)}),deleteSession:b=>a.session.delete({where:{sessionToken:b}}),async createVerificationToken(b){let c=await a.verificationToken.create(h0(b));return"id"in c&&c.id&&delete c.id,c},async useVerificationToken(b){try{let c=await a.verificationToken.delete({where:{identifier_token:b}});return"id"in c&&c.id&&delete c.id,c}catch(a){if(a&&"object"==typeof a&&"code"in a&&"P2025"===a.code)return null;throw a}},getAccount:async(b,c)=>a.account.findFirst({where:{providerAccountId:b,provider:c}}),createAuthenticator:async b=>a.authenticator.create(h0(b)),getAuthenticator:async b=>a.authenticator.findUnique({where:{credentialID:b}}),listAuthenticatorsByUserId:async b=>a.authenticator.findMany({where:{userId:b}}),updateAuthenticatorCounter:async(b,c)=>a.authenticator.update({where:{credentialID:b},data:{counter:c}})}}(h2),providers:[function(a){let b=a?.enterprise?.baseUrl??"https://github.com",c=a?.enterprise?.baseUrl?`${a?.enterprise?.baseUrl}/api/v3`:"https://api.github.com";return{id:"github",name:"GitHub",type:"oauth",authorization:{url:`${b}/login/oauth/authorize`,params:{scope:"read:user user:email"}},token:`${b}/login/oauth/access_token`,userinfo:{url:`${c}/user`,async request({tokens:a,provider:b}){let d=await fetch(b.userinfo?.url,{headers:{Authorization:`Bearer ${a.access_token}`,"User-Agent":"authjs"}}).then(async a=>await a.json());if(!d.email){let b=await fetch(`${c}/user/emails`,{headers:{Authorization:`Bearer ${a.access_token}`,"User-Agent":"authjs"}});if(b.ok){let a=await b.json();d.email=(a.find(a=>a.primary)??a[0]).email}}return d}},profile:a=>({id:a.id.toString(),name:a.name??a.login,email:a.email,image:a.avatar_url}),style:{bg:"#24292f",text:"#fff"},options:a}}({clientId:process.env.GITHUB_ID,clientSecret:process.env.GITHUB_SECRET}),{id:"google",name:"Google",type:"oidc",issuer:"https://accounts.google.com",style:{brandColor:"#1a73e8"},options:{clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET}}],pages:{signIn:"/auth/signin",signOut:"/auth/signout"},session:{strategy:"jwt"},callbacks:{async jwt({token:a,user:b}){if(b){a.id=b.id;let c=await h2.user.findUnique({where:{id:b.id},select:{role:!0}});a.role=c?.role||"FIELD"}return a},session:async({session:a,token:b})=>(b&&(a.user.id=b.id,a.user.role=b.role),a)}}),h7=h4(a=>{let{pathname:b}=a.nextUrl,c=a.auth?.user;return b.startsWith("/api/auth")||"/"===b||"/unauthorized"===b?W.next():c?!b.startsWith("/admin")||c.role&&["ADMIN","PM"].includes(c.role)?W.next():W.redirect(new URL("/unauthorized",a.url)):W.redirect(new URL("/api/auth/signin",a.url))}),h8={matcher:["/((?!api/auth|_next/static|_next/image|favicon.ico).*)"]};c(747);let h9={...j},ia=h9.middleware||h9.default,ib="/src/middleware";if("function"!=typeof ia)throw Object.defineProperty(Error(`The Middleware "${ib}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function ic(a){return bg({...a,page:ib,handler:async(...a)=>{try{return await ia(...a)}catch(e){let b=a[0],c=new URL(b.url),d=c.pathname+c.search;throw await n(e,{path:d,method:b.method,headers:Object.fromEntries(b.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),e}}})}},902:(a,b,c)=>{a.exports={...c(753)}},918:(a,b,c)=>{"use strict";c.d(b,{s:()=>d});let d=(0,c(58).xl)()},944:(a,b,c)=>{"use strict";c.d(b,{nJ:()=>g,oJ:()=>e,zB:()=>f});var d=c(378);let e="NEXT_REDIRECT";var f=function(a){return a.push="push",a.replace="replace",a}({});function g(a){if("object"!=typeof a||null===a||!("digest"in a)||"string"!=typeof a.digest)return!1;let b=a.digest.split(";"),[c,f]=b,g=b.slice(2,-2).join(";"),h=Number(b.at(-2));return c===e&&("replace"===f||"push"===f)&&"string"==typeof g&&!isNaN(h)&&h in d.Q}},979:(a,b,c)=>{"use strict";c.d(b,{f:()=>d});class d extends Error{constructor(...a){super(...a),this.code="NEXT_STATIC_GEN_BAILOUT"}}}},a=>{var b=a(a.s=819);(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES)["middleware_src/middleware"]=b}]);
//# sourceMappingURL=middleware.js.map